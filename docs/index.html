<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Data Science: A First Introduction</title>
  <meta name="description" content="This is a textbook for teaching a first introduction to data science." />
  <meta name="generator" content="bookdown 0.19 and GitBook 2.6.7" />

  <meta property="og:title" content="Data Science: A First Introduction" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a textbook for teaching a first introduction to data science." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Data Science: A First Introduction" />
  
  <meta name="twitter:description" content="This is a textbook for teaching a first introduction to data science." />
  

<meta name="author" content="Tiffany-Anne Timbers" />
<meta name="author" content="Trevor Campbell" />
<meta name="author" content="Melissa Lee" />


<meta name="date" content="2021-01-12" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  

<link rel="next" href="reading.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.9.2.1/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.1.0.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.0.1/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-1.52.2/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-1.52.2/plotly-latest.min.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data Science: A First Introduction</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> R, Jupyter, and the tidyverse</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#chapter-learning-objectives"><i class="fa fa-check"></i><b>1.1</b> Chapter learning objectives</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#jupyter-notebooks"><i class="fa fa-check"></i><b>1.2</b> Jupyter notebooks</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#loading-a-spreadsheet-like-dataset"><i class="fa fa-check"></i><b>1.3</b> Loading a spreadsheet-like dataset</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#assigning-value-to-a-data-frame"><i class="fa fa-check"></i><b>1.4</b> Assigning value to a data frame</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#creating-subsets-of-data-frames-with-select-filter"><i class="fa fa-check"></i><b>1.5</b> Creating subsets of data frames with <code>select</code> &amp; <code>filter</code></a><ul>
<li class="chapter" data-level="1.5.1" data-path="index.html"><a href="index.html#using-select-to-extract-multiple-columns"><i class="fa fa-check"></i><b>1.5.1</b> Using <code>select</code> to extract multiple columns</a></li>
<li class="chapter" data-level="1.5.2" data-path="index.html"><a href="index.html#using-select-to-extract-a-range-of-columns"><i class="fa fa-check"></i><b>1.5.2</b> Using <code>select</code> to extract a range of columns</a></li>
<li class="chapter" data-level="1.5.3" data-path="index.html"><a href="index.html#using-filter-to-extract-a-single-row"><i class="fa fa-check"></i><b>1.5.3</b> Using <code>filter</code> to extract a single row</a></li>
<li class="chapter" data-level="1.5.4" data-path="index.html"><a href="index.html#using-filter-to-extract-rows-with-values-above-a-threshold"><i class="fa fa-check"></i><b>1.5.4</b> Using <code>filter</code> to extract rows with values above a threshold</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="index.html"><a href="index.html#exploring-data-with-visualizations"><i class="fa fa-check"></i><b>1.6</b> Exploring data with visualizations</a><ul>
<li class="chapter" data-level="1.6.1" data-path="index.html"><a href="index.html#using-ggplot-to-create-a-scatter-plot"><i class="fa fa-check"></i><b>1.6.1</b> Using <code>ggplot</code> to create a scatter plot</a></li>
<li class="chapter" data-level="1.6.2" data-path="index.html"><a href="index.html#formatting-ggplot-objects"><i class="fa fa-check"></i><b>1.6.2</b> Formatting ggplot objects</a></li>
<li class="chapter" data-level="1.6.3" data-path="index.html"><a href="index.html#changing-the-units"><i class="fa fa-check"></i><b>1.6.3</b> Changing the units</a></li>
<li class="chapter" data-level="1.6.4" data-path="index.html"><a href="index.html#coloring-points-by-group"><i class="fa fa-check"></i><b>1.6.4</b> Coloring points by group</a></li>
<li class="chapter" data-level="1.6.5" data-path="index.html"><a href="index.html#putting-it-all-together"><i class="fa fa-check"></i><b>1.6.5</b> Putting it all together</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="reading.html"><a href="reading.html"><i class="fa fa-check"></i><b>2</b> Reading in data locally and from the web</a><ul>
<li class="chapter" data-level="2.1" data-path="reading.html"><a href="reading.html#overview"><i class="fa fa-check"></i><b>2.1</b> Overview</a></li>
<li class="chapter" data-level="2.2" data-path="reading.html"><a href="reading.html#chapter-learning-objectives-1"><i class="fa fa-check"></i><b>2.2</b> Chapter learning objectives</a></li>
<li class="chapter" data-level="2.3" data-path="reading.html"><a href="reading.html#absolute-and-relative-file-paths"><i class="fa fa-check"></i><b>2.3</b> Absolute and relative file paths</a></li>
<li class="chapter" data-level="2.4" data-path="reading.html"><a href="reading.html#reading-tabular-data-from-a-plain-text-file-into-r"><i class="fa fa-check"></i><b>2.4</b> Reading tabular data from a plain text file into R</a><ul>
<li class="chapter" data-level="2.4.1" data-path="reading.html"><a href="reading.html#skipping-rows-when-reading-in-data"><i class="fa fa-check"></i><b>2.4.1</b> Skipping rows when reading in data</a></li>
<li class="chapter" data-level="2.4.2" data-path="reading.html"><a href="reading.html#read_delim-as-a-more-flexible-method-to-get-tabular-data-into-r"><i class="fa fa-check"></i><b>2.4.2</b> <code>read_delim</code> as a more flexible method to get tabular data into R</a></li>
<li class="chapter" data-level="2.4.3" data-path="reading.html"><a href="reading.html#reading-tabular-data-directly-from-a-url"><i class="fa fa-check"></i><b>2.4.3</b> Reading tabular data directly from a URL</a></li>
<li class="chapter" data-level="2.4.4" data-path="reading.html"><a href="reading.html#previewing-a-data-file-before-reading-it-into-r"><i class="fa fa-check"></i><b>2.4.4</b> Previewing a data file before reading it into R</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="reading.html"><a href="reading.html#reading-data-from-an-microsoft-excel-file"><i class="fa fa-check"></i><b>2.5</b> Reading data from an Microsoft Excel file</a></li>
<li class="chapter" data-level="2.6" data-path="reading.html"><a href="reading.html#reading-data-from-a-database"><i class="fa fa-check"></i><b>2.6</b> Reading data from a database</a><ul>
<li class="chapter" data-level="2.6.1" data-path="reading.html"><a href="reading.html#connecting-to-a-database"><i class="fa fa-check"></i><b>2.6.1</b> Connecting to a database</a></li>
<li class="chapter" data-level="2.6.2" data-path="reading.html"><a href="reading.html#interacting-with-a-database"><i class="fa fa-check"></i><b>2.6.2</b> Interacting with a database</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="reading.html"><a href="reading.html#writing-data-from-r-to-a-.csv-file"><i class="fa fa-check"></i><b>2.7</b> Writing data from R to a <code>.csv</code> file</a></li>
<li class="chapter" data-level="2.8" data-path="reading.html"><a href="reading.html#scraping-data-off-the-web-using-r"><i class="fa fa-check"></i><b>2.8</b> Scraping data off the web using R</a><ul>
<li class="chapter" data-level="2.8.1" data-path="reading.html"><a href="reading.html#html-and-css-selectors"><i class="fa fa-check"></i><b>2.8.1</b> HTML and CSS selectors</a></li>
<li class="chapter" data-level="2.8.2" data-path="reading.html"><a href="reading.html#are-you-allowed-to-scrape-that-website"><i class="fa fa-check"></i><b>2.8.2</b> Are you allowed to scrape that website?</a></li>
<li class="chapter" data-level="2.8.3" data-path="reading.html"><a href="reading.html#using-rvest"><i class="fa fa-check"></i><b>2.8.3</b> Using <code>rvest</code></a></li>
</ul></li>
<li class="chapter" data-level="2.9" data-path="reading.html"><a href="reading.html#additional-resources"><i class="fa fa-check"></i><b>2.9</b> Additional resources</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="wrangling.html"><a href="wrangling.html"><i class="fa fa-check"></i><b>3</b> Cleaning and wrangling data</a><ul>
<li class="chapter" data-level="3.1" data-path="wrangling.html"><a href="wrangling.html#overview-1"><i class="fa fa-check"></i><b>3.1</b> Overview</a></li>
<li class="chapter" data-level="3.2" data-path="wrangling.html"><a href="wrangling.html#chapter-learning-objectives-2"><i class="fa fa-check"></i><b>3.2</b> Chapter learning objectives</a></li>
<li class="chapter" data-level="3.3" data-path="wrangling.html"><a href="wrangling.html#vectors-and-data-frames"><i class="fa fa-check"></i><b>3.3</b> Vectors and Data frames</a><ul>
<li class="chapter" data-level="3.3.1" data-path="wrangling.html"><a href="wrangling.html#what-is-a-data-frame"><i class="fa fa-check"></i><b>3.3.1</b> What is a data frame?</a></li>
<li class="chapter" data-level="3.3.2" data-path="wrangling.html"><a href="wrangling.html#what-is-a-vector"><i class="fa fa-check"></i><b>3.3.2</b> What is a vector?</a></li>
<li class="chapter" data-level="3.3.3" data-path="wrangling.html"><a href="wrangling.html#how-are-vectors-different-from-a-list"><i class="fa fa-check"></i><b>3.3.3</b> How are vectors different from a list?</a></li>
<li class="chapter" data-level="3.3.4" data-path="wrangling.html"><a href="wrangling.html#what-does-this-have-to-do-with-data-frames"><i class="fa fa-check"></i><b>3.3.4</b> What does this have to do with data frames?</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="wrangling.html"><a href="wrangling.html#tidy-data"><i class="fa fa-check"></i><b>3.4</b> Tidy Data</a><ul>
<li class="chapter" data-level="3.4.1" data-path="wrangling.html"><a href="wrangling.html#what-is-tidy-data"><i class="fa fa-check"></i><b>3.4.1</b> What is tidy data?</a></li>
<li class="chapter" data-level="3.4.2" data-path="wrangling.html"><a href="wrangling.html#why-is-tidy-data-important-in-r"><i class="fa fa-check"></i><b>3.4.2</b> Why is tidy data important in R?</a></li>
<li class="chapter" data-level="3.4.3" data-path="wrangling.html"><a href="wrangling.html#going-from-wide-to-long-or-tidy-using-pivot_longer"><i class="fa fa-check"></i><b>3.4.3</b> Going from wide to long (or tidy!) using <code>pivot_longer</code></a></li>
<li class="chapter" data-level="3.4.4" data-path="wrangling.html"><a href="wrangling.html#going-from-long-to-wide-using-pivot_wider"><i class="fa fa-check"></i><b>3.4.4</b> Going from long to wide using <code>pivot_wider</code></a></li>
<li class="chapter" data-level="3.4.5" data-path="wrangling.html"><a href="wrangling.html#using-separate-to-deal-with-multiple-delimiters"><i class="fa fa-check"></i><b>3.4.5</b> Using <code>separate</code> to deal with multiple delimiters</a></li>
<li class="chapter" data-level="3.4.6" data-path="wrangling.html"><a href="wrangling.html#notes-on-defining-tidy-data"><i class="fa fa-check"></i><b>3.4.6</b> Notes on defining tidy data</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="wrangling.html"><a href="wrangling.html#combining-functions-using-the-pipe-operator"><i class="fa fa-check"></i><b>3.5</b> Combining functions using the pipe operator, <code>%&gt;%</code>:</a><ul>
<li class="chapter" data-level="3.5.1" data-path="wrangling.html"><a href="wrangling.html#using-to-combine-filter-and-select"><i class="fa fa-check"></i><b>3.5.1</b> Using <code>%&gt;%</code> to combine <code>filter</code> and <code>select</code></a></li>
<li class="chapter" data-level="3.5.2" data-path="wrangling.html"><a href="wrangling.html#using-with-more-than-two-functions"><i class="fa fa-check"></i><b>3.5.2</b> Using <code>%&gt;%</code> with more than two functions</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="wrangling.html"><a href="wrangling.html#iterating-over-data-with-group_by-summarize"><i class="fa fa-check"></i><b>3.6</b> Iterating over data with <code>group_by</code> + <code>summarize</code></a><ul>
<li class="chapter" data-level="3.6.1" data-path="wrangling.html"><a href="wrangling.html#calculating-summary-statistics"><i class="fa fa-check"></i><b>3.6.1</b> Calculating summary statistics:</a></li>
<li class="chapter" data-level="3.6.2" data-path="wrangling.html"><a href="wrangling.html#calculating-group-summary-statistics"><i class="fa fa-check"></i><b>3.6.2</b> Calculating group summary statistics:</a></li>
<li class="chapter" data-level="3.6.3" data-path="wrangling.html"><a href="wrangling.html#additional-reading-on-the-dplyr-functions"><i class="fa fa-check"></i><b>3.6.3</b> Additional reading on the <code>dplyr</code> functions</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="wrangling.html"><a href="wrangling.html#using-purrrs-map-functions-to-iterate"><i class="fa fa-check"></i><b>3.7</b> Using <code>purrr</code>’s <code>map*</code> functions to iterate</a></li>
<li class="chapter" data-level="3.8" data-path="wrangling.html"><a href="wrangling.html#additional-resources-1"><i class="fa fa-check"></i><b>3.8</b> Additional resources</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="viz.html"><a href="viz.html"><i class="fa fa-check"></i><b>4</b> Effective data visualization</a><ul>
<li class="chapter" data-level="4.1" data-path="viz.html"><a href="viz.html#overview-2"><i class="fa fa-check"></i><b>4.1</b> Overview</a></li>
<li class="chapter" data-level="4.2" data-path="viz.html"><a href="viz.html#chapter-learning-objectives-3"><i class="fa fa-check"></i><b>4.2</b> Chapter learning objectives</a></li>
<li class="chapter" data-level="4.3" data-path="viz.html"><a href="viz.html#choosing-the-visualization"><i class="fa fa-check"></i><b>4.3</b> Choosing the visualization</a></li>
<li class="chapter" data-level="4.4" data-path="viz.html"><a href="viz.html#refining-the-visualization"><i class="fa fa-check"></i><b>4.4</b> Refining the visualization</a></li>
<li class="chapter" data-level="4.5" data-path="viz.html"><a href="viz.html#creating-visualizations-with-ggplot2"><i class="fa fa-check"></i><b>4.5</b> Creating visualizations with <code>ggplot2</code></a><ul>
<li class="chapter" data-level="4.5.1" data-path="viz.html"><a href="viz.html#the-mauna-loa-co2-data-set"><i class="fa fa-check"></i><b>4.5.1</b> The Mauna Loa CO2 data set</a></li>
<li class="chapter" data-level="4.5.2" data-path="viz.html"><a href="viz.html#the-island-landmass-data-set"><i class="fa fa-check"></i><b>4.5.2</b> The island landmass data set</a></li>
<li class="chapter" data-level="4.5.3" data-path="viz.html"><a href="viz.html#the-old-faithful-eruptionwaiting-time-data-set"><i class="fa fa-check"></i><b>4.5.3</b> The Old Faithful eruption/waiting time data set</a></li>
<li class="chapter" data-level="4.5.4" data-path="viz.html"><a href="viz.html#the-michelson-speed-of-light-data-set"><i class="fa fa-check"></i><b>4.5.4</b> The Michelson speed of light data set</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="viz.html"><a href="viz.html#explaining-the-visualization"><i class="fa fa-check"></i><b>4.6</b> Explaining the visualization</a></li>
<li class="chapter" data-level="4.7" data-path="viz.html"><a href="viz.html#saving-the-visualization"><i class="fa fa-check"></i><b>4.7</b> Saving the visualization</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="version-control.html"><a href="version-control.html"><i class="fa fa-check"></i><b>5</b> Collaboration with version control</a><ul>
<li class="chapter" data-level="5.1" data-path="version-control.html"><a href="version-control.html#overview-3"><i class="fa fa-check"></i><b>5.1</b> Overview</a></li>
<li class="chapter" data-level="5.2" data-path="version-control.html"><a href="version-control.html#chapter-learning-objectives-4"><i class="fa fa-check"></i><b>5.2</b> Chapter learning objectives</a></li>
<li class="chapter" data-level="5.3" data-path="version-control.html"><a href="version-control.html#what-is-version-control-and-why-should-i-use-it"><i class="fa fa-check"></i><b>5.3</b> What is version control, and why should I use it?</a></li>
<li class="chapter" data-level="5.4" data-path="version-control.html"><a href="version-control.html#creating-a-space-for-your-project-online"><i class="fa fa-check"></i><b>5.4</b> Creating a space for your project online</a></li>
<li class="chapter" data-level="5.5" data-path="version-control.html"><a href="version-control.html#creating-and-editing-files-on-github"><i class="fa fa-check"></i><b>5.5</b> Creating and editing files on GitHub</a><ul>
<li class="chapter" data-level="5.5.1" data-path="version-control.html"><a href="version-control.html#the-pen-tool"><i class="fa fa-check"></i><b>5.5.1</b> The pen tool</a></li>
<li class="chapter" data-level="5.5.2" data-path="version-control.html"><a href="version-control.html#the-add-file-menu"><i class="fa fa-check"></i><b>5.5.2</b> The “Add file” menu</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="version-control.html"><a href="version-control.html#cloning-your-repository-on-jupyterhub"><i class="fa fa-check"></i><b>5.6</b> Cloning your repository on JupyterHub</a></li>
<li class="chapter" data-level="5.7" data-path="version-control.html"><a href="version-control.html#working-in-a-cloned-repository-on-jupyterhub"><i class="fa fa-check"></i><b>5.7</b> Working in a cloned repository on JupyterHub</a><ul>
<li class="chapter" data-level="5.7.1" data-path="version-control.html"><a href="version-control.html#specifying-files-to-commit"><i class="fa fa-check"></i><b>5.7.1</b> Specifying files to commit</a></li>
<li class="chapter" data-level="5.7.2" data-path="version-control.html"><a href="version-control.html#making-the-commit"><i class="fa fa-check"></i><b>5.7.2</b> Making the commit</a></li>
<li class="chapter" data-level="5.7.3" data-path="version-control.html"><a href="version-control.html#pushing-the-commits-to-github"><i class="fa fa-check"></i><b>5.7.3</b> Pushing the commits to GitHub</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="version-control.html"><a href="version-control.html#collaboration"><i class="fa fa-check"></i><b>5.8</b> Collaboration</a><ul>
<li class="chapter" data-level="5.8.1" data-path="version-control.html"><a href="version-control.html#giving-collaborators-access-to-your-project"><i class="fa fa-check"></i><b>5.8.1</b> Giving collaborators access to your project</a></li>
<li class="chapter" data-level="5.8.2" data-path="version-control.html"><a href="version-control.html#pulling-changes-from-github"><i class="fa fa-check"></i><b>5.8.2</b> Pulling changes from GitHub</a></li>
<li class="chapter" data-level="5.8.3" data-path="version-control.html"><a href="version-control.html#handling-merge-conflicts"><i class="fa fa-check"></i><b>5.8.3</b> Handling merge conflicts</a></li>
<li class="chapter" data-level="5.8.4" data-path="version-control.html"><a href="version-control.html#communicating-using-github-issues"><i class="fa fa-check"></i><b>5.8.4</b> Communicating using GitHub issues</a></li>
</ul></li>
<li class="chapter" data-level="5.9" data-path="version-control.html"><a href="version-control.html#additional-resources-2"><i class="fa fa-check"></i><b>5.9</b> Additional resources</a><ul>
<li class="chapter" data-level="5.9.1" data-path="version-control.html"><a href="version-control.html#best-practices-and-workflows"><i class="fa fa-check"></i><b>5.9.1</b> Best practices and workflows</a></li>
<li class="chapter" data-level="5.9.2" data-path="version-control.html"><a href="version-control.html#technical-references"><i class="fa fa-check"></i><b>5.9.2</b> Technical references</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="classification.html"><a href="classification.html"><i class="fa fa-check"></i><b>6</b> Classification I: training &amp; predicting</a><ul>
<li class="chapter" data-level="6.1" data-path="classification.html"><a href="classification.html#overview-4"><i class="fa fa-check"></i><b>6.1</b> Overview</a></li>
<li class="chapter" data-level="6.2" data-path="classification.html"><a href="classification.html#chapter-learning-objectives-5"><i class="fa fa-check"></i><b>6.2</b> Chapter learning objectives</a></li>
<li class="chapter" data-level="6.3" data-path="classification.html"><a href="classification.html#the-classification-problem"><i class="fa fa-check"></i><b>6.3</b> The classification problem</a></li>
<li class="chapter" data-level="6.4" data-path="classification.html"><a href="classification.html#exploring-a-labelled-data-set"><i class="fa fa-check"></i><b>6.4</b> Exploring a labelled data set</a></li>
<li class="chapter" data-level="6.5" data-path="classification.html"><a href="classification.html#classification-with-k-nearest-neighbours"><i class="fa fa-check"></i><b>6.5</b> Classification with K-nearest neighbours</a></li>
<li class="chapter" data-level="6.6" data-path="classification.html"><a href="classification.html#k-nearest-neighbours-with-tidymodels"><i class="fa fa-check"></i><b>6.6</b> K-nearest neighbours with <code>tidymodels</code></a></li>
<li class="chapter" data-level="6.7" data-path="classification.html"><a href="classification.html#data-preprocessing-with-tidymodels"><i class="fa fa-check"></i><b>6.7</b> Data preprocessing with <code>tidymodels</code></a><ul>
<li class="chapter" data-level="6.7.1" data-path="classification.html"><a href="classification.html#centering-and-scaling"><i class="fa fa-check"></i><b>6.7.1</b> Centering and scaling</a></li>
<li class="chapter" data-level="6.7.2" data-path="classification.html"><a href="classification.html#balancing"><i class="fa fa-check"></i><b>6.7.2</b> Balancing</a></li>
</ul></li>
<li class="chapter" data-level="6.8" data-path="classification.html"><a href="classification.html#putting-it-together-in-a-workflow"><i class="fa fa-check"></i><b>6.8</b> Putting it together in a <code>workflow</code></a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="classification-continued.html"><a href="classification-continued.html"><i class="fa fa-check"></i><b>7</b> Classification II: evaluation &amp; tuning</a><ul>
<li class="chapter" data-level="7.1" data-path="classification-continued.html"><a href="classification-continued.html#overview-5"><i class="fa fa-check"></i><b>7.1</b> Overview</a></li>
<li class="chapter" data-level="7.2" data-path="classification-continued.html"><a href="classification-continued.html#chapter-learning-objectives-6"><i class="fa fa-check"></i><b>7.2</b> Chapter learning objectives</a></li>
<li class="chapter" data-level="7.3" data-path="classification-continued.html"><a href="classification-continued.html#evaluating-accuracy"><i class="fa fa-check"></i><b>7.3</b> Evaluating accuracy</a></li>
<li class="chapter" data-level="7.4" data-path="classification-continued.html"><a href="classification-continued.html#tuning-the-classifier"><i class="fa fa-check"></i><b>7.4</b> Tuning the classifier</a><ul>
<li class="chapter" data-level="7.4.1" data-path="classification-continued.html"><a href="classification-continued.html#cross-validation"><i class="fa fa-check"></i><b>7.4.1</b> Cross-validation</a></li>
<li class="chapter" data-level="7.4.2" data-path="classification-continued.html"><a href="classification-continued.html#parameter-value-selection"><i class="fa fa-check"></i><b>7.4.2</b> Parameter value selection</a></li>
<li class="chapter" data-level="7.4.3" data-path="classification-continued.html"><a href="classification-continued.html#underoverfitting"><i class="fa fa-check"></i><b>7.4.3</b> Under/overfitting</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="classification-continued.html"><a href="classification-continued.html#splitting-data"><i class="fa fa-check"></i><b>7.5</b> Splitting data</a></li>
<li class="chapter" data-level="7.6" data-path="classification-continued.html"><a href="classification-continued.html#summary"><i class="fa fa-check"></i><b>7.6</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="regression1.html"><a href="regression1.html"><i class="fa fa-check"></i><b>8</b> Regression I: K-nearest neighbours</a><ul>
<li class="chapter" data-level="8.1" data-path="regression1.html"><a href="regression1.html#overview-6"><i class="fa fa-check"></i><b>8.1</b> Overview</a></li>
<li class="chapter" data-level="8.2" data-path="regression1.html"><a href="regression1.html#chapter-learning-objectives-7"><i class="fa fa-check"></i><b>8.2</b> Chapter learning objectives</a></li>
<li class="chapter" data-level="8.3" data-path="regression1.html"><a href="regression1.html#regression"><i class="fa fa-check"></i><b>8.3</b> Regression</a></li>
<li class="chapter" data-level="8.4" data-path="regression1.html"><a href="regression1.html#sacremento-real-estate-example"><i class="fa fa-check"></i><b>8.4</b> Sacremento real estate example</a></li>
<li class="chapter" data-level="8.5" data-path="regression1.html"><a href="regression1.html#k-nearest-neighbours-regression"><i class="fa fa-check"></i><b>8.5</b> K-nearest neighbours regression</a></li>
<li class="chapter" data-level="8.6" data-path="regression1.html"><a href="regression1.html#training-evaluating-and-tuning-the-model"><i class="fa fa-check"></i><b>8.6</b> Training, evaluating, and tuning the model</a></li>
<li class="chapter" data-level="8.7" data-path="regression1.html"><a href="regression1.html#underfitting-and-overfitting"><i class="fa fa-check"></i><b>8.7</b> Underfitting and overfitting</a></li>
<li class="chapter" data-level="8.8" data-path="regression1.html"><a href="regression1.html#evaluating-on-the-test-set"><i class="fa fa-check"></i><b>8.8</b> Evaluating on the test set</a></li>
<li class="chapter" data-level="8.9" data-path="regression1.html"><a href="regression1.html#strengths-and-limitations-of-k-nn-regression"><i class="fa fa-check"></i><b>8.9</b> Strengths and limitations of K-NN regression</a></li>
<li class="chapter" data-level="8.10" data-path="regression1.html"><a href="regression1.html#multivariate-k-nn-regression"><i class="fa fa-check"></i><b>8.10</b> Multivariate K-NN regression</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="regression2.html"><a href="regression2.html"><i class="fa fa-check"></i><b>9</b> Regression II: linear regression</a><ul>
<li class="chapter" data-level="9.1" data-path="regression2.html"><a href="regression2.html#overview-7"><i class="fa fa-check"></i><b>9.1</b> Overview</a></li>
<li class="chapter" data-level="9.2" data-path="regression2.html"><a href="regression2.html#chapter-learning-objectives-8"><i class="fa fa-check"></i><b>9.2</b> Chapter learning objectives</a></li>
<li class="chapter" data-level="9.3" data-path="regression2.html"><a href="regression2.html#simple-linear-regression"><i class="fa fa-check"></i><b>9.3</b> Simple linear regression</a></li>
<li class="chapter" data-level="9.4" data-path="regression2.html"><a href="regression2.html#linear-regression-in-r"><i class="fa fa-check"></i><b>9.4</b> Linear regression in R</a></li>
<li class="chapter" data-level="9.5" data-path="regression2.html"><a href="regression2.html#comparing-simple-linear-and-k-nn-regression"><i class="fa fa-check"></i><b>9.5</b> Comparing simple linear and K-NN regression</a></li>
<li class="chapter" data-level="9.6" data-path="regression2.html"><a href="regression2.html#multivariate-linear-regression"><i class="fa fa-check"></i><b>9.6</b> Multivariate linear regression</a></li>
<li class="chapter" data-level="9.7" data-path="regression2.html"><a href="regression2.html#the-other-side-of-regression"><i class="fa fa-check"></i><b>9.7</b> The other side of regression</a></li>
<li class="chapter" data-level="9.8" data-path="regression2.html"><a href="regression2.html#additional-resources-3"><i class="fa fa-check"></i><b>9.8</b> Additional resources</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="clustering.html"><a href="clustering.html"><i class="fa fa-check"></i><b>10</b> Clustering</a><ul>
<li class="chapter" data-level="10.1" data-path="clustering.html"><a href="clustering.html#overview-8"><i class="fa fa-check"></i><b>10.1</b> Overview</a></li>
<li class="chapter" data-level="10.2" data-path="clustering.html"><a href="clustering.html#chapter-learning-objectives-9"><i class="fa fa-check"></i><b>10.2</b> Chapter learning objectives</a></li>
<li class="chapter" data-level="10.3" data-path="clustering.html"><a href="clustering.html#clustering-1"><i class="fa fa-check"></i><b>10.3</b> Clustering</a></li>
<li class="chapter" data-level="10.4" data-path="clustering.html"><a href="clustering.html#k-means"><i class="fa fa-check"></i><b>10.4</b> K-means</a><ul>
<li class="chapter" data-level="10.4.1" data-path="clustering.html"><a href="clustering.html#measuring-cluster-quality"><i class="fa fa-check"></i><b>10.4.1</b> Measuring cluster quality</a></li>
<li class="chapter" data-level="10.4.2" data-path="clustering.html"><a href="clustering.html#the-clustering-algorithm"><i class="fa fa-check"></i><b>10.4.2</b> The clustering algorithm</a></li>
<li class="chapter" data-level="10.4.3" data-path="clustering.html"><a href="clustering.html#random-restarts"><i class="fa fa-check"></i><b>10.4.3</b> Random restarts</a></li>
<li class="chapter" data-level="10.4.4" data-path="clustering.html"><a href="clustering.html#choosing-k"><i class="fa fa-check"></i><b>10.4.4</b> Choosing K</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="clustering.html"><a href="clustering.html#data-pre-processing-for-k-means"><i class="fa fa-check"></i><b>10.5</b> Data pre-processing for K-means</a></li>
<li class="chapter" data-level="10.6" data-path="clustering.html"><a href="clustering.html#k-means-in-r"><i class="fa fa-check"></i><b>10.6</b> K-means in R</a></li>
<li class="chapter" data-level="10.7" data-path="clustering.html"><a href="clustering.html#additional-resources-4"><i class="fa fa-check"></i><b>10.7</b> Additional resources</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="inference.html"><a href="inference.html"><i class="fa fa-check"></i><b>11</b> Introduction to Statistical Inference</a><ul>
<li class="chapter" data-level="11.1" data-path="inference.html"><a href="inference.html#overview-9"><i class="fa fa-check"></i><b>11.1</b> Overview</a></li>
<li class="chapter" data-level="11.2" data-path="inference.html"><a href="inference.html#chapter-learning-objectives-10"><i class="fa fa-check"></i><b>11.2</b> Chapter learning objectives</a></li>
<li class="chapter" data-level="11.3" data-path="inference.html"><a href="inference.html#why-do-we-need-sampling"><i class="fa fa-check"></i><b>11.3</b> Why do we need sampling?</a></li>
<li class="chapter" data-level="11.4" data-path="inference.html"><a href="inference.html#sampling-distributions"><i class="fa fa-check"></i><b>11.4</b> Sampling distributions</a><ul>
<li class="chapter" data-level="11.4.1" data-path="inference.html"><a href="inference.html#sampling-distributions-for-proportions"><i class="fa fa-check"></i><b>11.4.1</b> Sampling distributions for proportions</a></li>
<li class="chapter" data-level="11.4.2" data-path="inference.html"><a href="inference.html#sampling-distributions-for-means"><i class="fa fa-check"></i><b>11.4.2</b> Sampling distributions for means</a></li>
<li class="chapter" data-level="11.4.3" data-path="inference.html"><a href="inference.html#summary-1"><i class="fa fa-check"></i><b>11.4.3</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="inference.html"><a href="inference.html#bootstrapping"><i class="fa fa-check"></i><b>11.5</b> Bootstrapping</a><ul>
<li class="chapter" data-level="11.5.1" data-path="inference.html"><a href="inference.html#overview-10"><i class="fa fa-check"></i><b>11.5.1</b> Overview</a></li>
<li class="chapter" data-level="11.5.2" data-path="inference.html"><a href="inference.html#bootstrapping-in-r"><i class="fa fa-check"></i><b>11.5.2</b> Bootstrapping in R</a></li>
<li class="chapter" data-level="11.5.3" data-path="inference.html"><a href="inference.html#using-the-bootstrap-to-calculate-a-plausible-range"><i class="fa fa-check"></i><b>11.5.3</b> Using the bootstrap to calculate a plausible range</a></li>
</ul></li>
<li class="chapter" data-level="11.6" data-path="inference.html"><a href="inference.html#additional-resources-5"><i class="fa fa-check"></i><b>11.6</b> Additional resources</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="move-to-your-own-machine.html"><a href="move-to-your-own-machine.html"><i class="fa fa-check"></i><b>12</b> Moving to your own machine</a><ul>
<li class="chapter" data-level="12.1" data-path="move-to-your-own-machine.html"><a href="move-to-your-own-machine.html#overview-11"><i class="fa fa-check"></i><b>12.1</b> Overview</a></li>
<li class="chapter" data-level="12.2" data-path="move-to-your-own-machine.html"><a href="move-to-your-own-machine.html#chapter-learning-objectives-11"><i class="fa fa-check"></i><b>12.2</b> Chapter learning objectives</a></li>
<li class="chapter" data-level="12.3" data-path="move-to-your-own-machine.html"><a href="move-to-your-own-machine.html#installing-software-on-your-own-computer"><i class="fa fa-check"></i><b>12.3</b> Installing software on your own computer</a><ul>
<li class="chapter" data-level="12.3.1" data-path="move-to-your-own-machine.html"><a href="move-to-your-own-machine.html#git"><i class="fa fa-check"></i><b>12.3.1</b> Git</a></li>
<li class="chapter" data-level="12.3.2" data-path="move-to-your-own-machine.html"><a href="move-to-your-own-machine.html#miniconda"><i class="fa fa-check"></i><b>12.3.2</b> Miniconda</a></li>
<li class="chapter" data-level="12.3.3" data-path="move-to-your-own-machine.html"><a href="move-to-your-own-machine.html#jupyterlab"><i class="fa fa-check"></i><b>12.3.3</b> JupyterLab</a></li>
<li class="chapter" data-level="12.3.4" data-path="move-to-your-own-machine.html"><a href="move-to-your-own-machine.html#r-and-the-irkernel"><i class="fa fa-check"></i><b>12.3.4</b> R and the IRkernel</a></li>
<li class="chapter" data-level="12.3.5" data-path="move-to-your-own-machine.html"><a href="move-to-your-own-machine.html#r-packages"><i class="fa fa-check"></i><b>12.3.5</b> R packages</a></li>
<li class="chapter" data-level="12.3.6" data-path="move-to-your-own-machine.html"><a href="move-to-your-own-machine.html#latex"><i class="fa fa-check"></i><b>12.3.6</b> LaTeX</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="move-to-your-own-machine.html"><a href="move-to-your-own-machine.html#moving-files-to-your-computer"><i class="fa fa-check"></i><b>12.4</b> Moving files to your computer</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Science: A First Introduction</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="header">
<h1 class="title">Data Science: A First Introduction</h1>
<p class="author"><em>Tiffany-Anne Timbers</em></p>
<p class="author"><em>Trevor Campbell</em></p>
<p class="author"><em>Melissa Lee</em></p>
<p class="date"><em>2021-01-12</em></p>
</div>
<div id="r-jupyter-and-the-tidyverse" class="section level1">
<h1><span class="header-section-number">Chapter 1</span> R, Jupyter, and the tidyverse</h1>
<p>This is an open source textbook aimed at introducing undergraduate students to data science. It was originally written for the University of British Columbia’s <a href="https://ubc-dsci.github.io/dsci-100/">DSCI 100 - Introduction to Data Science</a> course. In this book, we define data science as the study and development of reproducible, auditable processes to obtain value (i.e., insight) from data.</p>
<p>The book is structured so that learners spend the first four chapters learning how to use the R programming language and Jupyter notebooks to load, wrangle/clean, and visualize data, while answering descriptive and exploratory data analysis questions. The remaining chapters illustrate how to solve four common problems in data science, which are useful for answering predictive and inferential data analysis questions:</p>
<ol style="list-style-type: decimal">
<li>Predicting a class/category for a new observation/measurement (e.g., cancerous or benign tumour)</li>
<li>Predicting a value for a new observation/measurement (e.g., 10 km race time for 20 year old females with a BMI of 25).</li>
<li>Finding previously unknown/unlabelled subgroups in your data (e.g., products commonly bought together on Amazon)</li>
<li>Estimating an average or a proportion from a representative sample (group of people or units) and using that estimate to generalize to the broader population (e.g., the proportion of undergraduate students that own an iphone)</li>
</ol>
<p>For each of these problems, we map them to the type of data analysis question being asked and discuss what kinds of data are needed to answer such questions <span class="citation">(Leek and Peng <a href="#ref-leek2015question" role="doc-biblioref">2015</a>; Peng and Matsui <a href="#ref-peng2015art" role="doc-biblioref">2015</a>)</span>. More advanced (e.g., causal or mechanistic) data analysis questions are beyond the scope of this text.</p>
<p><strong>Types of data analysis questions</strong></p>
<table>
<colgroup>
<col width="40%" />
<col width="35%" />
<col width="24%" />
</colgroup>
<thead>
<tr class="header">
<th>Question type</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Descriptive</td>
<td>A question which asks about summarized characteristics of a data set without interpretation (i.e., report a fact).</td>
<td>How many people live in each province or territory in Canada?</td>
</tr>
<tr class="even">
<td>Exploratory</td>
<td>A question asks if there are patterns, trends, or relationships within a single data set. Often used to propose hypotheses for future study.</td>
<td>Does political party voting change with indicators of wealth in a set of data collected on 2,000 people living in Canada?</td>
</tr>
<tr class="odd">
<td>Inferential</td>
<td>A question that looks for patterns, trends, or relationships in a single data set <strong>and</strong> also asks for quantification of how applicable these findings are to the wider population.</td>
<td>Does political party voting change with indicators of wealth for all people living in Canada?</td>
</tr>
<tr class="even">
<td>Predictive</td>
<td>A question that asks about predicting measurements or labels for individuals (people or things). The focus is on what things predict some outcome, but not what causes the outcome.</td>
<td>What political party will someone vote for in the next Canadian election?</td>
</tr>
<tr class="odd">
<td>Causal</td>
<td>A question that asks about whether changing one factor will lead to a change in another factor, on average, in the wider population.</td>
<td>Does wealth lead to voting for a certain political party in Canadian elections?</td>
</tr>
<tr class="even">
<td>Mechanistic</td>
<td>A question that asks about the underlying mechanism of the observed patterns, trends, or relationship (i.e., how does it happen?)</td>
<td>How does wealth lead to voting for a certain political party in Canadian elections?</td>
</tr>
</tbody>
</table>
<p>Source: <a href="https://science.sciencemag.org/content/347/6228/1314">What is the question?</a> by Jeffery T. Leek, Roger D. Peng &amp; <a href="https://leanpub.com/artofdatascience">The Art of Data Science</a> by Roger Peng &amp; Elizabeth Matsui</p>
<div id="chapter-learning-objectives" class="section level2">
<h2><span class="header-section-number">1.1</span> Chapter learning objectives</h2>
<p>By the end of the chapter, students will be able to:</p>
<ul>
<li>use a Jupyter notebook to execute provided R code</li>
<li>edit code and markdown cells in a Jupyter notebook</li>
<li>create new code and markdown cells in a Jupyter notebook</li>
<li>load the <code>tidyverse</code> package into R</li>
<li>create new variables and objects in R using the assignment symbol</li>
<li>use the help and documentation tools in R</li>
<li>match the names of the following functions from the <code>tidyverse</code> package to their documentation descriptions:
<ul>
<li><code>read_csv</code></li>
<li><code>select</code></li>
<li><code>filter</code></li>
<li><code>mutate</code></li>
<li><code>ggplot</code></li>
<li><code>aes</code></li>
</ul></li>
</ul>
</div>
<div id="jupyter-notebooks" class="section level2">
<h2><span class="header-section-number">1.2</span> Jupyter notebooks</h2>
<p>Jupyter notebooks are documents that contain a mix of computer code (and its output) and formattable text. Given that they are able to combine these two in a single document—code is not separate from the output or written report—notebooks are one of the leading tools to create <em>reproducible data analyses</em>. A reproducible data analysis is one where you can reliably and easily recreate the same results when analyzing the same data. Although this sounds like something that should always be true of any data analysis, in reality this is not often the case; one needs to make a conscious effort to perform data analysis in a reproducible manner.</p>
<p>The name Jupyter came from combining the names of the three programming language that it was initially targeted for (Julia, Python, and R), and now many other languages can be used with Jupyter notebooks.</p>
<p>A notebook looks like this:</p>
<div class="figure"><span id="fig:img-jupyter"></span>
<img src="img/jupyter.png" alt="Jupyter Notebook" width="1792" />
<p class="caption">
Figure 1.1: Jupyter Notebook
</p>
</div>
<p>We have included a short demo video here to help you get started and to introduce you to R and Jupyter.
However, the best way to learn how to write and run code and formattable text in a Jupyter notebook is to do it yourself! <a href="https://github.com/UBC-DSCI/dsci-100-assets/blob/master/2019-fall/materials/worksheet_01/worksheet_01.ipynb">Here is a worksheet</a> that provides a step-by-step guide through the basics.</p>
<iframe width="840" height="473" src="https://www.youtube.com/embed/iel3ZvS-Ryc" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
</div>
<div id="loading-a-spreadsheet-like-dataset" class="section level2">
<h2><span class="header-section-number">1.3</span> Loading a spreadsheet-like dataset</h2>
<p>Often, the first thing we need to do in data analysis is to load a dataset into R. When we bring spreadsheet-like (think Microsoft Excel tables) data, generally shaped like a rectangle, into R it is represented as what we call a <em>data frame</em> object. It is very similar to a spreadsheet where the rows are the collected observations and the columns are the variables.</p>
<div class="figure"><span id="fig:img-spreadsheet-vs-dataframe"></span>
<img src="img/spreadsheet_vs_dataframe.PNG" alt="A spreadsheet versus a data frame in R" width="850" />
<p class="caption">
Figure 1.2: A spreadsheet versus a data frame in R
</p>
</div>
<p>The first kind of data we will learn how to load into R (as a data frame) is the
spreadsheet-like <em>comma-separated values</em> format (<code>.csv</code> for short).
These files have names ending in <code>.csv</code>, and can be opened open and saved from common spreadsheet programs like Microsoft Excel and Google Sheets.
For example, a <code>.csv</code> file named <code>can_lang.csv</code> <a href="https://github.com/UBC-DSCI/introduction-to-datascience/blob/master/data/can_lang.csv">is included with the code for this book</a>.
This file— originally from <a href="https://ttimbers.github.io/canlang/">{canlang} R data package</a>—has language data collected in the 2016 Canadian census <span class="citation">(Canada <a href="#ref-cancensus2016" role="doc-biblioref">2016</a>)</span>.
If we were to open this data in a plain text editor, we would see each row on its own line, and each entry in the table separated by a comma:</p>
<pre><code>category,language,mother_tongue,most_at_home,most_at_work,lang_known
Aboriginal languages,&quot;Aboriginal languages, n.o.s.&quot;,590,235,30,665
Non-Official &amp; Non-Aboriginal languages,Afrikaans,10260,4785,85,23415
Non-Official &amp; Non-Aboriginal languages,&quot;Afro-Asiatic languages, n.i.e.&quot;,1150,445,10,2775
Non-Official &amp; Non-Aboriginal languages,Akan (Twi),13460,5985,25,22150
Non-Official &amp; Non-Aboriginal languages,Albanian,26895,13135,345,31930
Aboriginal languages,&quot;Algonquian languages, n.i.e.&quot;,45,10,0,120
Aboriginal languages,Algonquin,1260,370,40,2480
Non-Official &amp; Non-Aboriginal languages,American Sign Language,2685,3020,1145,21930
Non-Official &amp; Non-Aboriginal languages,Amharic,22465,12785,200,33670</code></pre>
<p>To load this data into R, and then to do anything else with it afterwards, we will need to use something called a <em>function.</em>
A function is a special word in R that takes in instructions (we call these <em>arguments</em>) and does something. The function we will
use to read a <code>.csv</code> file into R is called <code>read_csv</code>.</p>
<p>In its most basic use-case, <code>read_csv</code> expects that the data file:</p>
<ul>
<li>has column names (or <em>headers</em>),</li>
<li>uses a comma (<code>,</code>) to separate the columns, and</li>
<li>does not have row names.</li>
</ul>
<p>Below you’ll see the code used to load the data into R using the <code>read_csv</code> function. But there is one extra step we need to do first. Since <code>read_csv</code> is not included in the base installation of R,
to be able to use it we have to load it from somewhere else: a collection of useful functions known as a <em>package</em>. The <code>read_csv</code> function in particular
is in the <code>tidyverse</code> package (more on this later), which we load using the <code>library</code> function.</p>
<p>Next, we call the <code>read_csv</code> function and pass it a single argument: the name of the file, <code>"can_lang.csv"</code>. We have to put quotes around filenames and other letters and words that we
use in our code to distinguish it from the special words that make up R programming language. This is the only argument we need to provide for this file, because our file satifies everthing else
the <code>read_csv</code> function expects in the default use-case (which we just discussed). Later in the course, we’ll learn more about how to deal with more complicated files where the default arguments are not
appropriate. For example, files that use spaces or tabs to separate the columns, or with no column names.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="index.html#cb2-1"></a><span class="kw">library</span>(tidyverse)</span>
<span id="cb2-2"><a href="index.html#cb2-2"></a><span class="kw">read_csv</span>(<span class="st">&quot;data/can_lang.csv&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 214 x 6
##    category                  language            mother_tongue most_at_home most_at_work lang_known
##    &lt;chr&gt;                     &lt;chr&gt;                       &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;      &lt;dbl&gt;
##  1 Aboriginal languages      Aboriginal languag…           590          235           30        665
##  2 Non-Official &amp; Non-Abori… Afrikaans                   10260         4785           85      23415
##  3 Non-Official &amp; Non-Abori… Afro-Asiatic langu…          1150          445           10       2775
##  4 Non-Official &amp; Non-Abori… Akan (Twi)                  13460         5985           25      22150
##  5 Non-Official &amp; Non-Abori… Albanian                    26895        13135          345      31930
##  6 Aboriginal languages      Algonquian languag…            45           10            0        120
##  7 Aboriginal languages      Algonquin                    1260          370           40       2480
##  8 Non-Official &amp; Non-Abori… American Sign Lang…          2685         3020         1145      21930
##  9 Non-Official &amp; Non-Abori… Amharic                     22465        12785          200      33670
## 10 Non-Official &amp; Non-Abori… Arabic                     419890       223535         5585     629055
## # … with 204 more rows</code></pre>
<p>Above you can also see something neat that Jupyter does to help us understand our code: it colours text depending on its meaning in R. For example,
you’ll note that functions get bold green text, while letters and words surrounded by quotations like filenames get blue text.</p>
<blockquote>
<p><strong>In case you want to know more (optional):</strong>
We use the <code>read_csv</code> function from the <code>tidyverse</code> instead of the base R function <code>read.csv</code> because it’s faster and it creates a nicer variant of the base R data frame called a <em>tibble</em>.
This has several benefits that we’ll discuss in further detail later in the course.</p>
</blockquote>
</div>
<div id="assigning-value-to-a-data-frame" class="section level2">
<h2><span class="header-section-number">1.4</span> Assigning value to a data frame</h2>
<p>When we loaded the language data collected in the 2016 Canadian census in R above using <code>read_csv</code>, we did not give this data frame a name, so it was
just printed to the screen and we cannot do anything else with it. That isn’t very useful; what we would like to do is give a name to the data frame that <code>read_csv</code> outputs
so that we can use it later for analysis and visualization.</p>
<p>To assign name to something in R, there are two possible ways—using either the assignment symbol (<code>&lt;-</code>) or the equals symbol (<code>=</code>). From a style perspective,
the assignment symbol is preferred and is what we will use in this course. When we name something in R using the assignment symbol, <code>&lt;-</code>, we do not need to surround
it with quotes like the filename. This is because we are formally telling R about this word and giving it a value. Only characters and words that act as values need
to be surrounded by quotes.</p>
<p>Let’s now use the assignment symbol to give the name <code>can_lang</code> to the language data collected in the 2016 Canadian census data frame that we get from <code>read_csv</code>.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="index.html#cb4-1"></a>can_lang &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;data/can_lang.csv&quot;</span>)</span></code></pre></div>
<p>Wait a minute! Nothing happened this time! Or at least it looks like that. But actually, something did happen: the data was read in and now has the name <code>can_lang</code> associated with it.
And we can use that name to access the data frame and do things with it. First we will type the name of the data frame to print it to the screen.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="index.html#cb5-1"></a>can_lang</span></code></pre></div>
<pre><code>## # A tibble: 214 x 6
##    category                  language            mother_tongue most_at_home most_at_work lang_known
##    &lt;chr&gt;                     &lt;chr&gt;                       &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;      &lt;dbl&gt;
##  1 Aboriginal languages      Aboriginal languag…           590          235           30        665
##  2 Non-Official &amp; Non-Abori… Afrikaans                   10260         4785           85      23415
##  3 Non-Official &amp; Non-Abori… Afro-Asiatic langu…          1150          445           10       2775
##  4 Non-Official &amp; Non-Abori… Akan (Twi)                  13460         5985           25      22150
##  5 Non-Official &amp; Non-Abori… Albanian                    26895        13135          345      31930
##  6 Aboriginal languages      Algonquian languag…            45           10            0        120
##  7 Aboriginal languages      Algonquin                    1260          370           40       2480
##  8 Non-Official &amp; Non-Abori… American Sign Lang…          2685         3020         1145      21930
##  9 Non-Official &amp; Non-Abori… Amharic                     22465        12785          200      33670
## 10 Non-Official &amp; Non-Abori… Arabic                     419890       223535         5585     629055
## # … with 204 more rows</code></pre>
</div>
<div id="creating-subsets-of-data-frames-with-select-filter" class="section level2">
<h2><span class="header-section-number">1.5</span> Creating subsets of data frames with <code>select</code> &amp; <code>filter</code></h2>
<p>Now, we are going to learn how to obtain subsets of data from a data frame in R using two other <code>tidyverse</code> functions: <code>select</code> and <code>filter</code>.
The <code>select</code> function allows you to create a subset of the columns of a data frame, while the <code>filter</code> function allows you to obtain a subset of the rows with specific values.</p>
<p>Before we start using <code>select</code> and <code>filter</code>, let’s take a look at the language data collected in the 2016 Canadian census again to familiarize ourselves with it.
We will do this by printing the data we loaded earlier in the chapter to the screen.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="index.html#cb7-1"></a>can_lang</span></code></pre></div>
<pre><code>## # A tibble: 214 x 6
##    category                  language            mother_tongue most_at_home most_at_work lang_known
##    &lt;chr&gt;                     &lt;chr&gt;                       &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;      &lt;dbl&gt;
##  1 Aboriginal languages      Aboriginal languag…           590          235           30        665
##  2 Non-Official &amp; Non-Abori… Afrikaans                   10260         4785           85      23415
##  3 Non-Official &amp; Non-Abori… Afro-Asiatic langu…          1150          445           10       2775
##  4 Non-Official &amp; Non-Abori… Akan (Twi)                  13460         5985           25      22150
##  5 Non-Official &amp; Non-Abori… Albanian                    26895        13135          345      31930
##  6 Aboriginal languages      Algonquian languag…            45           10            0        120
##  7 Aboriginal languages      Algonquin                    1260          370           40       2480
##  8 Non-Official &amp; Non-Abori… American Sign Lang…          2685         3020         1145      21930
##  9 Non-Official &amp; Non-Abori… Amharic                     22465        12785          200      33670
## 10 Non-Official &amp; Non-Abori… Arabic                     419890       223535         5585     629055
## # … with 204 more rows</code></pre>
<p>In this data frame there are 214 rows rows (corresponding to the 214 languages recorded on the 2016 Canadian census)
and 6 columns:</p>
<ol style="list-style-type: decimal">
<li><code>category</code>: Higher level language category (describing whether the language is an Official Canadian language, an Aboriginal language, or a Non-Official and Non-Aboriginal language).</li>
<li><code>language</code>: Language queried about on the Canadian Census.</li>
<li><code>mother_tongue</code>: Total count of Canadians from the Census who reported the language as their mother tongue. Mother tongue is generally defined as the language someone was exposed to since birth.</li>
<li><code>most_at_home</code>: Total count of Canadians from the Census who reported the language as spoken most often at home.</li>
<li><code>most_at_work</code>: Total count of Canadians from the Census who reported the language as used most often at work for the population.</li>
<li><code>lang_known</code>: Total count of Canadians from the Census who reported knowledge of language for the population in private households.</li>
</ol>
<p>Now let’s use <code>select</code> to extract the language column from this data frame. To do this, we need to provide the <code>select</code> function with two arguments. The first argument is the
name of the data frame object, which in this example is <code>can_lang</code>. The second argument is the column name that we want to select, here <code>language</code>. After passing these two arguments,
the <code>select</code> function returns a single column (the <code>language</code> column that we asked for) as a data frame.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="index.html#cb9-1"></a>language_column &lt;-<span class="st"> </span><span class="kw">select</span>(can_lang, language)</span>
<span id="cb9-2"><a href="index.html#cb9-2"></a>language_column</span></code></pre></div>
<pre><code>## # A tibble: 214 x 1
##    language                      
##    &lt;chr&gt;                         
##  1 Aboriginal languages, n.o.s.  
##  2 Afrikaans                     
##  3 Afro-Asiatic languages, n.i.e.
##  4 Akan (Twi)                    
##  5 Albanian                      
##  6 Algonquian languages, n.i.e.  
##  7 Algonquin                     
##  8 American Sign Language        
##  9 Amharic                       
## 10 Arabic                        
## # … with 204 more rows</code></pre>
<div id="using-select-to-extract-multiple-columns" class="section level3">
<h3><span class="header-section-number">1.5.1</span> Using <code>select</code> to extract multiple columns</h3>
<p>We can also use <code>select</code> to obtain a subset of the data frame with multiple columns. Again, the first argument is the name of the data frame.
Then we list all the columns we want as arguments separated by commas. Here we create a subset of three columns: language, mother tongue, and language spoken most often at home.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="index.html#cb11-1"></a>three_columns &lt;-<span class="st"> </span><span class="kw">select</span>(can_lang, language, mother_tongue, most_at_home)</span>
<span id="cb11-2"><a href="index.html#cb11-2"></a>three_columns</span></code></pre></div>
<pre><code>## # A tibble: 214 x 3
##    language                       mother_tongue most_at_home
##    &lt;chr&gt;                                  &lt;dbl&gt;        &lt;dbl&gt;
##  1 Aboriginal languages, n.o.s.             590          235
##  2 Afrikaans                              10260         4785
##  3 Afro-Asiatic languages, n.i.e.          1150          445
##  4 Akan (Twi)                             13460         5985
##  5 Albanian                               26895        13135
##  6 Algonquian languages, n.i.e.              45           10
##  7 Algonquin                               1260          370
##  8 American Sign Language                  2685         3020
##  9 Amharic                                22465        12785
## 10 Arabic                                419890       223535
## # … with 204 more rows</code></pre>
</div>
<div id="using-select-to-extract-a-range-of-columns" class="section level3">
<h3><span class="header-section-number">1.5.2</span> Using <code>select</code> to extract a range of columns</h3>
<p>We can also use <code>select</code> to obtain a subset of the data frame constructed from a range of columns. To do this we use the colon (<code>:</code>) operator to denote the range.
For example, to get all the columns in the data frame from <code>language</code> to <code>most_at_home</code> we pass <code>language:most_at_home</code> as the second argument to the <code>select</code> function.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="index.html#cb13-1"></a>column_range &lt;-<span class="st"> </span><span class="kw">select</span>(can_lang, language<span class="op">:</span>most_at_home)</span>
<span id="cb13-2"><a href="index.html#cb13-2"></a>column_range</span></code></pre></div>
<pre><code>## # A tibble: 214 x 3
##    language                       mother_tongue most_at_home
##    &lt;chr&gt;                                  &lt;dbl&gt;        &lt;dbl&gt;
##  1 Aboriginal languages, n.o.s.             590          235
##  2 Afrikaans                              10260         4785
##  3 Afro-Asiatic languages, n.i.e.          1150          445
##  4 Akan (Twi)                             13460         5985
##  5 Albanian                               26895        13135
##  6 Algonquian languages, n.i.e.              45           10
##  7 Algonquin                               1260          370
##  8 American Sign Language                  2685         3020
##  9 Amharic                                22465        12785
## 10 Arabic                                419890       223535
## # … with 204 more rows</code></pre>
</div>
<div id="using-filter-to-extract-a-single-row" class="section level3">
<h3><span class="header-section-number">1.5.3</span> Using <code>filter</code> to extract a single row</h3>
<p>We can use the <code>filter</code> function to obtain the subset of rows with desired values from a data frame. Again, our first argument is the name of the data frame object, <code>can_lang</code>.
The second argument is a logical statement to use when filtering the rows. Here, for example, we’ll say that we are interested in rows where the language is Mandarin. To make
this comparison, we use the <em>equivalency operator</em> <code>==</code> to compare the values of the <code>language</code> column with the value <code>"Mandarin"</code>. Similar to when we loaded the data file and put quotes around the filename,
here we need to put quotes around <code>"Mandarin"</code> to tell R that this is a character value and not one of the special words that make up R programming language, nor one of the names
we have given to data frames in the code we have already written.</p>
<p>With these arguments, <code>filter</code> returns a data frame that has all the columns of the input data frame but only the rows we asked for in our logical filter statement.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="index.html#cb15-1"></a>mandarin &lt;-<span class="st"> </span><span class="kw">filter</span>(can_lang, language <span class="op">==</span><span class="st"> &quot;Mandarin&quot;</span>)</span>
<span id="cb15-2"><a href="index.html#cb15-2"></a>mandarin</span></code></pre></div>
<pre><code>## # A tibble: 1 x 6
##   category                              language mother_tongue most_at_home most_at_work lang_known
##   &lt;chr&gt;                                 &lt;chr&gt;            &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;      &lt;dbl&gt;
## 1 Non-Official &amp; Non-Aboriginal langua… Mandarin        592040       462890        60090     814450</code></pre>
</div>
<div id="using-filter-to-extract-rows-with-values-above-a-threshold" class="section level3">
<h3><span class="header-section-number">1.5.4</span> Using <code>filter</code> to extract rows with values above a threshold</h3>
<p>If we are interested in finding information about the languages who have a higher number of people who primarily speak it at home compared to Mandarin—which is reported to have 462890 people speaking it as the primary language they speak in their home—then we can create a filter
to obtain rows where the value of <code>most_at_home</code> is greater than 462890.
In this case, we see that <code>filter</code> returns a data frame with 2 rows; this indicates that there are two languages that are spoken more often at
home compared to Mandarin.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="index.html#cb17-1"></a>spoke_often_at_home &lt;-<span class="st"> </span><span class="kw">filter</span>(can_lang, most_at_home <span class="op">&gt;</span><span class="st"> </span><span class="dv">462890</span>)</span>
<span id="cb17-2"><a href="index.html#cb17-2"></a>spoke_often_at_home</span></code></pre></div>
<pre><code>## # A tibble: 2 x 6
##   category           language mother_tongue most_at_home most_at_work lang_known
##   &lt;chr&gt;              &lt;chr&gt;            &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;      &lt;dbl&gt;
## 1 Official languages English       19460850     22162865     15265335   29748265
## 2 Official languages French         7166700      6943800      3825215   10242945</code></pre>
</div>
</div>
<div id="exploring-data-with-visualizations" class="section level2">
<h2><span class="header-section-number">1.6</span> Exploring data with visualizations</h2>
<p>Creating effective data visualizations is an essential piece to any data analysis. For the remainder of Chapter 1, we will learn how to use
functions from the <code>tidyverse</code> to make visualizations that let us explore relationships in data. In particular, we’ll develop a visualization
of the language data collected in the 2016 Canadian census we’ve been working with that will help us understand two potential relationships in the data:
first, the relationship between the number of people who speak a language as their mother tongue and the number of people who speak that language as their primary spoken language at home, and second, whether there is a pattern in the strength of this relationship in the higher level language categories (Official languages, Aboriginal languages, or non-official and non-Aboriginal languages). This is an example of an exploratory data analysis
question: we are looking for relationships and patterns within the data set we have, but are not trying to generalize what we find beyond this data set.</p>
<div id="using-ggplot-to-create-a-scatter-plot" class="section level3">
<h3><span class="header-section-number">1.6.1</span> Using <code>ggplot</code> to create a scatter plot</h3>
<p>Taking another look at our data set below, we can immediately see that the three columns (or variables) we are interested in visualizing—mother tongue, language spoken most at home, and higher level language category—are all in separate columns. In addition, there is a single row (or observation) for each language.
The data are therefore in what we call a <em>tidy data</em> format.
Tidy data is particularly important concept and will be a major focus in the remainder of this course: many of the functions from <code>tidyverse</code> require tidy data,
including the <code>ggplot</code> function that we will use shortly for our visualization. We will formally introduce this concept in chapter 3.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="index.html#cb19-1"></a>can_lang</span></code></pre></div>
<pre><code>## # A tibble: 214 x 6
##    category                  language            mother_tongue most_at_home most_at_work lang_known
##    &lt;chr&gt;                     &lt;chr&gt;                       &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;      &lt;dbl&gt;
##  1 Aboriginal languages      Aboriginal languag…           590          235           30        665
##  2 Non-Official &amp; Non-Abori… Afrikaans                   10260         4785           85      23415
##  3 Non-Official &amp; Non-Abori… Afro-Asiatic langu…          1150          445           10       2775
##  4 Non-Official &amp; Non-Abori… Akan (Twi)                  13460         5985           25      22150
##  5 Non-Official &amp; Non-Abori… Albanian                    26895        13135          345      31930
##  6 Aboriginal languages      Algonquian languag…            45           10            0        120
##  7 Aboriginal languages      Algonquin                    1260          370           40       2480
##  8 Non-Official &amp; Non-Abori… American Sign Lang…          2685         3020         1145      21930
##  9 Non-Official &amp; Non-Abori… Amharic                     22465        12785          200      33670
## 10 Non-Official &amp; Non-Abori… Arabic                     419890       223535         5585     629055
## # … with 204 more rows</code></pre>
<p>We will begin with a scatter plot of the <code>mother_tongue</code> and <code>most_at_home</code> columns from our data frame.
To create a scatter plot of these two variables using the <code>ggplot</code> function, we do the following:</p>
<ol style="list-style-type: decimal">
<li>call the <code>ggplot</code> function</li>
<li>provide the name of the data frame as the first argument</li>
<li>call the aesthetic function, <code>aes</code>, to specify which column will correspond to the x-axis and which will correspond to the y-axis</li>
<li>add a <code>+</code> symbol at the end of the <code>ggplot</code> call to add a layer to the plot</li>
<li>call the <code>geom_point</code> function to tell R that we want to represent the data points as dots/points to create a scatter plot.</li>
</ol>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="index.html#cb21-1"></a><span class="kw">ggplot</span>(can_lang, <span class="kw">aes</span>(<span class="dt">x =</span> most_at_home, <span class="dt">y =</span> mother_tongue)) <span class="op">+</span></span>
<span id="cb21-2"><a href="index.html#cb21-2"></a><span class="st">  </span><span class="kw">geom_point</span>()</span></code></pre></div>
<div class="figure"><span id="fig:mother-tongue-vs-most-at-home"></span>
<img src="_main_files/figure-html/mother-tongue-vs-most-at-home-1.png" alt="Scatter plot of number of Canadians reporting a language as their mother tongue vs the primary language at home" width="552" />
<p class="caption">
Figure 1.3: Scatter plot of number of Canadians reporting a language as their mother tongue vs the primary language at home
</p>
</div>
<blockquote>
<p><strong>In case you have used R before and are curious:</strong>
There are a small number of situations in which you can have a single R expression span multiple lines.
Here, the <code>+</code> symbol at the end of the first line tells R that the expression isn’t done yet and to
continue reading on the next line. While not strictly necessary, this sort of pattern will appear a
lot when using <code>ggplot</code> as it keeps things more readable.</p>
</blockquote>
</div>
<div id="formatting-ggplot-objects" class="section level3">
<h3><span class="header-section-number">1.6.2</span> Formatting ggplot objects</h3>
<p>It is motivating and exciting that we have already been able to visualize our
data to help answer our question, but we are not done yet! There is more we can
(and should) do to improve the interpretability of the data visualization that
we created. For example, by default, R uses the column names as the axis labels,
however, usually these column names do not have enough information about
the variable in the column. We really should replace this default with a more
informative label. For the example above, the column name <code>mother_tongue</code> is
used as the label for the y-axis, but most people will not know what that is.
And even if they did, they will not know how we are measuring mother tongue, nor
which group of people the measurements were taken. An axis label that
read “Mother tongue (number of Canadian residents)” would be much more
informative.</p>
<p>Adding additional layers to our visualizations that we create in <code>ggplot</code> is one
common and easy way to improve and refine our data visualizations. New layers
are added to <code>ggplot</code> objects using the <code>+</code> symbol. For example, we can use the
<code>xlab</code> and <code>ylab</code> functions to add layers where we specify meaningful and
informative labels for the x and y axes. Again, since we are specifying words
(e.g. <code>"Mother tongue (number of Canadian residents)"</code>) as arguments to <code>xlab</code>
and <code>ylab</code>, we surround them with double quotes. There are many more layers we
can add to format the plot further, and we will explore these in later chapters.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="index.html#cb22-1"></a><span class="kw">ggplot</span>(can_lang, <span class="kw">aes</span>(<span class="dt">x =</span> most_at_home, <span class="dt">y =</span> mother_tongue)) <span class="op">+</span></span>
<span id="cb22-2"><a href="index.html#cb22-2"></a><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></span>
<span id="cb22-3"><a href="index.html#cb22-3"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;Language spoken most at home (number of Canadian residents)&quot;</span>) <span class="op">+</span></span>
<span id="cb22-4"><a href="index.html#cb22-4"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;Mother tongue (number of Canadian residents)&quot;</span>)</span></code></pre></div>
<div class="figure"><span id="fig:mother-tongue-vs-most-at-home-labs"></span>
<img src="_main_files/figure-html/mother-tongue-vs-most-at-home-labs-1.png" alt="Scatter plot of number of Canadians reporting a language as their mother tongue vs the primary language at home with x and y labels" width="552" />
<p class="caption">
Figure 1.4: Scatter plot of number of Canadians reporting a language as their mother tongue vs the primary language at home with x and y labels
</p>
</div>
<p>Most of the data points from the 214 observations in this data set are bunched up in the lower left-handside of this visualization. This is because many many more people in Canada speak the two official languages (English and French). Thus to answer our question, we will need to adjust the scale of the x and y axes so that they are on a log scale. We can again add additional layers to the plot object using the <code>+</code> symbol to do this:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="index.html#cb23-1"></a><span class="kw">ggplot</span>(can_lang, <span class="kw">aes</span>(<span class="dt">x =</span> most_at_home, <span class="dt">y =</span> mother_tongue)) <span class="op">+</span></span>
<span id="cb23-2"><a href="index.html#cb23-2"></a><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></span>
<span id="cb23-3"><a href="index.html#cb23-3"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;Language spoken most at home (number of Canadian residents)&quot;</span>) <span class="op">+</span></span>
<span id="cb23-4"><a href="index.html#cb23-4"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;Mother tongue (number of Canadian residents)&quot;</span>) <span class="op">+</span></span>
<span id="cb23-5"><a href="index.html#cb23-5"></a><span class="st">  </span><span class="kw">scale_x_log10</span>(<span class="dt">labels =</span> scales<span class="op">::</span>comma) <span class="op">+</span></span>
<span id="cb23-6"><a href="index.html#cb23-6"></a><span class="st">  </span><span class="kw">scale_y_log10</span>(<span class="dt">labels =</span> scales<span class="op">::</span>comma)</span></code></pre></div>
<div class="figure"><span id="fig:mother-tongue-vs-most-at-home-scale"></span>
<img src="_main_files/figure-html/mother-tongue-vs-most-at-home-scale-1.png" alt="Scatter plot of number of Canadians reporting a language as their mother tongue vs the primary language at home with log adjusted x and y axes" width="552" />
<p class="caption">
Figure 1.5: Scatter plot of number of Canadians reporting a language as their mother tongue vs the primary language at home with log adjusted x and y axes
</p>
</div>
<p>From this visualization we see that for the 214 languages in this data set, as the number of people who have a language as their mother tongue increases, so does the number of people who speak that language at home. When we see
two variables do this, we call this a <em>positive relationship</em>. Because the points are fairly close together, we can say that the relationship is strong. Because drawing a straight line through these
points would fit the pattern we observe quite well, we say that it’s linear.</p>
<p>Learning how to describe data visualizations is a very useful skill. We will provide descriptions for you in this course (as we did above) until we get to Chapter 4,
which focuses on data visualization. Then, we will explicitly teach you how to do this yourself, and how to not over-state or over-interpret the results
from a visualization.</p>
</div>
<div id="changing-the-units" class="section level3">
<h3><span class="header-section-number">1.6.3</span> Changing the units</h3>
<p>What does it mean that 19,460,850
people reported that their mother tongue was English in the 2016 Canadian
census? To really understand this number, we need context. In particular, how
many people were in Canada when this data was collected? From the 2016 Canadian
census profile, we can see that the population was reported to be
35,151,728 people. The count of
the number of people who report that English is their mother tongue is much more
meaningful when we report it in this context. We can even go a step further and
transform this count to a relative frequency, or proportion, so that we can
represent this as a single meaningful number in our data visualizations. We can
do this by dividing the number of people reporting a given language as their
mother tongue by the number of people who live in Canada. For example, the
proportion of people who reported that their mother tongue was English in the
2016 Canadian census was
0.55.</p>
<p>We can use the <code>mutate</code> function in R to do this for all of the languages in the 2016 Canadian census data set. <code>mutate</code> is useful for creating new columns in a data frame, as well as transforming existing columns. It’s general syntax is: <code>mutate(dataframe, column_to_create/transform = value/how_to_transform)</code>. Below we use mutate to calculate the proportion of people reporting a given language as their mother tongue for all the languages in the <code>can_lang</code> data set:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="index.html#cb24-1"></a>can_lang &lt;-<span class="st"> </span><span class="kw">mutate</span>(can_lang, <span class="dt">mother_tongue =</span> mother_tongue <span class="op">/</span><span class="st"> </span><span class="dv">35151728</span>)</span>
<span id="cb24-2"><a href="index.html#cb24-2"></a>can_lang</span></code></pre></div>
<pre><code>## # A tibble: 214 x 6
##    category                  language            mother_tongue most_at_home most_at_work lang_known
##    &lt;chr&gt;                     &lt;chr&gt;                       &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;      &lt;dbl&gt;
##  1 Aboriginal languages      Aboriginal languag…    0.0000168           235           30        665
##  2 Non-Official &amp; Non-Abori… Afrikaans              0.000292           4785           85      23415
##  3 Non-Official &amp; Non-Abori… Afro-Asiatic langu…    0.0000327           445           10       2775
##  4 Non-Official &amp; Non-Abori… Akan (Twi)             0.000383           5985           25      22150
##  5 Non-Official &amp; Non-Abori… Albanian               0.000765          13135          345      31930
##  6 Aboriginal languages      Algonquian languag…    0.00000128           10            0        120
##  7 Aboriginal languages      Algonquin              0.0000358           370           40       2480
##  8 Non-Official &amp; Non-Abori… American Sign Lang…    0.0000764          3020         1145      21930
##  9 Non-Official &amp; Non-Abori… Amharic                0.000639          12785          200      33670
## 10 Non-Official &amp; Non-Abori… Arabic                 0.0119           223535         5585     629055
## # … with 204 more rows</code></pre>
<p>Let’s also do this for the counts of the number of people who report that they speak a given language most often at home:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="index.html#cb26-1"></a>can_lang &lt;-<span class="st"> </span><span class="kw">mutate</span>(can_lang, <span class="dt">most_at_home =</span> most_at_home <span class="op">/</span><span class="st"> </span><span class="dv">35151728</span>)</span>
<span id="cb26-2"><a href="index.html#cb26-2"></a>can_lang</span></code></pre></div>
<pre><code>## # A tibble: 214 x 6
##    category                  language            mother_tongue most_at_home most_at_work lang_known
##    &lt;chr&gt;                     &lt;chr&gt;                       &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;      &lt;dbl&gt;
##  1 Aboriginal languages      Aboriginal languag…    0.0000168   0.00000669            30        665
##  2 Non-Official &amp; Non-Abori… Afrikaans              0.000292    0.000136              85      23415
##  3 Non-Official &amp; Non-Abori… Afro-Asiatic langu…    0.0000327   0.0000127             10       2775
##  4 Non-Official &amp; Non-Abori… Akan (Twi)             0.000383    0.000170              25      22150
##  5 Non-Official &amp; Non-Abori… Albanian               0.000765    0.000374             345      31930
##  6 Aboriginal languages      Algonquian languag…    0.00000128  0.000000284            0        120
##  7 Aboriginal languages      Algonquin              0.0000358   0.0000105             40       2480
##  8 Non-Official &amp; Non-Abori… American Sign Lang…    0.0000764   0.0000859           1145      21930
##  9 Non-Official &amp; Non-Abori… Amharic                0.000639    0.000364             200      33670
## 10 Non-Official &amp; Non-Abori… Arabic                 0.0119      0.00636             5585     629055
## # … with 204 more rows</code></pre>
<p>Finally, let’s visualize the data now that we have represented it as proportions (and change our axis labels to reflect this change in units!):</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="index.html#cb28-1"></a><span class="kw">ggplot</span>(can_lang, <span class="kw">aes</span>(<span class="dt">x =</span> most_at_home, <span class="dt">y =</span> mother_tongue)) <span class="op">+</span></span>
<span id="cb28-2"><a href="index.html#cb28-2"></a><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></span>
<span id="cb28-3"><a href="index.html#cb28-3"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;Language spoken most at home (proportion of Canadian residents)&quot;</span>) <span class="op">+</span></span>
<span id="cb28-4"><a href="index.html#cb28-4"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;Mother tongue (proportion of Canadian residents)&quot;</span>) <span class="op">+</span></span>
<span id="cb28-5"><a href="index.html#cb28-5"></a><span class="st">  </span><span class="kw">scale_x_log10</span>(<span class="dt">labels =</span> scales<span class="op">::</span>comma) <span class="op">+</span></span>
<span id="cb28-6"><a href="index.html#cb28-6"></a><span class="st">  </span><span class="kw">scale_y_log10</span>(<span class="dt">labels =</span> scales<span class="op">::</span>comma)</span></code></pre></div>
<div class="figure"><span id="fig:mother-tongue-vs-most-at-home-scale-props"></span>
<img src="_main_files/figure-html/mother-tongue-vs-most-at-home-scale-props-1.png" alt="Scatter plot of proportion of Canadians reporting a language as their mother tongue vs the primary language at home" width="552" />
<p class="caption">
Figure 1.6: Scatter plot of proportion of Canadians reporting a language as their mother tongue vs the primary language at home
</p>
</div>
<p>From the visualization above, we can now clearly see that not just a lot, but that the majority of Canadians reported English as their mother tongue and as the language they speak most often at home. Changing the units to include this context increases our understanding and allows us to interpret the numbers in our data set better.</p>
</div>
<div id="coloring-points-by-group" class="section level3">
<h3><span class="header-section-number">1.6.4</span> Coloring points by group</h3>
<p>Now we’ll move onto the second part of our exploratory data analysis question: when considering the relationship between the number of people who have a language as their mother tongue and the number of people who speak that language at home, is there a pattern in the strength of this relationship in the higher-level language categories (Official languages, Aboriginal languages, or non-official and non-Aboriginal languages)? One common way to explore this is to colour the data points on the
scatter plot we have already created by group/category. For example,
given that we have the higher level language category for each language recorded in the 2016 Canadian census, we can colour the points in our previous
scatter plot to represent each language’s higher-level language category.</p>
<p>To do this, we modify our scatter plot code above. Specifically, we will add an argument to the <code>aes</code> function, specifying that the points should be coloured by the <code>category</code> column:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="index.html#cb29-1"></a><span class="kw">ggplot</span>(can_lang, <span class="kw">aes</span>(<span class="dt">x =</span> most_at_home, <span class="dt">y =</span> mother_tongue, <span class="dt">color =</span> category)) <span class="op">+</span></span>
<span id="cb29-2"><a href="index.html#cb29-2"></a><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></span>
<span id="cb29-3"><a href="index.html#cb29-3"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;Language spoken most at home (proportion of Canadian residents)&quot;</span>) <span class="op">+</span></span>
<span id="cb29-4"><a href="index.html#cb29-4"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;Mother tongue (proportion of Canadian residents)&quot;</span>) <span class="op">+</span></span>
<span id="cb29-5"><a href="index.html#cb29-5"></a><span class="st">  </span><span class="kw">scale_x_log10</span>(<span class="dt">labels =</span> scales<span class="op">::</span>comma) <span class="op">+</span></span>
<span id="cb29-6"><a href="index.html#cb29-6"></a><span class="st">  </span><span class="kw">scale_y_log10</span>(<span class="dt">labels =</span> scales<span class="op">::</span>comma)</span></code></pre></div>
<div class="figure"><span id="fig:scatter-colour-by-category"></span>
<img src="_main_files/figure-html/scatter-colour-by-category-1.png" alt="Scatter plot of proportion of Canadians reporting a language as their mother tongue vs the primary language at home coloured by language category" width="744" />
<p class="caption">
Figure 1.7: Scatter plot of proportion of Canadians reporting a language as their mother tongue vs the primary language at home coloured by language category
</p>
</div>
<p>What do we see when considering the second part of our exploratory question? Do we see a difference in the pattern of the relationship between the number of people who speak a language as their mother tongue and the number of people who speak a language as their primary spoken language at home between higher-level language categories? Probably not!</p>
<p>For each higher-level language category there appears to be a positive relationship between the number of people who speak a language as their mother tongue and the number of people who speak a language as their primary spoken language at home. This relationship looks similar, regardless of the category.</p>
<p>Does this mean that this relationship is positive for all languages in the world? Can we use this data visualization on its own to predict how many people have a given language as their mother tongue if we know how many people speak it as their primary language at home?</p>
<p>The answer to both these questions is “no.” However, with this exploratory data analysis, we can create new hypotheses, ideas,
and questions (like the ones at the beginning of this paragraph). Answering those questions would likely involve gathering additional data and doing more complex analyses, which we will
see more of later in this course.</p>
</div>
<div id="putting-it-all-together" class="section level3">
<h3><span class="header-section-number">1.6.5</span> Putting it all together</h3>
<p>Below, we put everything from this chapter together in one code chunk. We have
added a few more layers to make the data visualization even more effective.
Specifically we used have improved the visualizations accessibility by choosing
colours that are easier to distinguish and also mapped category to
shape, we handled the problem of overlapping data points by making them slightly
transparent, and we changed the background from grey to white to improve the
contrast. This demonstrates the power of R: in relatively few lines of code, we
are able to create an entire data science workflow with a highly effective
data visualization.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="index.html#cb30-1"></a><span class="kw">library</span>(tidyverse)</span>
<span id="cb30-2"><a href="index.html#cb30-2"></a></span>
<span id="cb30-3"><a href="index.html#cb30-3"></a>can_lang &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;data/can_lang.csv&quot;</span>)</span>
<span id="cb30-4"><a href="index.html#cb30-4"></a></span>
<span id="cb30-5"><a href="index.html#cb30-5"></a>can_lang &lt;-<span class="st"> </span><span class="kw">mutate</span>(can_lang, <span class="dt">mother_tongue =</span> mother_tongue <span class="op">/</span><span class="st"> </span><span class="dv">35151728</span>)</span>
<span id="cb30-6"><a href="index.html#cb30-6"></a>can_lang &lt;-<span class="st"> </span><span class="kw">mutate</span>(can_lang, <span class="dt">most_at_home =</span> most_at_home <span class="op">/</span><span class="st"> </span><span class="dv">35151728</span>)</span>
<span id="cb30-7"><a href="index.html#cb30-7"></a></span>
<span id="cb30-8"><a href="index.html#cb30-8"></a><span class="kw">ggplot</span>(can_lang, <span class="kw">aes</span>(</span>
<span id="cb30-9"><a href="index.html#cb30-9"></a>  <span class="dt">x =</span> most_at_home,</span>
<span id="cb30-10"><a href="index.html#cb30-10"></a>  <span class="dt">y =</span> mother_tongue,</span>
<span id="cb30-11"><a href="index.html#cb30-11"></a>  <span class="dt">colour =</span> category,</span>
<span id="cb30-12"><a href="index.html#cb30-12"></a>  <span class="dt">shape =</span> category</span>
<span id="cb30-13"><a href="index.html#cb30-13"></a>)) <span class="op">+</span><span class="st"> </span><span class="co"># map categories to different shapes</span></span>
<span id="cb30-14"><a href="index.html#cb30-14"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">alpha =</span> <span class="fl">0.6</span>) <span class="op">+</span><span class="st"> </span><span class="co"># set the transparency of the points</span></span>
<span id="cb30-15"><a href="index.html#cb30-15"></a><span class="st">  </span><span class="kw">scale_color_manual</span>(<span class="dt">values =</span> <span class="kw">c</span>(<span class="st">&quot;deepskyblue2&quot;</span>, <span class="st">&quot;firebrick1&quot;</span>, <span class="st">&quot;black&quot;</span>)) <span class="op">+</span><span class="st"> </span><span class="co"># choose point colours</span></span>
<span id="cb30-16"><a href="index.html#cb30-16"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;Language spoken most at home (proportion of Canadian residents)&quot;</span>) <span class="op">+</span></span>
<span id="cb30-17"><a href="index.html#cb30-17"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;Mother tongue (proportion of Canadian residents)&quot;</span>) <span class="op">+</span></span>
<span id="cb30-18"><a href="index.html#cb30-18"></a><span class="st">  </span><span class="kw">scale_x_log10</span>(<span class="dt">labels =</span> scales<span class="op">::</span>comma) <span class="op">+</span></span>
<span id="cb30-19"><a href="index.html#cb30-19"></a><span class="st">  </span><span class="kw">scale_y_log10</span>(<span class="dt">labels =</span> scales<span class="op">::</span>comma) <span class="op">+</span></span>
<span id="cb30-20"><a href="index.html#cb30-20"></a><span class="st">  </span><span class="kw">theme_bw</span>() <span class="co"># use a theme to have a white background</span></span></code></pre></div>
<div class="figure"><span id="fig:nachos-to-cheesecake"></span>
<img src="_main_files/figure-html/nachos-to-cheesecake-1.png" alt="Putting it all together: Scatter plot of proportion of Canadians reporting a language as their mother tongue vs the primary language at home coloured by language category" width="744" />
<p class="caption">
Figure 1.8: Putting it all together: Scatter plot of proportion of Canadians reporting a language as their mother tongue vs the primary language at home coloured by language category
</p>
</div>

</div>
</div>
</div>
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-cancensus2016">
<p>Canada, Statistics. 2016. “Census of Population. Reproduced and Distributed on an "as Is" Basis with the Permission of Statistics Canada.”</p>
</div>
<div id="ref-leek2015question">
<p>Leek, Jeffery T, and Roger D Peng. 2015. “What Is the Question?” <em>Science</em> 347 (6228): 1314–5.</p>
</div>
<div id="ref-peng2015art">
<p>Peng, Roger D, and Elizabeth Matsui. 2015. “The Art of Data Science.” <em>A Guide for Anyone Who Works with Data. Skybrude Consulting, LLC</em>.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>

<a href="reading.html" class="navigation navigation-next navigation-unique" aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/index.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
