<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 1 R and the tidyverse | Data Science: A First Introduction</title>
  <meta name="description" content="This is a textbook for teaching a first introduction to data science." />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 1 R and the tidyverse | Data Science: A First Introduction" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a textbook for teaching a first introduction to data science." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 1 R and the tidyverse | Data Science: A First Introduction" />
  
  <meta name="twitter:description" content="This is a textbook for teaching a first introduction to data science." />
  

<meta name="author" content="Tiffany-Anne Timbers" />
<meta name="author" content="Trevor Campbell" />
<meta name="author" content="Melissa Lee" />


<meta name="date" content="2021-07-24" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="reading.html"/>
<script src="libs/header-attrs-2.9/header-attrs.js"></script>
<script src="libs/jquery-3.5.1/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.9.4.1/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.1/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-1.57.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-1.57.1/plotly-latest.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data Science: A First Introduction</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> R and the tidyverse</a>
<ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#overview"><i class="fa fa-check"></i><b>1.1</b> Overview</a></li>
<li class="chapter" data-level="1.2" data-path="intro.html"><a href="intro.html#chapter-learning-objectives"><i class="fa fa-check"></i><b>1.2</b> Chapter Learning Objectives</a></li>
<li class="chapter" data-level="1.3" data-path="intro.html"><a href="intro.html#ask-a-question"><i class="fa fa-check"></i><b>1.3</b> Ask a question</a></li>
<li class="chapter" data-level="1.4" data-path="intro.html"><a href="intro.html#canadian-languages-data-set-question"><i class="fa fa-check"></i><b>1.4</b> Canadian languages data set question</a></li>
<li class="chapter" data-level="1.5" data-path="intro.html"><a href="intro.html#loading-a-tabular-data-set"><i class="fa fa-check"></i><b>1.5</b> Loading a tabular data set</a></li>
<li class="chapter" data-level="1.6" data-path="intro.html"><a href="intro.html#naming-things-in-r"><i class="fa fa-check"></i><b>1.6</b> Naming things in R</a></li>
<li class="chapter" data-level="1.7" data-path="intro.html"><a href="intro.html#creating-subsets-of-data-frames-with-filter-select"><i class="fa fa-check"></i><b>1.7</b> Creating subsets of data frames with <code>filter</code> &amp; <code>select</code></a>
<ul>
<li class="chapter" data-level="1.7.1" data-path="intro.html"><a href="intro.html#using-filter-to-extract-rows"><i class="fa fa-check"></i><b>1.7.1</b> Using <code>filter</code> to extract rows</a></li>
<li class="chapter" data-level="1.7.2" data-path="intro.html"><a href="intro.html#using-select-to-extract-columns"><i class="fa fa-check"></i><b>1.7.2</b> Using <code>select</code> to extract columns</a></li>
<li class="chapter" data-level="1.7.3" data-path="intro.html"><a href="intro.html#using-arrange-to-order-and-slice-to-select-rows-by-index-number"><i class="fa fa-check"></i><b>1.7.3</b> Using <code>arrange</code> to order and <code>slice</code> to select rows by index number</a></li>
</ul></li>
<li class="chapter" data-level="1.8" data-path="intro.html"><a href="intro.html#exploring-data-with-visualizations"><i class="fa fa-check"></i><b>1.8</b> Exploring data with visualizations</a>
<ul>
<li class="chapter" data-level="1.8.1" data-path="intro.html"><a href="intro.html#using-ggplot-to-create-a-bar-plot"><i class="fa fa-check"></i><b>1.8.1</b> Using <code>ggplot</code> to create a bar plot</a></li>
<li class="chapter" data-level="1.8.2" data-path="intro.html"><a href="intro.html#formatting-ggplot-objects"><i class="fa fa-check"></i><b>1.8.2</b> Formatting ggplot objects</a></li>
<li class="chapter" data-level="1.8.3" data-path="intro.html"><a href="intro.html#putting-it-all-together"><i class="fa fa-check"></i><b>1.8.3</b> Putting it all together</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="reading.html"><a href="reading.html"><i class="fa fa-check"></i><b>2</b> Reading in data locally and from the web</a>
<ul>
<li class="chapter" data-level="2.1" data-path="reading.html"><a href="reading.html#overview-1"><i class="fa fa-check"></i><b>2.1</b> Overview</a></li>
<li class="chapter" data-level="2.2" data-path="reading.html"><a href="reading.html#chapter-learning-objectives-1"><i class="fa fa-check"></i><b>2.2</b> Chapter learning objectives</a></li>
<li class="chapter" data-level="2.3" data-path="reading.html"><a href="reading.html#absolute-and-relative-file-paths"><i class="fa fa-check"></i><b>2.3</b> Absolute and relative file paths</a></li>
<li class="chapter" data-level="2.4" data-path="reading.html"><a href="reading.html#reading-tabular-data-from-a-plain-text-file-into-r"><i class="fa fa-check"></i><b>2.4</b> Reading tabular data from a plain text file into R</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="reading.html"><a href="reading.html#readcsv"><i class="fa fa-check"></i><b>2.4.1</b> <code>read_csv</code> to read in comma-separated files</a></li>
<li class="chapter" data-level="2.4.2" data-path="reading.html"><a href="reading.html#skipping-rows-when-reading-in-data"><i class="fa fa-check"></i><b>2.4.2</b> Skipping rows when reading in data</a></li>
<li class="chapter" data-level="2.4.3" data-path="reading.html"><a href="reading.html#read_tsv-to-read-in-tab-separated-files"><i class="fa fa-check"></i><b>2.4.3</b> <code>read_tsv</code> to read in tab-separated files</a></li>
<li class="chapter" data-level="2.4.4" data-path="reading.html"><a href="reading.html#read_delim-as-a-more-flexible-method-to-get-tabular-data-into-r"><i class="fa fa-check"></i><b>2.4.4</b> <code>read_delim</code> as a more flexible method to get tabular data into R</a></li>
<li class="chapter" data-level="2.4.5" data-path="reading.html"><a href="reading.html#reading-tabular-data-directly-from-a-url"><i class="fa fa-check"></i><b>2.4.5</b> Reading tabular data directly from a URL</a></li>
<li class="chapter" data-level="2.4.6" data-path="reading.html"><a href="reading.html#previewing-a-data-file-before-reading-it-into-r"><i class="fa fa-check"></i><b>2.4.6</b> Previewing a data file before reading it into R</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="reading.html"><a href="reading.html#reading-tabular-data-from-a-microsoft-excel-file"><i class="fa fa-check"></i><b>2.5</b> Reading tabular data from a Microsoft Excel file</a></li>
<li class="chapter" data-level="2.6" data-path="reading.html"><a href="reading.html#reading-data-from-a-database"><i class="fa fa-check"></i><b>2.6</b> Reading data from a database</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="reading.html"><a href="reading.html#connecting-to-a-database"><i class="fa fa-check"></i><b>2.6.1</b> Connecting to a database</a></li>
<li class="chapter" data-level="2.6.2" data-path="reading.html"><a href="reading.html#interacting-with-a-database"><i class="fa fa-check"></i><b>2.6.2</b> Interacting with a database</a></li>
<li class="chapter" data-level="2.6.3" data-path="reading.html"><a href="reading.html#why-should-we-bother-with-databases-at-all"><i class="fa fa-check"></i><b>2.6.3</b> Why should we bother with databases at all?</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="reading.html"><a href="reading.html#writing-data-from-r-to-a-.csv-file"><i class="fa fa-check"></i><b>2.7</b> Writing data from R to a <code>.csv</code> file</a></li>
<li class="chapter" data-level="2.8" data-path="reading.html"><a href="reading.html#obtaining-data-from-the-web"><i class="fa fa-check"></i><b>2.8</b> Obtaining data from the web</a>
<ul>
<li class="chapter" data-level="2.8.1" data-path="reading.html"><a href="reading.html#web-scraping"><i class="fa fa-check"></i><b>2.8.1</b> Web scraping</a></li>
<li class="chapter" data-level="2.8.2" data-path="reading.html"><a href="reading.html#using-an-api"><i class="fa fa-check"></i><b>2.8.2</b> Using an API</a></li>
</ul></li>
<li class="chapter" data-level="2.9" data-path="reading.html"><a href="reading.html#additional-resources"><i class="fa fa-check"></i><b>2.9</b> Additional resources</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="wrangling.html"><a href="wrangling.html"><i class="fa fa-check"></i><b>3</b> Cleaning and wrangling data</a>
<ul>
<li class="chapter" data-level="3.1" data-path="wrangling.html"><a href="wrangling.html#overview-2"><i class="fa fa-check"></i><b>3.1</b> Overview</a></li>
<li class="chapter" data-level="3.2" data-path="wrangling.html"><a href="wrangling.html#chapter-learning-objectives-2"><i class="fa fa-check"></i><b>3.2</b> Chapter learning objectives</a></li>
<li class="chapter" data-level="3.3" data-path="wrangling.html"><a href="wrangling.html#data-frames-and-vectors"><i class="fa fa-check"></i><b>3.3</b> Data frames and Vectors</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="wrangling.html"><a href="wrangling.html#what-is-a-data-frame"><i class="fa fa-check"></i><b>3.3.1</b> What is a data frame?</a></li>
<li class="chapter" data-level="3.3.2" data-path="wrangling.html"><a href="wrangling.html#what-is-a-vector"><i class="fa fa-check"></i><b>3.3.2</b> What is a vector?</a></li>
<li class="chapter" data-level="3.3.3" data-path="wrangling.html"><a href="wrangling.html#how-are-vectors-different-from-a-list"><i class="fa fa-check"></i><b>3.3.3</b> How are vectors different from a list?</a></li>
<li class="chapter" data-level="3.3.4" data-path="wrangling.html"><a href="wrangling.html#what-does-this-have-to-do-with-data-frames"><i class="fa fa-check"></i><b>3.3.4</b> What does this have to do with data frames?</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="wrangling.html"><a href="wrangling.html#tidy-data"><i class="fa fa-check"></i><b>3.4</b> Tidy Data</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="wrangling.html"><a href="wrangling.html#what-is-tidy-data"><i class="fa fa-check"></i><b>3.4.1</b> What is tidy data?</a></li>
<li class="chapter" data-level="3.4.2" data-path="wrangling.html"><a href="wrangling.html#why-is-tidy-data-important-in-r"><i class="fa fa-check"></i><b>3.4.2</b> Why is tidy data important in R?</a></li>
<li class="chapter" data-level="3.4.3" data-path="wrangling.html"><a href="wrangling.html#going-from-wide-to-long-or-tidy-using-pivot_longer"><i class="fa fa-check"></i><b>3.4.3</b> Going from wide to long (or tidy!) using <code>pivot_longer</code></a></li>
<li class="chapter" data-level="3.4.4" data-path="wrangling.html"><a href="wrangling.html#pivot-wider"><i class="fa fa-check"></i><b>3.4.4</b> Going from long to wide using <code>pivot_wider</code></a></li>
<li class="chapter" data-level="3.4.5" data-path="wrangling.html"><a href="wrangling.html#using-separate-to-deal-with-multiple-delimiters"><i class="fa fa-check"></i><b>3.4.5</b> Using <code>separate</code> to deal with multiple delimiters</a></li>
<li class="chapter" data-level="3.4.6" data-path="wrangling.html"><a href="wrangling.html#notes-on-defining-tidy-data"><i class="fa fa-check"></i><b>3.4.6</b> Notes on defining tidy data</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="wrangling.html"><a href="wrangling.html#using-select-to-extract-a-range-of-columns"><i class="fa fa-check"></i><b>3.5</b> Using <code>select</code> to extract a range of columns</a></li>
<li class="chapter" data-level="3.6" data-path="wrangling.html"><a href="wrangling.html#using-filter-to-extract-rows-1"><i class="fa fa-check"></i><b>3.6</b> Using <code>filter</code> to extract rows</a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="wrangling.html"><a href="wrangling.html#using-filter-to-extract-rows-with"><i class="fa fa-check"></i><b>3.6.1</b> Using <code>filter</code> to extract rows with <code>==</code></a></li>
<li class="chapter" data-level="3.6.2" data-path="wrangling.html"><a href="wrangling.html#using-filter-to-extract-rows-with-1"><i class="fa fa-check"></i><b>3.6.2</b> Using <code>filter</code> to extract rows with <code>!=</code></a></li>
<li class="chapter" data-level="3.6.3" data-path="wrangling.html"><a href="wrangling.html#using-filter-to-extract-rows-with-2"><i class="fa fa-check"></i><b>3.6.3</b> Using <code>filter</code> to extract rows with <code>,</code> &amp;`</a></li>
<li class="chapter" data-level="3.6.4" data-path="wrangling.html"><a href="wrangling.html#using-filter-to-extract-rows-with-3"><i class="fa fa-check"></i><b>3.6.4</b> Using <code>filter</code> to extract rows with <code>|</code></a></li>
<li class="chapter" data-level="3.6.5" data-path="wrangling.html"><a href="wrangling.html#using-filter-to-extract-rows-with-in"><i class="fa fa-check"></i><b>3.6.5</b> Using <code>filter</code> to extract rows with <code>%in%</code></a></li>
<li class="chapter" data-level="3.6.6" data-path="wrangling.html"><a href="wrangling.html#using-filter-to-extract-rows-with-values-above-or-below-a-threshold"><i class="fa fa-check"></i><b>3.6.6</b> Using <code>filter</code> to extract rows with values above or below a threshold</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="wrangling.html"><a href="wrangling.html#using-mutate-to-modify-or-add-columns"><i class="fa fa-check"></i><b>3.7</b> Using <code>mutate</code> to modify or add columns</a>
<ul>
<li class="chapter" data-level="3.7.1" data-path="wrangling.html"><a href="wrangling.html#using-mutate-to-modify-columns"><i class="fa fa-check"></i><b>3.7.1</b> Using <code>mutate</code> to modify columns</a></li>
<li class="chapter" data-level="3.7.2" data-path="wrangling.html"><a href="wrangling.html#using-mutate-to-create-new-columns"><i class="fa fa-check"></i><b>3.7.2</b> Using <code>mutate</code> to create new columns</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="wrangling.html"><a href="wrangling.html#creating-a-visualization-with-tidy-data"><i class="fa fa-check"></i><b>3.8</b> Creating a visualization with tidy data</a></li>
<li class="chapter" data-level="3.9" data-path="wrangling.html"><a href="wrangling.html#combining-functions-using-the-pipe-operator"><i class="fa fa-check"></i><b>3.9</b> Combining functions using the pipe operator, <code>|&gt;</code></a>
<ul>
<li class="chapter" data-level="3.9.1" data-path="wrangling.html"><a href="wrangling.html#using-to-combine-filter-and-select"><i class="fa fa-check"></i><b>3.9.1</b> Using <code>|&gt;</code> to combine <code>filter</code> and <code>select</code></a></li>
<li class="chapter" data-level="3.9.2" data-path="wrangling.html"><a href="wrangling.html#using-with-more-than-two-functions"><i class="fa fa-check"></i><b>3.9.2</b> Using <code>|&gt;</code> with more than two functions</a></li>
</ul></li>
<li class="chapter" data-level="3.10" data-path="wrangling.html"><a href="wrangling.html#iterating-over-data-with-group_by-summarize"><i class="fa fa-check"></i><b>3.10</b> Iterating over data with <code>group_by</code> + <code>summarize</code></a>
<ul>
<li class="chapter" data-level="3.10.1" data-path="wrangling.html"><a href="wrangling.html#calculating-summary-statistics"><i class="fa fa-check"></i><b>3.10.1</b> Calculating summary statistics:</a></li>
<li class="chapter" data-level="3.10.2" data-path="wrangling.html"><a href="wrangling.html#calculating-group-summary-statistics"><i class="fa fa-check"></i><b>3.10.2</b> Calculating group summary statistics:</a></li>
<li class="chapter" data-level="3.10.3" data-path="wrangling.html"><a href="wrangling.html#additional-reading-on-the-dplyr-functions"><i class="fa fa-check"></i><b>3.10.3</b> Additional reading on the <code>dplyr</code> functions</a></li>
</ul></li>
<li class="chapter" data-level="3.11" data-path="wrangling.html"><a href="wrangling.html#using-purrrs-map-functions-to-iterate"><i class="fa fa-check"></i><b>3.11</b> Using <code>purrr</code>’s <code>map*</code> functions to iterate</a></li>
<li class="chapter" data-level="3.12" data-path="wrangling.html"><a href="wrangling.html#additional-resources-1"><i class="fa fa-check"></i><b>3.12</b> Additional resources</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="viz.html"><a href="viz.html"><i class="fa fa-check"></i><b>4</b> Effective data visualization</a>
<ul>
<li class="chapter" data-level="4.1" data-path="viz.html"><a href="viz.html#overview-3"><i class="fa fa-check"></i><b>4.1</b> Overview</a></li>
<li class="chapter" data-level="4.2" data-path="viz.html"><a href="viz.html#chapter-learning-objectives-3"><i class="fa fa-check"></i><b>4.2</b> Chapter learning objectives</a></li>
<li class="chapter" data-level="4.3" data-path="viz.html"><a href="viz.html#choosing-the-visualization"><i class="fa fa-check"></i><b>4.3</b> Choosing the visualization</a></li>
<li class="chapter" data-level="4.4" data-path="viz.html"><a href="viz.html#refining-the-visualization"><i class="fa fa-check"></i><b>4.4</b> Refining the visualization</a></li>
<li class="chapter" data-level="4.5" data-path="viz.html"><a href="viz.html#creating-visualizations-with-ggplot2"><i class="fa fa-check"></i><b>4.5</b> Creating visualizations with <code>ggplot2</code></a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="viz.html"><a href="viz.html#the-mauna-loa-co2-data-set"><i class="fa fa-check"></i><b>4.5.1</b> The Mauna Loa CO2 data set</a></li>
<li class="chapter" data-level="4.5.2" data-path="viz.html"><a href="viz.html#the-island-landmass-data-set"><i class="fa fa-check"></i><b>4.5.2</b> The island landmass data set</a></li>
<li class="chapter" data-level="4.5.3" data-path="viz.html"><a href="viz.html#the-old-faithful-eruptionwaiting-time-data-set"><i class="fa fa-check"></i><b>4.5.3</b> The Old Faithful eruption/waiting time data set</a></li>
<li class="chapter" data-level="4.5.4" data-path="viz.html"><a href="viz.html#the-canadian-languages-data-set"><i class="fa fa-check"></i><b>4.5.4</b> The Canadian languages data set</a></li>
<li class="chapter" data-level="4.5.5" data-path="viz.html"><a href="viz.html#the-michelson-speed-of-light-data-set"><i class="fa fa-check"></i><b>4.5.5</b> The Michelson speed of light data set</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="viz.html"><a href="viz.html#explaining-the-visualization"><i class="fa fa-check"></i><b>4.6</b> Explaining the visualization</a></li>
<li class="chapter" data-level="4.7" data-path="viz.html"><a href="viz.html#saving-the-visualization"><i class="fa fa-check"></i><b>4.7</b> Saving the visualization</a></li>
<li class="chapter" data-level="4.8" data-path="viz.html"><a href="viz.html#additional-resources-2"><i class="fa fa-check"></i><b>4.8</b> Additional resources</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="classification.html"><a href="classification.html"><i class="fa fa-check"></i><b>5</b> Classification I: training &amp; predicting</a>
<ul>
<li class="chapter" data-level="5.1" data-path="classification.html"><a href="classification.html#overview-4"><i class="fa fa-check"></i><b>5.1</b> Overview</a></li>
<li class="chapter" data-level="5.2" data-path="classification.html"><a href="classification.html#chapter-learning-objectives-4"><i class="fa fa-check"></i><b>5.2</b> Chapter learning objectives</a></li>
<li class="chapter" data-level="5.3" data-path="classification.html"><a href="classification.html#the-classification-problem"><i class="fa fa-check"></i><b>5.3</b> The classification problem</a></li>
<li class="chapter" data-level="5.4" data-path="classification.html"><a href="classification.html#exploring-a-data-set"><i class="fa fa-check"></i><b>5.4</b> Exploring a data set</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="classification.html"><a href="classification.html#loading-the-cancer-data"><i class="fa fa-check"></i><b>5.4.1</b> Loading the cancer data</a></li>
<li class="chapter" data-level="5.4.2" data-path="classification.html"><a href="classification.html#describing-the-variables-in-the-cancer-data-set"><i class="fa fa-check"></i><b>5.4.2</b> Describing the variables in the cancer data set</a></li>
<li class="chapter" data-level="5.4.3" data-path="classification.html"><a href="classification.html#exploring-the-cancer-data"><i class="fa fa-check"></i><b>5.4.3</b> Exploring the cancer data</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="classification.html"><a href="classification.html#classification-with-k-nearest-neighbours"><i class="fa fa-check"></i><b>5.5</b> Classification with K-nearest neighbours</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="classification.html"><a href="classification.html#distance-between-points"><i class="fa fa-check"></i><b>5.5.1</b> Distance between points</a></li>
<li class="chapter" data-level="5.5.2" data-path="classification.html"><a href="classification.html#more-than-two-explanatory-variables"><i class="fa fa-check"></i><b>5.5.2</b> More than two explanatory variables</a></li>
<li class="chapter" data-level="5.5.3" data-path="classification.html"><a href="classification.html#summary-of-k-nearest-neighbours-algorithm"><i class="fa fa-check"></i><b>5.5.3</b> Summary of K-nearest neighbours algorithm</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="classification.html"><a href="classification.html#k-nearest-neighbours-with-tidymodels"><i class="fa fa-check"></i><b>5.6</b> K-nearest neighbours with <code>tidymodels</code></a></li>
<li class="chapter" data-level="5.7" data-path="classification.html"><a href="classification.html#data-preprocessing-with-tidymodels"><i class="fa fa-check"></i><b>5.7</b> Data preprocessing with <code>tidymodels</code></a>
<ul>
<li class="chapter" data-level="5.7.1" data-path="classification.html"><a href="classification.html#centering-and-scaling"><i class="fa fa-check"></i><b>5.7.1</b> Centering and scaling</a></li>
<li class="chapter" data-level="5.7.2" data-path="classification.html"><a href="classification.html#balancing"><i class="fa fa-check"></i><b>5.7.2</b> Balancing</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="classification.html"><a href="classification.html#puttingittogetherworkflow"><i class="fa fa-check"></i><b>5.8</b> Putting it together in a <code>workflow</code></a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="classification-continued.html"><a href="classification-continued.html"><i class="fa fa-check"></i><b>6</b> Classification II: evaluation &amp; tuning</a>
<ul>
<li class="chapter" data-level="6.1" data-path="classification-continued.html"><a href="classification-continued.html#overview-5"><i class="fa fa-check"></i><b>6.1</b> Overview</a></li>
<li class="chapter" data-level="6.2" data-path="classification-continued.html"><a href="classification-continued.html#chapter-learning-objectives-5"><i class="fa fa-check"></i><b>6.2</b> Chapter learning objectives</a></li>
<li class="chapter" data-level="6.3" data-path="classification-continued.html"><a href="classification-continued.html#evaluating-accuracy"><i class="fa fa-check"></i><b>6.3</b> Evaluating accuracy</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="classification-continued.html"><a href="classification-continued.html#create-the-train-test-split"><i class="fa fa-check"></i><b>6.3.1</b> Create the train / test split</a></li>
<li class="chapter" data-level="6.3.2" data-path="classification-continued.html"><a href="classification-continued.html#preprocess-the-data"><i class="fa fa-check"></i><b>6.3.2</b> Preprocess the data</a></li>
<li class="chapter" data-level="6.3.3" data-path="classification-continued.html"><a href="classification-continued.html#train-the-classifier"><i class="fa fa-check"></i><b>6.3.3</b> Train the classifier</a></li>
<li class="chapter" data-level="6.3.4" data-path="classification-continued.html"><a href="classification-continued.html#predict-the-labels-in-the-test-set"><i class="fa fa-check"></i><b>6.3.4</b> Predict the labels in the test set</a></li>
<li class="chapter" data-level="6.3.5" data-path="classification-continued.html"><a href="classification-continued.html#compute-the-accuracy"><i class="fa fa-check"></i><b>6.3.5</b> Compute the accuracy</a></li>
<li class="chapter" data-level="6.3.6" data-path="classification-continued.html"><a href="classification-continued.html#critically-analyze-performance"><i class="fa fa-check"></i><b>6.3.6</b> Critically analyze performance</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="classification-continued.html"><a href="classification-continued.html#tuning-the-classifier"><i class="fa fa-check"></i><b>6.4</b> Tuning the classifier</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="classification-continued.html"><a href="classification-continued.html#cross-validation"><i class="fa fa-check"></i><b>6.4.1</b> Cross-validation</a></li>
<li class="chapter" data-level="6.4.2" data-path="classification-continued.html"><a href="classification-continued.html#parameter-value-selection"><i class="fa fa-check"></i><b>6.4.2</b> Parameter value selection</a></li>
<li class="chapter" data-level="6.4.3" data-path="classification-continued.html"><a href="classification-continued.html#underoverfitting"><i class="fa fa-check"></i><b>6.4.3</b> Under/Overfitting</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="classification-continued.html"><a href="classification-continued.html#summary"><i class="fa fa-check"></i><b>6.5</b> Summary</a></li>
<li class="chapter" data-level="6.6" data-path="classification-continued.html"><a href="classification-continued.html#predictor-variable-selection"><i class="fa fa-check"></i><b>6.6</b> Predictor variable selection</a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="classification-continued.html"><a href="classification-continued.html#the-effect-of-irrelevant-predictors"><i class="fa fa-check"></i><b>6.6.1</b> The effect of irrelevant predictors</a></li>
<li class="chapter" data-level="6.6.2" data-path="classification-continued.html"><a href="classification-continued.html#finding-a-good-subset-of-predictors"><i class="fa fa-check"></i><b>6.6.2</b> Finding a good subset of predictors</a></li>
<li class="chapter" data-level="6.6.3" data-path="classification-continued.html"><a href="classification-continued.html#forward-selection-in-r"><i class="fa fa-check"></i><b>6.6.3</b> Forward selection in R</a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="classification-continued.html"><a href="classification-continued.html#additional-resources-3"><i class="fa fa-check"></i><b>6.7</b> Additional resources</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="regression1.html"><a href="regression1.html"><i class="fa fa-check"></i><b>7</b> Regression I: K-nearest neighbours</a>
<ul>
<li class="chapter" data-level="7.1" data-path="regression1.html"><a href="regression1.html#overview-6"><i class="fa fa-check"></i><b>7.1</b> Overview</a></li>
<li class="chapter" data-level="7.2" data-path="regression1.html"><a href="regression1.html#chapter-learning-objectives-6"><i class="fa fa-check"></i><b>7.2</b> Chapter learning objectives</a></li>
<li class="chapter" data-level="7.3" data-path="regression1.html"><a href="regression1.html#the-regression-problem"><i class="fa fa-check"></i><b>7.3</b> The regression problem</a></li>
<li class="chapter" data-level="7.4" data-path="regression1.html"><a href="regression1.html#exploring-a-data-set-1"><i class="fa fa-check"></i><b>7.4</b> Exploring a data set</a></li>
<li class="chapter" data-level="7.5" data-path="regression1.html"><a href="regression1.html#k-nearest-neighbours-regression"><i class="fa fa-check"></i><b>7.5</b> K-nearest neighbours regression</a></li>
<li class="chapter" data-level="7.6" data-path="regression1.html"><a href="regression1.html#training-evaluating-and-tuning-the-model"><i class="fa fa-check"></i><b>7.6</b> Training, evaluating, and tuning the model</a></li>
<li class="chapter" data-level="7.7" data-path="regression1.html"><a href="regression1.html#underfitting-and-overfitting"><i class="fa fa-check"></i><b>7.7</b> Underfitting and overfitting</a></li>
<li class="chapter" data-level="7.8" data-path="regression1.html"><a href="regression1.html#evaluating-on-the-test-set"><i class="fa fa-check"></i><b>7.8</b> Evaluating on the test set</a></li>
<li class="chapter" data-level="7.9" data-path="regression1.html"><a href="regression1.html#strengths-and-limitations-of-knn-regression"><i class="fa fa-check"></i><b>7.9</b> Strengths and limitations of KNN regression</a></li>
<li class="chapter" data-level="7.10" data-path="regression1.html"><a href="regression1.html#multivariate-knn-regression"><i class="fa fa-check"></i><b>7.10</b> Multivariate KNN regression</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="regression2.html"><a href="regression2.html"><i class="fa fa-check"></i><b>8</b> Regression II: linear regression</a>
<ul>
<li class="chapter" data-level="8.1" data-path="regression2.html"><a href="regression2.html#overview-7"><i class="fa fa-check"></i><b>8.1</b> Overview</a></li>
<li class="chapter" data-level="8.2" data-path="regression2.html"><a href="regression2.html#chapter-learning-objectives-7"><i class="fa fa-check"></i><b>8.2</b> Chapter learning objectives</a></li>
<li class="chapter" data-level="8.3" data-path="regression2.html"><a href="regression2.html#simple-linear-regression"><i class="fa fa-check"></i><b>8.3</b> Simple linear regression</a></li>
<li class="chapter" data-level="8.4" data-path="regression2.html"><a href="regression2.html#linear-regression-in-r"><i class="fa fa-check"></i><b>8.4</b> Linear regression in R</a></li>
<li class="chapter" data-level="8.5" data-path="regression2.html"><a href="regression2.html#comparing-simple-linear-and-knn-regression"><i class="fa fa-check"></i><b>8.5</b> Comparing simple linear and KNN regression</a></li>
<li class="chapter" data-level="8.6" data-path="regression2.html"><a href="regression2.html#multivariate-linear-regression"><i class="fa fa-check"></i><b>8.6</b> Multivariate linear regression</a></li>
<li class="chapter" data-level="8.7" data-path="regression2.html"><a href="regression2.html#multicollinearity-and-outliers"><i class="fa fa-check"></i><b>8.7</b> Multicollinearity and outliers</a>
<ul>
<li class="chapter" data-level="8.7.1" data-path="regression2.html"><a href="regression2.html#outliers"><i class="fa fa-check"></i><b>8.7.1</b> Outliers</a></li>
<li class="chapter" data-level="8.7.2" data-path="regression2.html"><a href="regression2.html#multicollinearity"><i class="fa fa-check"></i><b>8.7.2</b> Multicollinearity</a></li>
</ul></li>
<li class="chapter" data-level="8.8" data-path="regression2.html"><a href="regression2.html#designing-new-predictors"><i class="fa fa-check"></i><b>8.8</b> Designing new predictors</a></li>
<li class="chapter" data-level="8.9" data-path="regression2.html"><a href="regression2.html#the-other-sides-of-regression"><i class="fa fa-check"></i><b>8.9</b> The other sides of regression</a></li>
<li class="chapter" data-level="8.10" data-path="regression2.html"><a href="regression2.html#additional-resources-4"><i class="fa fa-check"></i><b>8.10</b> Additional resources</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="clustering.html"><a href="clustering.html"><i class="fa fa-check"></i><b>9</b> Clustering</a>
<ul>
<li class="chapter" data-level="9.1" data-path="clustering.html"><a href="clustering.html#overview-8"><i class="fa fa-check"></i><b>9.1</b> Overview</a></li>
<li class="chapter" data-level="9.2" data-path="clustering.html"><a href="clustering.html#chapter-learning-objectives-8"><i class="fa fa-check"></i><b>9.2</b> Chapter learning objectives</a></li>
<li class="chapter" data-level="9.3" data-path="clustering.html"><a href="clustering.html#clustering-1"><i class="fa fa-check"></i><b>9.3</b> Clustering</a></li>
<li class="chapter" data-level="9.4" data-path="clustering.html"><a href="clustering.html#k-means"><i class="fa fa-check"></i><b>9.4</b> K-means</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="clustering.html"><a href="clustering.html#measuring-cluster-quality"><i class="fa fa-check"></i><b>9.4.1</b> Measuring cluster quality</a></li>
<li class="chapter" data-level="9.4.2" data-path="clustering.html"><a href="clustering.html#the-clustering-algorithm"><i class="fa fa-check"></i><b>9.4.2</b> The clustering algorithm</a></li>
<li class="chapter" data-level="9.4.3" data-path="clustering.html"><a href="clustering.html#random-restarts"><i class="fa fa-check"></i><b>9.4.3</b> Random restarts</a></li>
<li class="chapter" data-level="9.4.4" data-path="clustering.html"><a href="clustering.html#choosing-k"><i class="fa fa-check"></i><b>9.4.4</b> Choosing K</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="clustering.html"><a href="clustering.html#data-pre-processing-for-k-means"><i class="fa fa-check"></i><b>9.5</b> Data pre-processing for K-means</a></li>
<li class="chapter" data-level="9.6" data-path="clustering.html"><a href="clustering.html#k-means-in-r"><i class="fa fa-check"></i><b>9.6</b> K-means in R</a></li>
<li class="chapter" data-level="9.7" data-path="clustering.html"><a href="clustering.html#additional-resources-5"><i class="fa fa-check"></i><b>9.7</b> Additional resources</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="inference.html"><a href="inference.html"><i class="fa fa-check"></i><b>10</b> Introduction to statistical inference</a>
<ul>
<li class="chapter" data-level="10.1" data-path="inference.html"><a href="inference.html#overview-9"><i class="fa fa-check"></i><b>10.1</b> Overview</a></li>
<li class="chapter" data-level="10.2" data-path="inference.html"><a href="inference.html#chapter-learning-objectives-9"><i class="fa fa-check"></i><b>10.2</b> Chapter learning objectives</a></li>
<li class="chapter" data-level="10.3" data-path="inference.html"><a href="inference.html#why-do-we-need-sampling"><i class="fa fa-check"></i><b>10.3</b> Why do we need sampling?</a></li>
<li class="chapter" data-level="10.4" data-path="inference.html"><a href="inference.html#sampling-distributions"><i class="fa fa-check"></i><b>10.4</b> Sampling distributions</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="inference.html"><a href="inference.html#sampling-distributions-for-proportions"><i class="fa fa-check"></i><b>10.4.1</b> Sampling distributions for proportions</a></li>
<li class="chapter" data-level="10.4.2" data-path="inference.html"><a href="inference.html#sampling-distributions-for-means"><i class="fa fa-check"></i><b>10.4.2</b> Sampling distributions for means</a></li>
<li class="chapter" data-level="10.4.3" data-path="inference.html"><a href="inference.html#summary-1"><i class="fa fa-check"></i><b>10.4.3</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="inference.html"><a href="inference.html#bootstrapping"><i class="fa fa-check"></i><b>10.5</b> Bootstrapping</a>
<ul>
<li class="chapter" data-level="10.5.1" data-path="inference.html"><a href="inference.html#overview-10"><i class="fa fa-check"></i><b>10.5.1</b> Overview</a></li>
<li class="chapter" data-level="10.5.2" data-path="inference.html"><a href="inference.html#bootstrapping-in-r"><i class="fa fa-check"></i><b>10.5.2</b> Bootstrapping in R</a></li>
<li class="chapter" data-level="10.5.3" data-path="inference.html"><a href="inference.html#using-the-bootstrap-to-calculate-a-plausible-range"><i class="fa fa-check"></i><b>10.5.3</b> Using the bootstrap to calculate a plausible range</a></li>
</ul></li>
<li class="chapter" data-level="10.6" data-path="inference.html"><a href="inference.html#additional-resources-6"><i class="fa fa-check"></i><b>10.6</b> Additional resources</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="getting-started-with-jupyter.html"><a href="getting-started-with-jupyter.html"><i class="fa fa-check"></i><b>11</b> Combining code and text with Jupyter</a>
<ul>
<li class="chapter" data-level="11.1" data-path="getting-started-with-jupyter.html"><a href="getting-started-with-jupyter.html#overview-11"><i class="fa fa-check"></i><b>11.1</b> Overview</a></li>
<li class="chapter" data-level="11.2" data-path="getting-started-with-jupyter.html"><a href="getting-started-with-jupyter.html#chapter-learning-objectives-10"><i class="fa fa-check"></i><b>11.2</b> Chapter learning objectives</a></li>
<li class="chapter" data-level="11.3" data-path="getting-started-with-jupyter.html"><a href="getting-started-with-jupyter.html#jupyter"><i class="fa fa-check"></i><b>11.3</b> Jupyter</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="getting-started-with-jupyter.html"><a href="getting-started-with-jupyter.html#accessing-jupyter"><i class="fa fa-check"></i><b>11.3.1</b> Accessing Jupyter</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="getting-started-with-jupyter.html"><a href="getting-started-with-jupyter.html#code-cells"><i class="fa fa-check"></i><b>11.4</b> Code cells</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="getting-started-with-jupyter.html"><a href="getting-started-with-jupyter.html#executing-code-cells"><i class="fa fa-check"></i><b>11.4.1</b> Executing code cells</a></li>
<li class="chapter" data-level="11.4.2" data-path="getting-started-with-jupyter.html"><a href="getting-started-with-jupyter.html#creating-new-code-cells"><i class="fa fa-check"></i><b>11.4.2</b> Creating new code cells</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="getting-started-with-jupyter.html"><a href="getting-started-with-jupyter.html#markdown-cells"><i class="fa fa-check"></i><b>11.5</b> Markdown cells</a>
<ul>
<li class="chapter" data-level="11.5.1" data-path="getting-started-with-jupyter.html"><a href="getting-started-with-jupyter.html#editing-markdown-cells"><i class="fa fa-check"></i><b>11.5.1</b> Editing Markdown cells</a></li>
<li class="chapter" data-level="11.5.2" data-path="getting-started-with-jupyter.html"><a href="getting-started-with-jupyter.html#creating-new-markdown-cells"><i class="fa fa-check"></i><b>11.5.2</b> Creating new Markdown cells</a></li>
</ul></li>
<li class="chapter" data-level="11.6" data-path="getting-started-with-jupyter.html"><a href="getting-started-with-jupyter.html#saving-your-work"><i class="fa fa-check"></i><b>11.6</b> Saving your work</a></li>
<li class="chapter" data-level="11.7" data-path="getting-started-with-jupyter.html"><a href="getting-started-with-jupyter.html#best-practices-for-running-a-notebook"><i class="fa fa-check"></i><b>11.7</b> Best practices for running a notebook</a>
<ul>
<li class="chapter" data-level="11.7.1" data-path="getting-started-with-jupyter.html"><a href="getting-started-with-jupyter.html#best-practices-for-executing-code-cells"><i class="fa fa-check"></i><b>11.7.1</b> Best practices for executing code cells</a></li>
<li class="chapter" data-level="11.7.2" data-path="getting-started-with-jupyter.html"><a href="getting-started-with-jupyter.html#best-practices-for-including-r-packages-in-notebooks"><i class="fa fa-check"></i><b>11.7.2</b> Best practices for including R packages in notebooks</a></li>
<li class="chapter" data-level="11.7.3" data-path="getting-started-with-jupyter.html"><a href="getting-started-with-jupyter.html#summary-of-best-practices-for-running-a-notebook"><i class="fa fa-check"></i><b>11.7.3</b> Summary of best practices for running a notebook</a></li>
</ul></li>
<li class="chapter" data-level="11.8" data-path="getting-started-with-jupyter.html"><a href="getting-started-with-jupyter.html#exploring-data-files"><i class="fa fa-check"></i><b>11.8</b> Exploring data files</a></li>
<li class="chapter" data-level="11.9" data-path="getting-started-with-jupyter.html"><a href="getting-started-with-jupyter.html#exporting-to-a-different-file-format"><i class="fa fa-check"></i><b>11.9</b> Exporting to a different file format</a>
<ul>
<li class="chapter" data-level="11.9.1" data-path="getting-started-with-jupyter.html"><a href="getting-started-with-jupyter.html#exporting-to-html"><i class="fa fa-check"></i><b>11.9.1</b> Exporting to HTML</a></li>
<li class="chapter" data-level="11.9.2" data-path="getting-started-with-jupyter.html"><a href="getting-started-with-jupyter.html#exporting-to-pdf"><i class="fa fa-check"></i><b>11.9.2</b> Exporting to PDF</a></li>
</ul></li>
<li class="chapter" data-level="11.10" data-path="getting-started-with-jupyter.html"><a href="getting-started-with-jupyter.html#creating-a-new-jupyter-notebook"><i class="fa fa-check"></i><b>11.10</b> Creating a new Jupyter notebook</a></li>
<li class="chapter" data-level="11.11" data-path="getting-started-with-jupyter.html"><a href="getting-started-with-jupyter.html#additional-resources-7"><i class="fa fa-check"></i><b>11.11</b> Additional resources</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="Getting-started-with-version-control.html"><a href="Getting-started-with-version-control.html"><i class="fa fa-check"></i><b>12</b> Collaboration with version control</a>
<ul>
<li class="chapter" data-level="12.1" data-path="Getting-started-with-version-control.html"><a href="Getting-started-with-version-control.html#overview-12"><i class="fa fa-check"></i><b>12.1</b> Overview</a></li>
<li class="chapter" data-level="12.2" data-path="Getting-started-with-version-control.html"><a href="Getting-started-with-version-control.html#chapter-learning-objectives-11"><i class="fa fa-check"></i><b>12.2</b> Chapter learning objectives</a></li>
<li class="chapter" data-level="12.3" data-path="Getting-started-with-version-control.html"><a href="Getting-started-with-version-control.html#what-is-version-control-and-why-should-i-use-it"><i class="fa fa-check"></i><b>12.3</b> What is version control, and why should I use it?</a>
<ul>
<li class="chapter" data-level="12.3.1" data-path="Getting-started-with-version-control.html"><a href="Getting-started-with-version-control.html#version-control-repositories"><i class="fa fa-check"></i><b>12.3.1</b> Version control repositories</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="Getting-started-with-version-control.html"><a href="Getting-started-with-version-control.html#commiting-changes-to-a-local-repositorys-history"><i class="fa fa-check"></i><b>12.4</b> Commiting changes to a local repository’s history</a>
<ul>
<li class="chapter" data-level="12.4.1" data-path="Getting-started-with-version-control.html"><a href="Getting-started-with-version-control.html#pushing-changes-from-a-remote-repository"><i class="fa fa-check"></i><b>12.4.1</b> Pushing changes from a remote repository</a></li>
<li class="chapter" data-level="12.4.2" data-path="Getting-started-with-version-control.html"><a href="Getting-started-with-version-control.html#pulling-changes-from-a-remote-repository"><i class="fa fa-check"></i><b>12.4.2</b> Pulling changes from a remote repository</a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="Getting-started-with-version-control.html"><a href="Getting-started-with-version-control.html#creating-a-space-for-your-project-online"><i class="fa fa-check"></i><b>12.5</b> Creating a space for your project online</a></li>
<li class="chapter" data-level="12.6" data-path="Getting-started-with-version-control.html"><a href="Getting-started-with-version-control.html#creating-and-editing-files-on-github"><i class="fa fa-check"></i><b>12.6</b> Creating and editing files on GitHub</a>
<ul>
<li class="chapter" data-level="12.6.1" data-path="Getting-started-with-version-control.html"><a href="Getting-started-with-version-control.html#the-pen-tool"><i class="fa fa-check"></i><b>12.6.1</b> The pen tool</a></li>
<li class="chapter" data-level="12.6.2" data-path="Getting-started-with-version-control.html"><a href="Getting-started-with-version-control.html#the-add-file-menu"><i class="fa fa-check"></i><b>12.6.2</b> The “Add file” menu</a></li>
</ul></li>
<li class="chapter" data-level="12.7" data-path="Getting-started-with-version-control.html"><a href="Getting-started-with-version-control.html#cloning-your-repository-using-jupyter"><i class="fa fa-check"></i><b>12.7</b> Cloning your repository using Jupyter</a></li>
<li class="chapter" data-level="12.8" data-path="Getting-started-with-version-control.html"><a href="Getting-started-with-version-control.html#working-in-a-cloned-repository-using-jupyter"><i class="fa fa-check"></i><b>12.8</b> Working in a cloned repository using Jupyter</a>
<ul>
<li class="chapter" data-level="12.8.1" data-path="Getting-started-with-version-control.html"><a href="Getting-started-with-version-control.html#specifying-files-to-commit"><i class="fa fa-check"></i><b>12.8.1</b> Specifying files to commit</a></li>
<li class="chapter" data-level="12.8.2" data-path="Getting-started-with-version-control.html"><a href="Getting-started-with-version-control.html#making-the-commit"><i class="fa fa-check"></i><b>12.8.2</b> Making the commit</a></li>
<li class="chapter" data-level="12.8.3" data-path="Getting-started-with-version-control.html"><a href="Getting-started-with-version-control.html#pushing-the-commits-to-github"><i class="fa fa-check"></i><b>12.8.3</b> Pushing the commits to GitHub</a></li>
</ul></li>
<li class="chapter" data-level="12.9" data-path="Getting-started-with-version-control.html"><a href="Getting-started-with-version-control.html#collaboration"><i class="fa fa-check"></i><b>12.9</b> Collaboration</a>
<ul>
<li class="chapter" data-level="12.9.1" data-path="Getting-started-with-version-control.html"><a href="Getting-started-with-version-control.html#giving-collaborators-access-to-your-project"><i class="fa fa-check"></i><b>12.9.1</b> Giving collaborators access to your project</a></li>
<li class="chapter" data-level="12.9.2" data-path="Getting-started-with-version-control.html"><a href="Getting-started-with-version-control.html#pulling-changes-from-github-using-jupyter"><i class="fa fa-check"></i><b>12.9.2</b> Pulling changes from GitHub using Jupyter</a></li>
<li class="chapter" data-level="12.9.3" data-path="Getting-started-with-version-control.html"><a href="Getting-started-with-version-control.html#handling-merge-conflicts"><i class="fa fa-check"></i><b>12.9.3</b> Handling merge conflicts</a></li>
<li class="chapter" data-level="12.9.4" data-path="Getting-started-with-version-control.html"><a href="Getting-started-with-version-control.html#communicating-using-github-issues"><i class="fa fa-check"></i><b>12.9.4</b> Communicating using GitHub issues</a></li>
</ul></li>
<li class="chapter" data-level="12.10" data-path="Getting-started-with-version-control.html"><a href="Getting-started-with-version-control.html#vc-add-res"><i class="fa fa-check"></i><b>12.10</b> Additional resources</a>
<ul>
<li class="chapter" data-level="" data-path="Getting-started-with-version-control.html"><a href="Getting-started-with-version-control.html#best-practices-and-workflows"><i class="fa fa-check"></i>Best practices and workflows</a></li>
<li class="chapter" data-level="" data-path="Getting-started-with-version-control.html"><a href="Getting-started-with-version-control.html#technical-references"><i class="fa fa-check"></i>Technical references</a></li>
<li class="chapter" data-level="" data-path="Getting-started-with-version-control.html"><a href="Getting-started-with-version-control.html#list-of-common-version-control-systems-and-repository-hosting-services"><i class="fa fa-check"></i>List of common version control systems and repository hosting services</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="move-to-your-own-machine.html"><a href="move-to-your-own-machine.html"><i class="fa fa-check"></i><b>13</b> Setting up your computer</a>
<ul>
<li class="chapter" data-level="13.1" data-path="move-to-your-own-machine.html"><a href="move-to-your-own-machine.html#overview-13"><i class="fa fa-check"></i><b>13.1</b> Overview</a></li>
<li class="chapter" data-level="13.2" data-path="move-to-your-own-machine.html"><a href="move-to-your-own-machine.html#chapter-learning-objectives-12"><i class="fa fa-check"></i><b>13.2</b> Chapter learning objectives</a></li>
<li class="chapter" data-level="13.3" data-path="move-to-your-own-machine.html"><a href="move-to-your-own-machine.html#installing-software-on-your-own-computer"><i class="fa fa-check"></i><b>13.3</b> Installing software on your own computer</a>
<ul>
<li class="chapter" data-level="13.3.1" data-path="move-to-your-own-machine.html"><a href="move-to-your-own-machine.html#git"><i class="fa fa-check"></i><b>13.3.1</b> Git</a></li>
<li class="chapter" data-level="13.3.2" data-path="move-to-your-own-machine.html"><a href="move-to-your-own-machine.html#miniconda"><i class="fa fa-check"></i><b>13.3.2</b> Miniconda</a></li>
<li class="chapter" data-level="13.3.3" data-path="move-to-your-own-machine.html"><a href="move-to-your-own-machine.html#jupyterlab"><i class="fa fa-check"></i><b>13.3.3</b> JupyterLab</a></li>
<li class="chapter" data-level="13.3.4" data-path="move-to-your-own-machine.html"><a href="move-to-your-own-machine.html#r-and-the-irkernel"><i class="fa fa-check"></i><b>13.3.4</b> R and the IRkernel</a></li>
<li class="chapter" data-level="13.3.5" data-path="move-to-your-own-machine.html"><a href="move-to-your-own-machine.html#r-packages"><i class="fa fa-check"></i><b>13.3.5</b> R packages</a></li>
<li class="chapter" data-level="13.3.6" data-path="move-to-your-own-machine.html"><a href="move-to-your-own-machine.html#latex"><i class="fa fa-check"></i><b>13.3.6</b> LaTeX</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="move-to-your-own-machine.html"><a href="move-to-your-own-machine.html#moving-files-to-your-computer"><i class="fa fa-check"></i><b>13.4</b> Moving files to your computer</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Science: A First Introduction</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="intro" class="section level1" number="1">
<h1><span class="header-section-number">Chapter 1</span> R and the tidyverse</h1>
<div id="overview" class="section level2" number="1.1">
<h2><span class="header-section-number">1.1</span> Overview</h2>
<p>This chapter provides an introduction to the R programming language. We will learn about some fundamental R topics and then go through an entire data analysis task! We will see how to load, clean, wrangle, and visualize some data to answer a specific question at a high level. Later in the book, we will learn each of these steps in more detail, but let’s jump in now to see how much we can do with data science!</p>
</div>
<div id="chapter-learning-objectives" class="section level2" number="1.2">
<h2><span class="header-section-number">1.2</span> Chapter Learning Objectives</h2>
<p>By the end of the chapter, readers will be able to:</p>
<ul>
<li>load the <code>tidyverse</code> package into R</li>
<li>create new variables and objects in R using the assignment symbol</li>
<li>use the help and documentation tools in R</li>
<li>match the names of the following functions from the <code>tidyverse</code> package to their documentation descriptions:
<ul>
<li><code>read_csv</code></li>
<li><code>select</code></li>
<li><code>filter</code></li>
<li><code>arrange</code></li>
<li><code>slice</code></li>
<li><code>ggplot</code></li>
<li><code>aes</code></li>
</ul></li>
</ul>
</div>
<div id="ask-a-question" class="section level2" number="1.3">
<h2><span class="header-section-number">1.3</span> Ask a question</h2>
<p>The second high-level goal in this book is to “identify and solve common problems in data science.”
The four common data science methods that are useful for answering predictive, exploratory and inferential data analysis questions covered in this book are:</p>
<ol style="list-style-type: decimal">
<li><p><strong>Classification: predicting a class/category for a new observation.</strong> This could answer a question such as whether a tumour is cancerous or benign given some tumour cell measurements?</p></li>
<li><p><strong>Regression: predicting a quantitative value for a new observation.</strong> This could answer a question such as what will be the 10 km race time for a 20-year-old woman with a BMI of 25 who trains four times a week?</p></li>
<li><p><strong>Clustering: finding previously unknown/unlabelled subgroups in a dataset</strong>. This could answer a question such as what products commonly bought together on Amazon?</p></li>
<li><p><strong>Estimation: make a good guess of an average or a proportion for the wider population from a representative sample (group of people or units), and quantify how good that guess is.</strong> This could answer a question such as what is the proportion of undergraduate students that own an iPhone?</p></li>
</ol>
<p>We will explain these methods in more detail later, and we will map each to the broader data analysis question (listed in Table <a href="intro.html#tab:questions-table">1.1</a>) they help answer and discuss what kinds of data are needed to answer such questions <span class="citation">(<a href="#ref-leek2015question" role="doc-biblioref">Leek and Peng 2015</a>; <a href="#ref-peng2015art" role="doc-biblioref">Peng and Matsui 2015</a>)</span>.</p>
<table>
<caption><span id="tab:questions-table">Table 1.1: </span> Types of data analysis questions</caption>
<colgroup>
<col width="40%" />
<col width="35%" />
<col width="24%" />
</colgroup>
<thead>
<tr class="header">
<th>Question type</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Descriptive</td>
<td>A question that asks about summarized characteristics of a data set without interpretation (i.e., report a fact).</td>
<td>How many people live in each province and territory in Canada?</td>
</tr>
<tr class="even">
<td>Exploratory</td>
<td>A question asks if there are patterns, trends, or relationships within a single data set. Often used to propose hypotheses for future study.</td>
<td>Does political party voting change with indicators of wealth in a set of data collected on 2,000 people living in Canada?</td>
</tr>
<tr class="odd">
<td>Inferential</td>
<td>A question that looks for patterns, trends, or relationships in a single data set <strong>and</strong> also asks for quantification of how applicable these findings are to the wider population.</td>
<td>Does political party voting change with indicators of wealth for all people living in Canada?</td>
</tr>
<tr class="even">
<td>Predictive</td>
<td>A question that asks about predicting measurements or labels for individuals (people or things). The focus is on what things predict some outcome, but not what causes the outcome.</td>
<td>What political party will someone vote for in the next Canadian election?</td>
</tr>
<tr class="odd">
<td>Causal</td>
<td>A question that asks about whether changing one factor will lead to a change in another factor, on average, in the wider population.</td>
<td>Does wealth lead to voting for a certain political party in Canadian elections?</td>
</tr>
<tr class="even">
<td>Mechanistic</td>
<td>A question that asks about the underlying mechanism of the observed patterns, trends, or relationships (i.e., how does it happen?)</td>
<td>How does wealth lead to voting for a certain political party in Canadian elections?</td>
</tr>
</tbody>
</table>
<p>Source: <a href="https://science.sciencemag.org/content/347/6228/1314">What is the question?</a> by Jeffery T. Leek, Roger D. Peng &amp; <a href="https://leanpub.com/artofdatascience">The Art of Data Science</a> by Roger Peng &amp; Elizabeth Matsui</p>
<blockquote>
<p>Causal or mechanistic questions in Table <a href="intro.html#tab:questions-table">1.1</a> are beyond the scope of this book.</p>
</blockquote>
</div>
<div id="canadian-languages-data-set-question" class="section level2" number="1.4">
<h2><span class="header-section-number">1.4</span> Canadian languages data set question</h2>
<p>Now that we’ve learned about different types of questions.
We need some context with which to frame the question we want to ask.</p>
<p>Before the arrival of colonists, Indigenous peoples lived in Canada with their
own cultures and many different languages. Many Aboriginal languages are unique
to Canada and not spoken anywhere else in the world <span class="citation">(<a href="#ref-statcan2018mothertongue" role="doc-biblioref">Canada 2018b</a>)</span>.
Sadly, colonization has led to the loss of many Aboriginal languages. For instance,
generations of children were not allowed to speak their mother tongue
(the first language an individual learns in childhood) in Canadian residential
schools. Colonizers also renamed places they had “discovered” <span class="citation">(<a href="#ref-wilson2018" role="doc-biblioref">K. Wilson 2018</a>)</span>.
Acts such as these have significantly harmed the continuity of Aboriginal languages in Canada, and some languages are considered “endangered” as few people report speaking them.</p>
<blockquote>
<p>To learn more, please see Canadian Geographic’s article on <a href="https://www.canadiangeographic.ca/article/mapping-indigenous-languages-canada">Mapping Indigenous languages in Canada</a> <span class="citation">(<a href="#ref-walker2017" role="doc-biblioref">Walker 2017</a>)</span>, <a href="http://publications.gc.ca/site/archivee-archived.html?url=http://publications.gc.ca/collections/collection_2012/cvrc-trcc/IR4-4-2012-eng.pdf">They Came for the Children: Canada, Aboriginal peoples, and
residential schools</a> <span class="citation">(<a href="#ref-children2012" role="doc-biblioref">Truth and Canada 2012</a>)</span> and the Truth and Reconciliation Commission of Canada’s <a href="http://trc.ca/assets/pdf/Calls_to_Action_English2.pdf">Calls to Action</a> <span class="citation">(<a href="#ref-calls2015" role="doc-biblioref">Truth and Canada 2015</a>)</span>.</p>
</blockquote>
<p>According to the 2016 census, more than 60 Aboriginal languages were reported as being spoken. Suppose we want to ask the question:</p>
<p><em>What ten Aboriginal languages were most often reported in 2016 as mother tongues in Canada, and how many people speak each of them?</em></p>
<p>This question is an example of a <em>descriptive question</em> since we are summarizing
the characteristics of a data set without further interpretation.
To answer descriptive questions, we often want to summarize data usings numbers, table or graphs. For our specific question, we could create a table or a visualization that shows us ten languages and their associated counts. Now that we have asked our question, the next step is collecting or identifying the data set with which we will be working.
In this chapter, we will be working with a data set originally from <a href="https://ttimbers.github.io/canlang/">{canlang} R data package</a> <span class="citation">(<a href="#ref-timbers2020canlang" role="doc-biblioref">Timbers 2020</a>)</span>, which has language data collected in the 2016 Canadian census <span class="citation">(<a href="#ref-cancensus2016" role="doc-biblioref">Canada 2016</a>)</span>.</p>
<p>In this data frame there are 214 rows (corresponding to the 214 languages recorded on the 2016 Canadian census) and 6 columns:</p>
<ol style="list-style-type: decimal">
<li><code>category</code>: Higher level language category (describing whether the language is an Official Canadian language, an Aboriginal language, or a Non-Official and Non-Aboriginal language).</li>
<li><code>language</code>: Language queried about on the Canadian Census.</li>
<li><code>mother_tongue</code>: Total count of Canadians from the Census who reported the language as their mother tongue. Mother tongue is generally defined as the language someone was exposed to since birth.</li>
<li><code>most_at_home</code>: Total count of Canadians from the Census who reported the language as spoken most often at home.</li>
<li><code>most_at_work</code>: Total count of Canadians from the Census who reported the language as used most often at work for the population.</li>
<li><code>lang_known</code>: Total count of Canadians from the Census who reported knowledge of language for the population in private households.</li>
</ol>
<blockquote>
<p>You can find the description of this data set above provided with the <a href="https://ttimbers.github.io/canlang/">{canlang} R data package</a>.</p>
</blockquote>
<blockquote>
<p><strong>A note about the <em>data</em> in data science!</strong>
Data science cannot be done without a deep understanding of the data and problem domain. In this book, we have simplified the data sets used in our examples to concentrate on concepts. In real life, we cannot and should not do data science without a domain expert. Alternatively, it is common to practice data science in your domain of expertise! Remember that when we work with data, it is essential to think about <em>how</em> the data were collected, which affects the conclusions we can draw. If your data are biased, then your results will be biased!</p>
</blockquote>
<p>Now that we have asked our question and identified the data we are using, we will
use R to load the data, do some wrangling (i.e. restructure the data into a usable format) and visualize the data to answer our question!</p>
</div>
<div id="loading-a-tabular-data-set" class="section level2" number="1.5">
<h2><span class="header-section-number">1.5</span> Loading a tabular data set</h2>
<p>Almost always, the first step in data analysis is to load a data set into R.
A data set is a collection of numbers or values and can come in many different forms!
Tables in Microsoft Excel are an example of <em>tablular data</em>, which are rectangular-shaped, spreadsheet-like data as shown in Figure <a href="intro.html#fig:img-spreadsheet-vs-dataframe">1.1</a>.
When we load this type of data into R, it is represented as a <em>data frame</em> object. Figure <a href="intro.html#fig:img-spreadsheet-vs-dataframe">1.1</a> shows an R data frame is very similar to a spreadsheet where the rows are <strong>observations</strong> (the things that we collect the data on e.g. voters, cities etc.), and the columns are <strong>variables</strong> (the characteristics of those observations e.g. voters’ political affiliation, cities’ population etc.).</p>
<div class="figure"><span id="fig:img-spreadsheet-vs-dataframe"></span>
<img src="img/spreadsheet_vs_dataframe.PNG" alt="A spreadsheet versus a data frame in R" width="850" />
<p class="caption">
Figure 1.1: A spreadsheet versus a data frame in R
</p>
</div>
<p>The first kind of data file that we will learn how to load into R (as a data frame) is the <em>comma-separated values</em> format (<code>.csv</code> for short).
These files have names ending in <code>.csv</code>, and can be opened and saved using common spreadsheet programs like Microsoft Excel and Google Sheets.
For example, the <code>.csv</code> file named <code>can_lang.csv</code> <a href="https://raw.githubusercontent.com/UBC-DSCI/introduction-to-datascience/master/data/can_lang.csv">is included with the code for this book</a>.
If we were to open this data in a plain text editor (a program that removes all formatting from programs like Word, such as Notepad), we would see each row on its own line, and each entry in the table separated by a comma:</p>
<pre><code>category,language,mother_tongue,most_at_home,most_at_work,lang_known
Aboriginal languages,&quot;Aboriginal languages, n.o.s.&quot;,590,235,30,665
Non-Official &amp; Non-Aboriginal languages,Afrikaans,10260,4785,85,23415
Non-Official &amp; Non-Aboriginal languages,&quot;Afro-Asiatic languages, n.i.e.&quot;,1150,445,10,2775
Non-Official &amp; Non-Aboriginal languages,Akan (Twi),13460,5985,25,22150
Non-Official &amp; Non-Aboriginal languages,Albanian,26895,13135,345,31930
Aboriginal languages,&quot;Algonquian languages, n.i.e.&quot;,45,10,0,120
Aboriginal languages,Algonquin,1260,370,40,2480
Non-Official &amp; Non-Aboriginal languages,American Sign Language,2685,3020,1145,21930
Non-Official &amp; Non-Aboriginal languages,Amharic,22465,12785,200,33670</code></pre>
<p>To load this data into R, so that we can do things with it (<em>e.g,</em> perform analyses or create data visualizations), we will need to use a <em>function.</em>
A function is a special word in R that takes instructions (we call these <em>arguments</em>) and does something. The function we will
use to load a <code>.csv</code> file into R is called <code>read_csv</code>.</p>
<p>In its most basic use-case, <code>read_csv</code> expects that the data file:</p>
<ul>
<li>has column names (or <em>headers</em>),</li>
<li>uses a comma (<code>,</code>) to separate the columns, and</li>
<li>does not have row names.</li>
</ul>
<p>Below you’ll see the code used to load the data into R using the <code>read_csv</code>
function. However, the <code>read_csv</code> function is not included in the base installation of R,
meaning that it is not one of the primary functions ready to use when you install R. Therefore,
you need to load it from somewhere else before you can use it. The place we will load it from is an R <em>package</em>. An R package is a collection
of functions that can be used in addition to the built-in R package
functions once loaded. The <code>read_csv</code> function, in particular, can be made accessible through the
<code>library</code> function by loading the <code>tidyverse</code> package <span class="citation">(<a href="#ref-wickham2019tidverse" role="doc-biblioref">Wickham et al. 2019</a>)</span>.
<code>tidyverse</code> contains many functions, which allow us to load, clean, wrangle and visualize data.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="intro.html#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
<pre><code>## ── Attaching packages ─────────────────────────────────────── tidyverse 1.3.1 ──</code></pre>
<pre><code>## ✔ ggplot2 3.3.5     ✔ purrr   0.3.4
## ✔ tibble  3.1.2     ✔ dplyr   1.0.7
## ✔ tidyr   1.1.3     ✔ stringr 1.4.0
## ✔ readr   1.4.0</code></pre>
<pre><code>## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
## ✖ dplyr::filter() masks stats::filter()
## ✖ dplyr::lag()    masks stats::lag()</code></pre>
<blockquote>
<p><strong>In case you want to know more (optional):</strong>
Notice that we got some extra output from R saying <code>Attaching packages</code> and <code>Conflicts</code> below our code line. These are examples of <em>messages</em> in R, which give the user more information that might be handy to know.
It is normal and expected that a message is printed out after
loading the <code>tidyverse</code> and some packages. Generally, this message let’s you
know if functions from the different packages were loaded share the same name
(which is confusing to R), and if so, which one you can access using just it’s
name (and which one you need to refer the package name and the function name to
refer to it, this is called masking). For example, the <code>dplyr</code> and the <code>stats</code>
package both use a function called <code>filter</code>. R is going to “mask” the <code>filter</code>
function from the <code>stats</code> package, meaning that it will default to the <code>dplyr</code> version of this function.
Additionally, <code>tidyverse</code> is a special
R package - it is a meta-package that bundles together several
related and commonly used packages. Because of this it lists the packages it
does the job of loading. For example, in this message, R tells us it loads the <code>ggplot2</code> package when it loads the <code>tidyverse</code> package.
Messages are not errors, so generally you don’t need to take action when you see a message, but you can read a message and decide for yourself.
In future when we load this package in this book we
will silence these messages to help with readability of the book.</p>
</blockquote>
<p>After loading the <code>tidyverse</code> package, we can call the <code>read_csv</code> function and
pass it a single argument: the name of the file, <code>"can_lang.csv"</code>. We have to put quotes around file names and other letters and words that we use in our code to distinguish it from the special words that make up the R programming language. The file’s name is the only argument we need to provide because our file satisfies everything else the <code>read_csv</code> function expects in the default use-case.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="intro.html#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">read_csv</span>(<span class="st">&quot;data/can_lang.csv&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 214 x 6
##    category       language    mother_tongue most_at_home most_at_work lang_known
##    &lt;chr&gt;          &lt;chr&gt;               &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;      &lt;dbl&gt;
##  1 Aboriginal la… Aboriginal…           590          235           30        665
##  2 Non-Official … Afrikaans           10260         4785           85      23415
##  3 Non-Official … Afro-Asiat…          1150          445           10       2775
##  4 Non-Official … Akan (Twi)          13460         5985           25      22150
##  5 Non-Official … Albanian            26895        13135          345      31930
##  6 Aboriginal la… Algonquian…            45           10            0        120
##  7 Aboriginal la… Algonquin            1260          370           40       2480
##  8 Non-Official … American S…          2685         3020         1145      21930
##  9 Non-Official … Amharic             22465        12785          200      33670
## 10 Non-Official … Arabic             419890       223535         5585     629055
## # … with 204 more rows</code></pre>
<blockquote>
<p><strong>In case you want to know more (optional):</strong>
There is another function, which also loads csv files called <code>read.csv</code>, which is a <em>base</em> R function, so we don’t need to load a package to use it. Why are we using <code>read_csv</code> instead of <code>read.csv</code>? We use the <code>read_csv</code> function from the <code>tidyverse</code> because it’s faster, and it has other advantages, such as a more readable format when printing the data frame. Therefore we will use <code>read_csv</code> from here on out.</p>
</blockquote>
</div>
<div id="naming-things-in-r" class="section level2" number="1.6">
<h2><span class="header-section-number">1.6</span> Naming things in R</h2>
<p>When we loaded the language data collected in the 2016 Canadian census
above using <code>read_csv</code>, we did not give this data frame a name.
Therefore the data was just printed on the screen,
and we cannot do anything else with it. That isn’t very useful.
What would be more useful would be to give a name
to the data frame that <code>read_csv</code> outputs,
so that we could refer to it later for analysis and visualization.</p>
<p>There are two possible ways to assign a name to something in R —
using either the assignment symbol (<code>&lt;-</code>) or the equals symbol (<code>=</code>).</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="intro.html#cb8-1" aria-hidden="true" tabindex="-1"></a>first_name <span class="ot">&lt;-</span> <span class="st">&quot;Naming using the assignment symbol&quot;</span></span>
<span id="cb8-2"><a href="intro.html#cb8-2" aria-hidden="true" tabindex="-1"></a>second_name <span class="ot">=</span> <span class="st">&quot;Naming using the equals symbol&quot;</span></span></code></pre></div>
<p>From a style perspective, the assignment symbol is preferred
and is what we will use in this book.
When we name something in R using the assignment symbol, <code>&lt;-</code>,
we do not need to surround the name we are giving (on <code>&lt;-</code>’s left-hand side)
with quotes, like the file name,
because we are formally telling R about this new word and giving it a value.
Only characters and words that act as values (on <code>&lt;-</code>’s right-hand side)
need to be surrounded by quotes.</p>
<p>Object names can consist of letters, numbers, periods <code>.</code> and underscores <code>_</code>.
Other symbols won’t work since they have their own meanings in R. For example,
<code>+</code> is an addition symbol used to add numbers. If we try to assign a name with the <code>+</code> symbol to an object R will complain and we will get an error!</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="intro.html#cb9-1" aria-hidden="true" tabindex="-1"></a>name<span class="sc">+</span> <span class="er">&lt;</span><span class="sc">-</span> <span class="dv">1</span></span></code></pre></div>
<pre><code>Error: unexpected assignment in &quot;name+ &lt;-&quot;</code></pre>
<p>There are certain conventions for naming objects in R. When naming an object we
suggest using only lower case letters, numbers and underscores <code>_</code> to separate the words in a name.
R is case sensitive, which means that <code>Letter</code> and <code>letter</code> would be two different
objects in R.
You should also try to give your objects meaningful names.
For instance, you <em>can</em> name a data frame <code>x</code>.
However, using more meaningful terms, such as <code>language_data</code>, will help you remember what each name in your code represents.
We recommend following the Tidyverse naming conventions outlined in the <a href="https://principles.tidyverse.org/names-attribute.html#universal-names">Tidyverse Style Guide</a> <span class="citation">(<a href="#ref-tidyversestyleguide" role="doc-biblioref">Wickham 2020</a>)</span>.
Let’s now use the assignment symbol to give the name <code>can_lang</code>
to the 2016 Canadian census language data frame that we get from <code>read_csv</code>.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="intro.html#cb11-1" aria-hidden="true" tabindex="-1"></a>can_lang <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/can_lang.csv&quot;</span>)</span></code></pre></div>
<p>Wait a minute, nothing happened this time! Or at least it looks like that?
But actually, something did happen! The data was loaded in
and now has the name <code>can_lang</code> associated with it.
And we can use that name to access the data frame and do things with it.
We can type the name of the data frame to print the first few rows
on the screen.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="intro.html#cb12-1" aria-hidden="true" tabindex="-1"></a>can_lang</span></code></pre></div>
<pre><code>## # A tibble: 214 x 6
##    category       language    mother_tongue most_at_home most_at_work lang_known
##    &lt;chr&gt;          &lt;chr&gt;               &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;      &lt;dbl&gt;
##  1 Aboriginal la… Aboriginal…           590          235           30        665
##  2 Non-Official … Afrikaans           10260         4785           85      23415
##  3 Non-Official … Afro-Asiat…          1150          445           10       2775
##  4 Non-Official … Akan (Twi)          13460         5985           25      22150
##  5 Non-Official … Albanian            26895        13135          345      31930
##  6 Aboriginal la… Algonquian…            45           10            0        120
##  7 Aboriginal la… Algonquin            1260          370           40       2480
##  8 Non-Official … American S…          2685         3020         1145      21930
##  9 Non-Official … Amharic             22465        12785          200      33670
## 10 Non-Official … Arabic             419890       223535         5585     629055
## # … with 204 more rows</code></pre>
</div>
<div id="creating-subsets-of-data-frames-with-filter-select" class="section level2" number="1.7">
<h2><span class="header-section-number">1.7</span> Creating subsets of data frames with <code>filter</code> &amp; <code>select</code></h2>
<p>Now that we’ve loaded our data into R, we can start wrangling the data to answer our question, <em>what ten Aboriginal languages were most often reported in 2016 as mother tongues in Canada, and how many people speak each of them?</em> To answer this question, we can construct a table with the ten Aboriginal languages that have highest counts in the <code>mother_tongue</code> column.</p>
<p>The <code>select</code> and <code>filter</code> functions from the <code>tidyverse</code> package will help us here. The <code>select</code> function allows you to create a subset of the columns of a data frame, while the <code>filter</code> function allows you to obtain a subset of the rows with specific values. Therefore, we can <code>filter</code> rows for only the Aboriginal languages in the data set and then use <code>select</code> to obtain only the columns we want to include in our table.</p>
<p>Let’s take a look at the language data collected in the 2016 Canadian census again to familiarize ourselves with it. We will do this by printing the data we loaded earlier in the chapter to the screen.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="intro.html#cb14-1" aria-hidden="true" tabindex="-1"></a>can_lang</span></code></pre></div>
<pre><code>## # A tibble: 214 x 6
##    category       language    mother_tongue most_at_home most_at_work lang_known
##    &lt;chr&gt;          &lt;chr&gt;               &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;      &lt;dbl&gt;
##  1 Aboriginal la… Aboriginal…           590          235           30        665
##  2 Non-Official … Afrikaans           10260         4785           85      23415
##  3 Non-Official … Afro-Asiat…          1150          445           10       2775
##  4 Non-Official … Akan (Twi)          13460         5985           25      22150
##  5 Non-Official … Albanian            26895        13135          345      31930
##  6 Aboriginal la… Algonquian…            45           10            0        120
##  7 Aboriginal la… Algonquin            1260          370           40       2480
##  8 Non-Official … American S…          2685         3020         1145      21930
##  9 Non-Official … Amharic             22465        12785          200      33670
## 10 Non-Official … Arabic             419890       223535         5585     629055
## # … with 204 more rows</code></pre>
<div id="using-filter-to-extract-rows" class="section level3" number="1.7.1">
<h3><span class="header-section-number">1.7.1</span> Using <code>filter</code> to extract rows</h3>
<p>Looking at our <code>can_lang</code> data, we see the column <code>category</code> contains
different high-level categories of languages, which include “Aboriginal languages,”
“Non-Official &amp; Non-Aboriginal languages” and “Official languages.”
To answer our question (what ten Aboriginal languages were most often reported in 2016 as mother tongues in Canada, and how many people speak each of them?) we
want to filter our data set so we restrict our attention to only the languages in the “Aboriginal languages” category.</p>
<p>We can use the <code>filter</code> function to obtain
the subset of rows with desired values from a data frame. Our first
argument is the name of the data frame object, <code>can_lang</code>. The second argument
is a logical statement to use when filtering the rows. We are interested
in looking at the languages in the “Aboriginal languages” higher-level category
in this data set and to filter only those rows, we use the <em>equivalency operator</em> <code>==</code> to compare the values of the <code>category</code> column with the value <code>"Aboriginal languages"</code>.
Similar to when we loaded the data file and put quotes around the filename,
here we need to put quotes around <code>"Aboriginal languages"</code>. Using quotes tells R
that this is a character value and not one of the special words that make up R
programming language, nor one of the names
we have given to data frames in the code we have already written.</p>
<blockquote>
<p>What’s a logical statement? A logical statement is a sentence that is <code>TRUE</code> or <code>FALSE</code>. For example, <code>1 &gt; 2</code> is logical statement. If you type this statement into R, you are asking R “Is the number 1 greater than 2?” and you will get <code>FALSE</code> as your answer.</p>
</blockquote>
<p>With these arguments, <code>filter</code> returns a data frame that has all the columns of the input data frame but only the rows we asked for in our logical filter statement.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="intro.html#cb16-1" aria-hidden="true" tabindex="-1"></a>aboriginal_lang <span class="ot">&lt;-</span> <span class="fu">filter</span>(can_lang, category <span class="sc">==</span> <span class="st">&quot;Aboriginal languages&quot;</span>)</span>
<span id="cb16-2"><a href="intro.html#cb16-2" aria-hidden="true" tabindex="-1"></a>aboriginal_lang</span></code></pre></div>
<pre><code>## # A tibble: 67 x 6
##    category     language      mother_tongue most_at_home most_at_work lang_known
##    &lt;chr&gt;        &lt;chr&gt;                 &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;      &lt;dbl&gt;
##  1 Aboriginal … Aboriginal l…           590          235           30        665
##  2 Aboriginal … Algonquian l…            45           10            0        120
##  3 Aboriginal … Algonquin              1260          370           40       2480
##  4 Aboriginal … Athabaskan l…            50           10            0         85
##  5 Aboriginal … Atikamekw              6150         5465         1100       6645
##  6 Aboriginal … Babine (Wets…           110           20           10        210
##  7 Aboriginal … Beaver                  190           50            0        340
##  8 Aboriginal … Blackfoot              2815         1110           85       5645
##  9 Aboriginal … Carrier                1025          250           15       2100
## 10 Aboriginal … Cayuga                   45           10           10        125
## # … with 57 more rows</code></pre>
<p>It’s good practice to check the output we get makes sense after we perform a function in R. We can see the original <code>can_lang</code> data set contained 214 rows with categories other than just “Aboriginal languages.” The data frame <code>aboriginal_lang</code> contains 67 rows and looks like it only contains languages in the “Aboriginal languages” in the <code>category</code> column, which is what we want!</p>
</div>
<div id="using-select-to-extract-columns" class="section level3" number="1.7.2">
<h3><span class="header-section-number">1.7.2</span> Using <code>select</code> to extract columns</h3>
<p>Now let’s use <code>select</code> to extract the <code>language</code> and <code>mother_tongue</code> columns from this data frame. To extract these columns, we need to provide the <code>select</code> function with three arguments. The first argument is the
name of the data frame object, which in this example is <code>aboriginal_lang</code>. The second and third arguments are the column names that we want to select, here <code>language</code> and <code>mother_tongue</code>. After passing these three arguments,
the <code>select</code> function returns two columns (the <code>language</code> and <code>mother_tongue</code> columns that we asked for) as a data frame.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="intro.html#cb18-1" aria-hidden="true" tabindex="-1"></a>selected_lang <span class="ot">&lt;-</span> <span class="fu">select</span>(aboriginal_lang, language, mother_tongue)</span>
<span id="cb18-2"><a href="intro.html#cb18-2" aria-hidden="true" tabindex="-1"></a>selected_lang</span></code></pre></div>
<pre><code>## # A tibble: 67 x 2
##    language                     mother_tongue
##    &lt;chr&gt;                                &lt;dbl&gt;
##  1 Aboriginal languages, n.o.s.           590
##  2 Algonquian languages, n.i.e.            45
##  3 Algonquin                             1260
##  4 Athabaskan languages, n.i.e.            50
##  5 Atikamekw                             6150
##  6 Babine (Wetsuwet&#39;en)                   110
##  7 Beaver                                 190
##  8 Blackfoot                             2815
##  9 Carrier                               1025
## 10 Cayuga                                  45
## # … with 57 more rows</code></pre>
<blockquote>
<p>Note: we didn’t actually <em>need</em> to <code>select</code> the columns in our data frame before moving on to the next step! However, <code>select</code> allows us to display only the columns in the data frame we want and can make it easier for us to view the data especially if we have a large data frame with lots of columns.</p>
</blockquote>
</div>
<div id="using-arrange-to-order-and-slice-to-select-rows-by-index-number" class="section level3" number="1.7.3">
<h3><span class="header-section-number">1.7.3</span> Using <code>arrange</code> to order and <code>slice</code> to select rows by index number</h3>
<p>We have used <code>filter</code> and <code>select</code> to obtain a table with only the Aboriginal languages in the data set and their associated counts. However, we want to know the <strong>ten</strong> languages that are spoken most often. As a next step, we could order the <code>mother_tongue</code> column from greatest to least and then select only the top ten rows. This is where the <code>arrange</code> and <code>slice</code> functions come to the rescue!</p>
<p>The <code>arrange</code> function allows us to order the rows of a data frame by the values of a selected column. We need to pass the data frame, and the variable to order by in the first two arguments of this function. Since we want to choose the ten Aboriginal languages most often reported as a mother tongue language, we will use the <code>arrange</code> function to order the rows in our <code>selected_lang</code> data frame by the <code>mother_tongue</code> column. We want to order the rows in descending order (from largest to smallest) so we include <code>desc</code> before the column name <code>mother_tongue</code> to sort in descending order.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="intro.html#cb20-1" aria-hidden="true" tabindex="-1"></a>arranged_lang <span class="ot">&lt;-</span> <span class="fu">arrange</span>(selected_lang, <span class="at">by =</span> <span class="fu">desc</span>(mother_tongue))</span>
<span id="cb20-2"><a href="intro.html#cb20-2" aria-hidden="true" tabindex="-1"></a>arranged_lang</span></code></pre></div>
<pre><code>## # A tibble: 67 x 2
##    language          mother_tongue
##    &lt;chr&gt;                     &lt;dbl&gt;
##  1 Cree, n.o.s.              64050
##  2 Inuktitut                 35210
##  3 Ojibway                   17885
##  4 Oji-Cree                  12855
##  5 Dene                      10700
##  6 Montagnais (Innu)         10235
##  7 Mi&#39;kmaq                    6690
##  8 Atikamekw                  6150
##  9 Plains Cree                3065
## 10 Stoney                     3025
## # … with 57 more rows</code></pre>
<p>Next we will use the <code>slice</code> function, which selects rows according to their row number. Since we want to choose ten languages, we will indicate we want the rows 1 to 10 using the argument <code>1:10</code>.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="intro.html#cb22-1" aria-hidden="true" tabindex="-1"></a>ten_lang <span class="ot">&lt;-</span> <span class="fu">slice</span>(arranged_lang, <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span>
<span id="cb22-2"><a href="intro.html#cb22-2" aria-hidden="true" tabindex="-1"></a>ten_lang</span></code></pre></div>
<pre><code>## # A tibble: 10 x 2
##    language          mother_tongue
##    &lt;chr&gt;                     &lt;dbl&gt;
##  1 Cree, n.o.s.              64050
##  2 Inuktitut                 35210
##  3 Ojibway                   17885
##  4 Oji-Cree                  12855
##  5 Dene                      10700
##  6 Montagnais (Innu)         10235
##  7 Mi&#39;kmaq                    6690
##  8 Atikamekw                  6150
##  9 Plains Cree                3065
## 10 Stoney                     3025</code></pre>
<p>We have now answered our initial question by generating this frequency table! Are we done? Technically, this table answers our question. However, we can go one step further and create a visualization to answer our question as well. Visualizations are a great tool for summarizing information to help you effectively communicate with your audience. While tables are great for displaying information, a visualization can sometimes provide more insight. For example, if we were really interested in <em>comparing</em> the values between the different languages (e.g. how many more people reported “Cree, n.o.s.” versus “Inuktitut” versus “Ojibway” etc.), then a visualization is a more effective way to communicate your results than a frequency table.</p>
</div>
</div>
<div id="exploring-data-with-visualizations" class="section level2" number="1.8">
<h2><span class="header-section-number">1.8</span> Exploring data with visualizations</h2>
<p>Creating effective data visualizations is an essential piece to any data analysis. We will develop a visualization of the language data collected in the 2016 Canadian census we’ve been working with to help us understand the ten Aboriginal languages that were most often reported in 2016 as mother tongues in Canada and the number of people that speak each of them.</p>
<div id="using-ggplot-to-create-a-bar-plot" class="section level3" number="1.8.1">
<h3><span class="header-section-number">1.8.1</span> Using <code>ggplot</code> to create a bar plot</h3>
<p>In our data set, we can see that <code>language</code> and <code>mother_tongue</code> are in separate columns. In addition, there is a single row (or observation) for each language. The data are, therefore, in what we call a <em>tidy data</em> format. Tidy data is a fundamental concept and will be a significant focus in the remainder of this book: many of the functions from <code>tidyverse</code> require tidy data, including the <code>ggplot</code> function that we will use shortly for our visualization. We will formally introduce this concept in chapter 3.</p>
<p>We will make a bar plot to visualize our data. A bar plot is a chart where the heights of the bars represent certain values, like counts or proportions. We will make a bar plot using the <code>most_at_home</code> and <code>language</code> columns from our <code>ten_lang</code> data frame.
To create a bar plot of these two variables using the <code>ggplot</code> function, we would do the following:</p>
<div class="figure"><span id="fig:img-ggplot"></span>
<img src="img/ggplot_function.jpeg" alt="Creating a bar plot with the ggplot function" width="1100" />
<p class="caption">
Figure 1.2: Creating a bar plot with the ggplot function
</p>
</div>
<p>In Figure <a href="intro.html#fig:barplot-mother-tongue">1.3</a>, we create a bar plot using the <code>ggplot</code> function following the instructions described in figure <a href="intro.html#fig:img-ggplot">1.2</a>:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="intro.html#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ten_lang, <span class="fu">aes</span>(<span class="at">x =</span> language, <span class="at">y =</span> mother_tongue)) <span class="sc">+</span></span>
<span id="cb24-2"><a href="intro.html#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>)</span></code></pre></div>
<div class="figure"><span id="fig:barplot-mother-tongue"></span>
<img src="_main_files/figure-html/barplot-mother-tongue-1.png" alt="Bar plot of the ten Aboriginal languages most often reported by Canadians as their mother tongue" width="552" />
<p class="caption">
Figure 1.3: Bar plot of the ten Aboriginal languages most often reported by Canadians as their mother tongue
</p>
</div>
<blockquote>
<p><strong>In case you have used R before and are curious:</strong>
There are a small number of situations in which you can have a single R expression span multiple lines.
Here, the <code>+</code> symbol at the end of the first line tells R that the expression isn’t done yet and to
continue reading on the following line. While not strictly necessary, this sort of pattern will appear a
lot when using <code>ggplot</code> as it keeps things more readable.</p>
</blockquote>
</div>
<div id="formatting-ggplot-objects" class="section level3" number="1.8.2">
<h3><span class="header-section-number">1.8.2</span> Formatting ggplot objects</h3>
<p>It is exciting that we can already visualize our data to help answer our question, but we are not done yet! We can (and should) do more to improve the interpretability of the data visualization that we created. For example, by default, R uses the column names as the axis labels. However, usually, these column names do not have enough information about the variable in the column. We really should replace this default with a more informative label. For the example above, R uses the column name <code>mother_tongue</code> as the label for the y-axis, but most people will not know what that is. And even if they did, they will not know how we measure this variable, nor which group of people the measurements were taken. An axis label that reads “Mother tongue (Number of Canadians residents)” would be much more informative.</p>
<p>Adding additional layers to our visualizations that we create in <code>ggplot</code> is one common and easy way to improve and refine our data visualizations. New layers are added to <code>ggplot</code> objects using the <code>+</code> symbol. For example, we can use the <code>xlab</code> and <code>ylab</code> functions to add layers where we specify meaningful and informative labels for the x and y axes. Again, since we are specifying words (e.g. <code>"Mother tongue (Number of Canadians residents)"</code>) as arguments to <code>xlab</code> and <code>ylab</code>, we surround them with double-quotes. We can add many more layers to format the plot further, and we will explore these in chapter <a href="viz.html#viz">4</a>.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="intro.html#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ten_lang, <span class="fu">aes</span>(<span class="at">x =</span> language, <span class="at">y =</span> mother_tongue)) <span class="sc">+</span></span>
<span id="cb25-2"><a href="intro.html#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>) <span class="sc">+</span></span>
<span id="cb25-3"><a href="intro.html#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Language&quot;</span>) <span class="sc">+</span></span>
<span id="cb25-4"><a href="intro.html#cb25-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Mother tongue (Number of Canadians residents)&quot;</span>)</span></code></pre></div>
<div class="figure"><span id="fig:barplot-mother-tongue-labs"></span>
<img src="_main_files/figure-html/barplot-mother-tongue-labs-1.png" alt="Bar plot of the ten Aboriginal languages most often reported by Canadians as their mother tongue with x and y labels" width="552" />
<p class="caption">
Figure 1.4: Bar plot of the ten Aboriginal languages most often reported by Canadians as their mother tongue with x and y labels
</p>
</div>
<p>In figure <a href="intro.html#fig:barplot-mother-tongue-labs">1.4</a>, the x labels overlap, making it challenging to read the different languages. One solution is to rotate the plot, so the bars are horizontal, and thus the labels will be more readable. We will swap the x and y coordinate axes:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="intro.html#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ten_lang, <span class="fu">aes</span>(<span class="at">x =</span> mother_tongue, <span class="at">y =</span> language)) <span class="sc">+</span></span>
<span id="cb26-2"><a href="intro.html#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>) <span class="sc">+</span></span>
<span id="cb26-3"><a href="intro.html#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Mother tongue (Number of Canadians residents)&quot;</span>) <span class="sc">+</span></span>
<span id="cb26-4"><a href="intro.html#cb26-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Language&quot;</span>) </span></code></pre></div>
<div class="figure"><span id="fig:barplot-mother-tongue-flipped"></span>
<img src="_main_files/figure-html/barplot-mother-tongue-flipped-1.png" alt="Horizontal bar plot of the ten Aboriginal languages most often reported by Canadians as their mother tongue" width="552" />
<p class="caption">
Figure 1.5: Horizontal bar plot of the ten Aboriginal languages most often reported by Canadians as their mother tongue
</p>
</div>
<p>From figure <a href="intro.html#fig:barplot-mother-tongue-flipped">1.5</a>, we have answered our initial question. However, our visualization could be made more transparent by organizing the bars according to the number of Canadian residents reporting each language rather than in alphabetical order. We can reorder the bars using the <code>reorder</code> function, which orders a variable (here <code>language</code>) based on the values of the second variable (<code>mother_tongue</code>):</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="intro.html#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ten_lang, <span class="fu">aes</span>(<span class="at">x =</span> mother_tongue, <span class="at">y =</span> <span class="fu">reorder</span>(language, mother_tongue))) <span class="sc">+</span></span>
<span id="cb27-2"><a href="intro.html#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>) <span class="sc">+</span></span>
<span id="cb27-3"><a href="intro.html#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Mother tongue (Number of Canadians residents)&quot;</span>) <span class="sc">+</span></span>
<span id="cb27-4"><a href="intro.html#cb27-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ylab</span>(<span class="st">&quot;Language&quot;</span>) </span></code></pre></div>
<div class="figure"><span id="fig:barplot-mother-tongue-reorder"></span>
<img src="_main_files/figure-html/barplot-mother-tongue-reorder-1.png" alt="Bar plot of the ten Aboriginal languages most often reported by Canadians as their mother tongue with bars reordered" width="552" />
<p class="caption">
Figure 1.6: Bar plot of the ten Aboriginal languages most often reported by Canadians as their mother tongue with bars reordered
</p>
</div>
<p>From figure <a href="intro.html#fig:barplot-mother-tongue-reorder">1.6</a>, we have answered our question since we can see what the ten most often reported Aboriginal languages were according to the 2016 Candian census and how many people speak them. For instance, we can see that the Aboriginal language most often reported was Cree n.o.s. with over 60,000 Canadian residents reporting it as their mother tongue.</p>
<blockquote>
<p>“n.o.s.” means “not otherwise specified,” so Cree n.o.s. refers to individuals who reported Cree as their mother tongue. In this data set, the Cree languages include the following categories: Cree n.o.s., Swampy Cree, Plains Cree, Woods Cree, and a ‘Cree not included elsewhere’ category (which includes Moose Cree, Northern East Cree and Southern East Cree) <span class="citation">(<a href="#ref-language2018" role="doc-biblioref">Canada 2018a</a>)</span>.</p>
</blockquote>
<p>Learning how to describe data visualizations is a very useful skill. We will provide descriptions for you in this book (as we did above) until we get to chapter 4, which focuses on data visualization. Then, we will explicitly teach you how to do this yourself and not over-state or over-interpret the results from a visualization.</p>
</div>
<div id="putting-it-all-together" class="section level3" number="1.8.3">
<h3><span class="header-section-number">1.8.3</span> Putting it all together</h3>
<p>In the code chunk below, we put everything from this chapter together. We have added a few more layers to make the data visualization even more effective. Specifically, we changed the colour of the bars and changed the background from grey to white to improve the contrast. Note that we actually skipped the <code>select</code> step that we did above just to show you that we didn’t actually need to <code>select</code> the columns to create the visualization!</p>
<blockquote>
<p>Notice that we provided <em>comments</em> beside some of the code below using the hashtag symbol <code>#</code>. You can use comments to explain lines of code for others or yourself in the future! If R sees a <code>#</code> sign, it will ignore all the code that comes after it on that line. It’s good practice to get in the habit of commenting your code to improve your code’s readability.</p>
</blockquote>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="intro.html#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb28-2"><a href="intro.html#cb28-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-3"><a href="intro.html#cb28-3" aria-hidden="true" tabindex="-1"></a>can_lang <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/can_lang.csv&quot;</span>)</span>
<span id="cb28-4"><a href="intro.html#cb28-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-5"><a href="intro.html#cb28-5" aria-hidden="true" tabindex="-1"></a>aboriginal_lang <span class="ot">&lt;-</span> <span class="fu">filter</span>(can_lang, category <span class="sc">==</span> <span class="st">&quot;Aboriginal languages&quot;</span>)</span>
<span id="cb28-6"><a href="intro.html#cb28-6" aria-hidden="true" tabindex="-1"></a>arranged_lang <span class="ot">&lt;-</span> <span class="fu">arrange</span>(aboriginal_lang, <span class="at">by =</span> <span class="fu">desc</span>(mother_tongue))</span>
<span id="cb28-7"><a href="intro.html#cb28-7" aria-hidden="true" tabindex="-1"></a>ten_lang <span class="ot">&lt;-</span> <span class="fu">slice</span>(arranged_lang, <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span>
<span id="cb28-8"><a href="intro.html#cb28-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-9"><a href="intro.html#cb28-9" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ten_lang, <span class="fu">aes</span>(</span>
<span id="cb28-10"><a href="intro.html#cb28-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> mother_tongue,</span>
<span id="cb28-11"><a href="intro.html#cb28-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="fu">reorder</span>(language, mother_tongue)</span>
<span id="cb28-12"><a href="intro.html#cb28-12" aria-hidden="true" tabindex="-1"></a>)) <span class="sc">+</span></span>
<span id="cb28-13"><a href="intro.html#cb28-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>, <span class="at">fill =</span> <span class="st">&quot;steelblue&quot;</span>) <span class="sc">+</span></span>
<span id="cb28-14"><a href="intro.html#cb28-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Mother tongue (Number of Canadians residents)&quot;</span>) <span class="sc">+</span></span>
<span id="cb28-15"><a href="intro.html#cb28-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Language&quot;</span>) <span class="sc">+</span></span>
<span id="cb28-16"><a href="intro.html#cb28-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="co"># use a theme to have a white background</span></span></code></pre></div>
<div class="figure"><span id="fig:nachos-to-cheesecake"></span>
<img src="_main_files/figure-html/nachos-to-cheesecake-1.png" alt="Putting it all together: Bar plot of the ten Aboriginal languages most often reported by Canadians as their mother tongue" width="744" />
<p class="caption">
Figure 1.7: Putting it all together: Bar plot of the ten Aboriginal languages most often reported by Canadians as their mother tongue
</p>
</div>
<p>This exercise demonstrates the power of R. In relatively few lines of code, we performed an entire data science workflow with a highly effective data visualization! We asked a question, loaded the data into R, wrangled the data (using <code>filter</code>, <code>arrange</code> and <code>slice</code>) and created a data visualization to help answer our question. In this chapter, you got a quick taste of the data science workflow, but we will learn each of these steps in more detail in the coming chapters!</p>

</div>
</div>
</div>
<h3>References</h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-cancensus2016" class="csl-entry">
Canada, Statistics. 2016. <span>“Census of Population. Reproduced and Distributed on an "as Is" Basis with the Permission of Statistics Canada.”</span>
</div>
<div id="ref-language2018" class="csl-entry">
———. 2018a. <span>“Aboriginal Languages in Canada.”</span>
</div>
<div id="ref-statcan2018mothertongue" class="csl-entry">
———. 2018b. <span>“The Evolution of Language Populations in Canada, by Mother Tongue, from 1901 to 2016.”</span> <a href="https://www150.statcan.gc.ca/n1/pub/11-630-x/11-630-x2018001-eng.htm">https://www150.statcan.gc.ca/n1/pub/11-630-x/11-630-x2018001-eng.htm</a>.
</div>
<div id="ref-leek2015question" class="csl-entry">
Leek, Jeffery T, and Roger D Peng. 2015. <span>“What Is the Question?”</span> <em>Science</em> 347 (6228): 1314–15.
</div>
<div id="ref-peng2015art" class="csl-entry">
Peng, Roger D, and Elizabeth Matsui. 2015. <span>“The Art of Data Science.”</span> <em>A Guide for Anyone Who Works with Data. Skybrude Consulting, LLC</em>.
</div>
<div id="ref-timbers2020canlang" class="csl-entry">
Timbers, Tiffany. 2020. <em>Canlang: Canadian Census Language Data</em>. <a href="https://ttimbers.github.io/canlang/">https://ttimbers.github.io/canlang/</a>.
</div>
<div id="ref-children2012" class="csl-entry">
Truth, Canada., and Reconciliation Commission of Canada. 2012. <em>They Came for the Children : Canada, Aboriginal Peoples, and the Residential Schools</em>. Ottawa - Ontario : Truth; Reconciliation Commission of Canada.
</div>
<div id="ref-calls2015" class="csl-entry">
———. 2015. <span>“Calls to Action.”</span> <a href="http://trc.ca/assets/pdf/Calls_to_Action_English2.pdf">http://trc.ca/assets/pdf/Calls_to_Action_English2.pdf</a>.
</div>
<div id="ref-walker2017" class="csl-entry">
Walker, Nick. 2017. <span>“Mapping Indigenous Languages in Canada.”</span> 2017. <a href="https://www.canadiangeographic.ca/article/mapping-indigenous-languages-canada">https://www.canadiangeographic.ca/article/mapping-indigenous-languages-canada</a>.
</div>
<div id="ref-tidyversestyleguide" class="csl-entry">
Wickham, Hadley. 2020. <span>“The Tidyverse Style Guide.”</span> 2020. <a href="https://style.tidyverse.org/">https://style.tidyverse.org/</a>.
</div>
<div id="ref-wickham2019tidverse" class="csl-entry">
Wickham, Hadley, Mara Averick, Jennifer Bryan, Winston Chang, Lucy D’Agostino McGowan, Romain François, Garrett Grolemund, et al. 2019. <span>“Welcome to the <span class="nocase">tidyverse</span>.”</span> <em>Journal of Open Source Software</em> 4 (43): 1686. <a href="https://doi.org/10.21105/joss.01686">https://doi.org/10.21105/joss.01686</a>.
</div>
<div id="ref-wilson2018" class="csl-entry">
Wilson, Kory. 2018. <span>“Pull Together: Foundations Guide.”</span> 2018. <a href="https://opentextbc.ca/indigenizationfoundations/">https://opentextbc.ca/indigenizationfoundations/</a>.
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="reading.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/intro.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
