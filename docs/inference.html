<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 10 Statistical inference | Data Science: A First Introduction</title>
  <meta name="description" content="This is a textbook for teaching a first introduction to data science." />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 10 Statistical inference | Data Science: A First Introduction" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a textbook for teaching a first introduction to data science." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 10 Statistical inference | Data Science: A First Introduction" />
  
  <meta name="twitter:description" content="This is a textbook for teaching a first introduction to data science." />
  

<meta name="author" content="Tiffany-Anne Timbers" />
<meta name="author" content="Trevor Campbell" />
<meta name="author" content="Melissa Lee" />


<meta name="date" content="2021-11-18" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="clustering.html"/>
<link rel="next" href="getting-started-with-jupyter.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.10.0/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.1/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.5.1/plotly-latest.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data Science: A First Introduction</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="" data-path="acknowledgments.html"><a href="acknowledgments.html"><i class="fa fa-check"></i>Acknowledgments</a></li>
<li class="chapter" data-level="" data-path="about-the-authors.html"><a href="about-the-authors.html"><i class="fa fa-check"></i>About the authors</a></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> R and the tidyverse</a>
<ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#overview"><i class="fa fa-check"></i><b>1.1</b> Overview</a></li>
<li class="chapter" data-level="1.2" data-path="intro.html"><a href="intro.html#chapter-learning-objectives"><i class="fa fa-check"></i><b>1.2</b> Chapter learning objectives</a></li>
<li class="chapter" data-level="1.3" data-path="intro.html"><a href="intro.html#canadian-languages-data-set"><i class="fa fa-check"></i><b>1.3</b> Canadian languages data set</a></li>
<li class="chapter" data-level="1.4" data-path="intro.html"><a href="intro.html#asking-a-question"><i class="fa fa-check"></i><b>1.4</b> Asking a question</a></li>
<li class="chapter" data-level="1.5" data-path="intro.html"><a href="intro.html#loading-a-tabular-data-set"><i class="fa fa-check"></i><b>1.5</b> Loading a tabular data set</a></li>
<li class="chapter" data-level="1.6" data-path="intro.html"><a href="intro.html#naming-things-in-r"><i class="fa fa-check"></i><b>1.6</b> Naming things in R</a></li>
<li class="chapter" data-level="1.7" data-path="intro.html"><a href="intro.html#creating-subsets-of-data-frames-with-filter-select"><i class="fa fa-check"></i><b>1.7</b> Creating subsets of data frames with <code>filter</code> &amp; <code>select</code></a>
<ul>
<li class="chapter" data-level="1.7.1" data-path="intro.html"><a href="intro.html#using-filter-to-extract-rows"><i class="fa fa-check"></i><b>1.7.1</b> Using <code>filter</code> to extract rows</a></li>
<li class="chapter" data-level="1.7.2" data-path="intro.html"><a href="intro.html#using-select-to-extract-columns"><i class="fa fa-check"></i><b>1.7.2</b> Using <code>select</code> to extract columns</a></li>
<li class="chapter" data-level="1.7.3" data-path="intro.html"><a href="intro.html#using-arrange-to-order-and-slice-to-select-rows-by-index-number"><i class="fa fa-check"></i><b>1.7.3</b> Using <code>arrange</code> to order and <code>slice</code> to select rows by index number</a></li>
</ul></li>
<li class="chapter" data-level="1.8" data-path="intro.html"><a href="intro.html#exploring-data-with-visualizations"><i class="fa fa-check"></i><b>1.8</b> Exploring data with visualizations</a>
<ul>
<li class="chapter" data-level="1.8.1" data-path="intro.html"><a href="intro.html#using-ggplot-to-create-a-bar-plot"><i class="fa fa-check"></i><b>1.8.1</b> Using <code>ggplot</code> to create a bar plot</a></li>
<li class="chapter" data-level="1.8.2" data-path="intro.html"><a href="intro.html#formatting-ggplot-objects"><i class="fa fa-check"></i><b>1.8.2</b> Formatting ggplot objects</a></li>
<li class="chapter" data-level="1.8.3" data-path="intro.html"><a href="intro.html#putting-it-all-together"><i class="fa fa-check"></i><b>1.8.3</b> Putting it all together</a></li>
</ul></li>
<li class="chapter" data-level="1.9" data-path="intro.html"><a href="intro.html#accessing-documentation"><i class="fa fa-check"></i><b>1.9</b> Accessing documentation</a></li>
<li class="chapter" data-level="1.10" data-path="intro.html"><a href="intro.html#exercises"><i class="fa fa-check"></i><b>1.10</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="reading.html"><a href="reading.html"><i class="fa fa-check"></i><b>2</b> Reading in data locally and from the web</a>
<ul>
<li class="chapter" data-level="2.1" data-path="reading.html"><a href="reading.html#overview-1"><i class="fa fa-check"></i><b>2.1</b> Overview</a></li>
<li class="chapter" data-level="2.2" data-path="reading.html"><a href="reading.html#chapter-learning-objectives-1"><i class="fa fa-check"></i><b>2.2</b> Chapter learning objectives</a></li>
<li class="chapter" data-level="2.3" data-path="reading.html"><a href="reading.html#absolute-and-relative-file-paths"><i class="fa fa-check"></i><b>2.3</b> Absolute and relative file paths</a></li>
<li class="chapter" data-level="2.4" data-path="reading.html"><a href="reading.html#reading-tabular-data-from-a-plain-text-file-into-r"><i class="fa fa-check"></i><b>2.4</b> Reading tabular data from a plain text file into R</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="reading.html"><a href="reading.html#readcsv"><i class="fa fa-check"></i><b>2.4.1</b> <code>read_csv</code> to read in comma-separated files</a></li>
<li class="chapter" data-level="2.4.2" data-path="reading.html"><a href="reading.html#skipping-rows-when-reading-in-data"><i class="fa fa-check"></i><b>2.4.2</b> Skipping rows when reading in data</a></li>
<li class="chapter" data-level="2.4.3" data-path="reading.html"><a href="reading.html#read_tsv-to-read-in-tab-separated-files"><i class="fa fa-check"></i><b>2.4.3</b> <code>read_tsv</code> to read in tab-separated files</a></li>
<li class="chapter" data-level="2.4.4" data-path="reading.html"><a href="reading.html#read_delim-as-a-more-flexible-method-to-get-tabular-data-into-r"><i class="fa fa-check"></i><b>2.4.4</b> <code>read_delim</code> as a more flexible method to get tabular data into R</a></li>
<li class="chapter" data-level="2.4.5" data-path="reading.html"><a href="reading.html#reading-tabular-data-directly-from-a-url"><i class="fa fa-check"></i><b>2.4.5</b> Reading tabular data directly from a URL</a></li>
<li class="chapter" data-level="2.4.6" data-path="reading.html"><a href="reading.html#previewing-a-data-file-before-reading-it-into-r"><i class="fa fa-check"></i><b>2.4.6</b> Previewing a data file before reading it into R</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="reading.html"><a href="reading.html#reading-tabular-data-from-a-microsoft-excel-file"><i class="fa fa-check"></i><b>2.5</b> Reading tabular data from a Microsoft Excel file</a></li>
<li class="chapter" data-level="2.6" data-path="reading.html"><a href="reading.html#reading-data-from-a-database"><i class="fa fa-check"></i><b>2.6</b> Reading data from a database</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="reading.html"><a href="reading.html#reading-data-from-a-sqlite-database"><i class="fa fa-check"></i><b>2.6.1</b> Reading data from a SQLite database</a></li>
<li class="chapter" data-level="2.6.2" data-path="reading.html"><a href="reading.html#reading-data-from-a-postgresql-database"><i class="fa fa-check"></i><b>2.6.2</b> Reading data from a PostgreSQL database</a></li>
<li class="chapter" data-level="2.6.3" data-path="reading.html"><a href="reading.html#why-should-we-bother-with-databases-at-all"><i class="fa fa-check"></i><b>2.6.3</b> Why should we bother with databases at all?</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="reading.html"><a href="reading.html#writing-data-from-r-to-a-.csv-file"><i class="fa fa-check"></i><b>2.7</b> Writing data from R to a <code>.csv</code> file</a></li>
<li class="chapter" data-level="2.8" data-path="reading.html"><a href="reading.html#obtaining-data-from-the-web"><i class="fa fa-check"></i><b>2.8</b> Obtaining data from the web</a>
<ul>
<li class="chapter" data-level="2.8.1" data-path="reading.html"><a href="reading.html#web-scraping"><i class="fa fa-check"></i><b>2.8.1</b> Web scraping</a></li>
<li class="chapter" data-level="2.8.2" data-path="reading.html"><a href="reading.html#using-an-api"><i class="fa fa-check"></i><b>2.8.2</b> Using an API</a></li>
</ul></li>
<li class="chapter" data-level="2.9" data-path="reading.html"><a href="reading.html#exercises-1"><i class="fa fa-check"></i><b>2.9</b> Exercises</a></li>
<li class="chapter" data-level="2.10" data-path="reading.html"><a href="reading.html#additional-resources"><i class="fa fa-check"></i><b>2.10</b> Additional resources</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="wrangling.html"><a href="wrangling.html"><i class="fa fa-check"></i><b>3</b> Cleaning and wrangling data</a>
<ul>
<li class="chapter" data-level="3.1" data-path="wrangling.html"><a href="wrangling.html#overview-2"><i class="fa fa-check"></i><b>3.1</b> Overview</a></li>
<li class="chapter" data-level="3.2" data-path="wrangling.html"><a href="wrangling.html#chapter-learning-objectives-2"><i class="fa fa-check"></i><b>3.2</b> Chapter learning objectives</a></li>
<li class="chapter" data-level="3.3" data-path="wrangling.html"><a href="wrangling.html#data-frames-vectors-and-lists"><i class="fa fa-check"></i><b>3.3</b> Data frames, vectors, and lists</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="wrangling.html"><a href="wrangling.html#what-is-a-data-frame"><i class="fa fa-check"></i><b>3.3.1</b> What is a data frame?</a></li>
<li class="chapter" data-level="3.3.2" data-path="wrangling.html"><a href="wrangling.html#what-is-a-vector"><i class="fa fa-check"></i><b>3.3.2</b> What is a vector?</a></li>
<li class="chapter" data-level="3.3.3" data-path="wrangling.html"><a href="wrangling.html#what-is-a-list"><i class="fa fa-check"></i><b>3.3.3</b> What is a list?</a></li>
<li class="chapter" data-level="3.3.4" data-path="wrangling.html"><a href="wrangling.html#what-does-this-have-to-do-with-data-frames"><i class="fa fa-check"></i><b>3.3.4</b> What does this have to do with data frames?</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="wrangling.html"><a href="wrangling.html#tidy-data"><i class="fa fa-check"></i><b>3.4</b> Tidy data</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="wrangling.html"><a href="wrangling.html#tidying-up-going-from-wide-to-long-using-pivot_longer"><i class="fa fa-check"></i><b>3.4.1</b> Tidying up: going from wide to long using <code>pivot_longer</code></a></li>
<li class="chapter" data-level="3.4.2" data-path="wrangling.html"><a href="wrangling.html#pivot-wider"><i class="fa fa-check"></i><b>3.4.2</b> Tidying up: going from long to wide using <code>pivot_wider</code></a></li>
<li class="chapter" data-level="3.4.3" data-path="wrangling.html"><a href="wrangling.html#separate"><i class="fa fa-check"></i><b>3.4.3</b> Tidying up: using <code>separate</code> to deal with multiple delimiters</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="wrangling.html"><a href="wrangling.html#using-select-to-extract-a-range-of-columns"><i class="fa fa-check"></i><b>3.5</b> Using <code>select</code> to extract a range of columns</a></li>
<li class="chapter" data-level="3.6" data-path="wrangling.html"><a href="wrangling.html#using-filter-to-extract-rows-1"><i class="fa fa-check"></i><b>3.6</b> Using <code>filter</code> to extract rows</a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="wrangling.html"><a href="wrangling.html#extracting-rows-that-have-a-certain-value-with"><i class="fa fa-check"></i><b>3.6.1</b> Extracting rows that have a certain value with <code>==</code></a></li>
<li class="chapter" data-level="3.6.2" data-path="wrangling.html"><a href="wrangling.html#extracting-rows-that-do-not-have-a-certain-value-with"><i class="fa fa-check"></i><b>3.6.2</b> Extracting rows that do not have a certain value with <code>!=</code></a></li>
<li class="chapter" data-level="3.6.3" data-path="wrangling.html"><a href="wrangling.html#filter-and"><i class="fa fa-check"></i><b>3.6.3</b> Extracting rows satisfying multiple conditions using <code>,</code> or <code>&amp;</code></a></li>
<li class="chapter" data-level="3.6.4" data-path="wrangling.html"><a href="wrangling.html#extracting-rows-satisfying-at-least-one-condition-using"><i class="fa fa-check"></i><b>3.6.4</b> Extracting rows satisfying at least one condition using <code>|</code></a></li>
<li class="chapter" data-level="3.6.5" data-path="wrangling.html"><a href="wrangling.html#extracting-rows-with-values-in-a-vector-using-in"><i class="fa fa-check"></i><b>3.6.5</b> Extracting rows with values in a vector using <code>%in%</code></a></li>
<li class="chapter" data-level="3.6.6" data-path="wrangling.html"><a href="wrangling.html#extracting-rows-above-or-below-a-threshold-using-and"><i class="fa fa-check"></i><b>3.6.6</b> Extracting rows above or below a threshold using <code>&gt;</code> and <code>&lt;</code></a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="wrangling.html"><a href="wrangling.html#using-mutate-to-modify-or-add-columns"><i class="fa fa-check"></i><b>3.7</b> Using <code>mutate</code> to modify or add columns</a>
<ul>
<li class="chapter" data-level="3.7.1" data-path="wrangling.html"><a href="wrangling.html#using-mutate-to-modify-columns"><i class="fa fa-check"></i><b>3.7.1</b> Using <code>mutate</code> to modify columns</a></li>
<li class="chapter" data-level="3.7.2" data-path="wrangling.html"><a href="wrangling.html#using-mutate-to-create-new-columns"><i class="fa fa-check"></i><b>3.7.2</b> Using <code>mutate</code> to create new columns</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="wrangling.html"><a href="wrangling.html#combining-functions-using-the-pipe-operator"><i class="fa fa-check"></i><b>3.8</b> Combining functions using the pipe operator, <code>|&gt;</code></a>
<ul>
<li class="chapter" data-level="3.8.1" data-path="wrangling.html"><a href="wrangling.html#using-to-combine-filter-and-select"><i class="fa fa-check"></i><b>3.8.1</b> Using <code>|&gt;</code> to combine <code>filter</code> and <code>select</code></a></li>
<li class="chapter" data-level="3.8.2" data-path="wrangling.html"><a href="wrangling.html#using-with-more-than-two-functions"><i class="fa fa-check"></i><b>3.8.2</b> Using <code>|&gt;</code> with more than two functions</a></li>
</ul></li>
<li class="chapter" data-level="3.9" data-path="wrangling.html"><a href="wrangling.html#aggregating-data-with-summarize-and-map"><i class="fa fa-check"></i><b>3.9</b> Aggregating data with <code>summarize</code> and <code>map</code></a>
<ul>
<li class="chapter" data-level="3.9.1" data-path="wrangling.html"><a href="wrangling.html#calculating-summary-statistics-on-whole-columns"><i class="fa fa-check"></i><b>3.9.1</b> Calculating summary statistics on whole columns</a></li>
<li class="chapter" data-level="3.9.2" data-path="wrangling.html"><a href="wrangling.html#calculating-summary-statistics-for-groups-of-rows"><i class="fa fa-check"></i><b>3.9.2</b> Calculating summary statistics for groups of rows</a></li>
<li class="chapter" data-level="3.9.3" data-path="wrangling.html"><a href="wrangling.html#calculating-summary-statistics-on-many-columns"><i class="fa fa-check"></i><b>3.9.3</b> Calculating summary statistics on many columns</a></li>
</ul></li>
<li class="chapter" data-level="3.10" data-path="wrangling.html"><a href="wrangling.html#apply-functions-across-many-columns-with-mutate-and-across"><i class="fa fa-check"></i><b>3.10</b> Apply functions across many columns with <code>mutate</code> and <code>across</code></a></li>
<li class="chapter" data-level="3.11" data-path="wrangling.html"><a href="wrangling.html#apply-functions-across-columns-within-one-row-with-rowwise-and-mutate"><i class="fa fa-check"></i><b>3.11</b> Apply functions across columns within one row with <code>rowwise</code> and <code>mutate</code></a></li>
<li class="chapter" data-level="3.12" data-path="wrangling.html"><a href="wrangling.html#summary"><i class="fa fa-check"></i><b>3.12</b> Summary</a></li>
<li class="chapter" data-level="3.13" data-path="wrangling.html"><a href="wrangling.html#exercises-2"><i class="fa fa-check"></i><b>3.13</b> Exercises</a></li>
<li class="chapter" data-level="3.14" data-path="wrangling.html"><a href="wrangling.html#additional-resources-1"><i class="fa fa-check"></i><b>3.14</b> Additional resources</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="viz.html"><a href="viz.html"><i class="fa fa-check"></i><b>4</b> Effective data visualization</a>
<ul>
<li class="chapter" data-level="4.1" data-path="viz.html"><a href="viz.html#overview-3"><i class="fa fa-check"></i><b>4.1</b> Overview</a></li>
<li class="chapter" data-level="4.2" data-path="viz.html"><a href="viz.html#chapter-learning-objectives-3"><i class="fa fa-check"></i><b>4.2</b> Chapter learning objectives</a></li>
<li class="chapter" data-level="4.3" data-path="viz.html"><a href="viz.html#choosing-the-visualization"><i class="fa fa-check"></i><b>4.3</b> Choosing the visualization</a></li>
<li class="chapter" data-level="4.4" data-path="viz.html"><a href="viz.html#refining-the-visualization"><i class="fa fa-check"></i><b>4.4</b> Refining the visualization</a></li>
<li class="chapter" data-level="4.5" data-path="viz.html"><a href="viz.html#creating-visualizations-with-ggplot2"><i class="fa fa-check"></i><b>4.5</b> Creating visualizations with <code>ggplot2</code></a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="viz.html"><a href="viz.html#scatter-plots-and-line-plots-the-mauna-loa-co_text2-data-set"><i class="fa fa-check"></i><b>4.5.1</b> Scatter plots and line plots: the Mauna Loa CO<span class="math inline">\(_{\text{2}}\)</span> data set</a></li>
<li class="chapter" data-level="4.5.2" data-path="viz.html"><a href="viz.html#scatter-plots-the-old-faithful-eruption-time-data-set"><i class="fa fa-check"></i><b>4.5.2</b> Scatter plots: the Old Faithful eruption time data set</a></li>
<li class="chapter" data-level="4.5.3" data-path="viz.html"><a href="viz.html#axis-transformation-and-colored-scatter-plots-the-canadian-languages-data-set"><i class="fa fa-check"></i><b>4.5.3</b> Axis transformation and colored scatter plots: the Canadian languages data set</a></li>
<li class="chapter" data-level="4.5.4" data-path="viz.html"><a href="viz.html#bar-plots-the-island-landmass-data-set"><i class="fa fa-check"></i><b>4.5.4</b> Bar plots: the island landmass data set</a></li>
<li class="chapter" data-level="4.5.5" data-path="viz.html"><a href="viz.html#histograms-the-michelson-speed-of-light-data-set"><i class="fa fa-check"></i><b>4.5.5</b> Histograms: the Michelson speed of light data set</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="viz.html"><a href="viz.html#explaining-the-visualization"><i class="fa fa-check"></i><b>4.6</b> Explaining the visualization</a></li>
<li class="chapter" data-level="4.7" data-path="viz.html"><a href="viz.html#saving-the-visualization"><i class="fa fa-check"></i><b>4.7</b> Saving the visualization</a></li>
<li class="chapter" data-level="4.8" data-path="viz.html"><a href="viz.html#exercises-3"><i class="fa fa-check"></i><b>4.8</b> Exercises</a></li>
<li class="chapter" data-level="4.9" data-path="viz.html"><a href="viz.html#additional-resources-2"><i class="fa fa-check"></i><b>4.9</b> Additional resources</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="classification.html"><a href="classification.html"><i class="fa fa-check"></i><b>5</b> Classification I: training &amp; predicting</a>
<ul>
<li class="chapter" data-level="5.1" data-path="classification.html"><a href="classification.html#overview-4"><i class="fa fa-check"></i><b>5.1</b> Overview</a></li>
<li class="chapter" data-level="5.2" data-path="classification.html"><a href="classification.html#chapter-learning-objectives-4"><i class="fa fa-check"></i><b>5.2</b> Chapter learning objectives</a></li>
<li class="chapter" data-level="5.3" data-path="classification.html"><a href="classification.html#the-classification-problem"><i class="fa fa-check"></i><b>5.3</b> The classification problem</a></li>
<li class="chapter" data-level="5.4" data-path="classification.html"><a href="classification.html#exploring-a-data-set"><i class="fa fa-check"></i><b>5.4</b> Exploring a data set</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="classification.html"><a href="classification.html#loading-the-cancer-data"><i class="fa fa-check"></i><b>5.4.1</b> Loading the cancer data</a></li>
<li class="chapter" data-level="5.4.2" data-path="classification.html"><a href="classification.html#describing-the-variables-in-the-cancer-data-set"><i class="fa fa-check"></i><b>5.4.2</b> Describing the variables in the cancer data set</a></li>
<li class="chapter" data-level="5.4.3" data-path="classification.html"><a href="classification.html#exploring-the-cancer-data"><i class="fa fa-check"></i><b>5.4.3</b> Exploring the cancer data</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="classification.html"><a href="classification.html#classification-with-k-nearest-neighbors"><i class="fa fa-check"></i><b>5.5</b> Classification with <span class="math inline">\(K\)</span>-nearest neighbors</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="classification.html"><a href="classification.html#distance-between-points"><i class="fa fa-check"></i><b>5.5.1</b> Distance between points</a></li>
<li class="chapter" data-level="5.5.2" data-path="classification.html"><a href="classification.html#more-than-two-explanatory-variables"><i class="fa fa-check"></i><b>5.5.2</b> More than two explanatory variables</a></li>
<li class="chapter" data-level="5.5.3" data-path="classification.html"><a href="classification.html#summary-of-k-nearest-neighbors-algorithm"><i class="fa fa-check"></i><b>5.5.3</b> Summary of <span class="math inline">\(K\)</span>-nearest neighbors algorithm</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="classification.html"><a href="classification.html#k-nearest-neighbors-with-tidymodels"><i class="fa fa-check"></i><b>5.6</b> <span class="math inline">\(K\)</span>-nearest neighbors with <code>tidymodels</code></a></li>
<li class="chapter" data-level="5.7" data-path="classification.html"><a href="classification.html#data-preprocessing-with-tidymodels"><i class="fa fa-check"></i><b>5.7</b> Data preprocessing with <code>tidymodels</code></a>
<ul>
<li class="chapter" data-level="5.7.1" data-path="classification.html"><a href="classification.html#centering-and-scaling"><i class="fa fa-check"></i><b>5.7.1</b> Centering and scaling</a></li>
<li class="chapter" data-level="5.7.2" data-path="classification.html"><a href="classification.html#balancing"><i class="fa fa-check"></i><b>5.7.2</b> Balancing</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="classification.html"><a href="classification.html#puttingittogetherworkflow"><i class="fa fa-check"></i><b>5.8</b> Putting it together in a <code>workflow</code></a></li>
<li class="chapter" data-level="5.9" data-path="classification.html"><a href="classification.html#exercises-4"><i class="fa fa-check"></i><b>5.9</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="classification2.html"><a href="classification2.html"><i class="fa fa-check"></i><b>6</b> Classification II: evaluation &amp; tuning</a>
<ul>
<li class="chapter" data-level="6.1" data-path="classification2.html"><a href="classification2.html#overview-5"><i class="fa fa-check"></i><b>6.1</b> Overview</a></li>
<li class="chapter" data-level="6.2" data-path="classification2.html"><a href="classification2.html#chapter-learning-objectives-5"><i class="fa fa-check"></i><b>6.2</b> Chapter learning objectives</a></li>
<li class="chapter" data-level="6.3" data-path="classification2.html"><a href="classification2.html#evaluating-accuracy"><i class="fa fa-check"></i><b>6.3</b> Evaluating accuracy</a></li>
<li class="chapter" data-level="6.4" data-path="classification2.html"><a href="classification2.html#randomseeds"><i class="fa fa-check"></i><b>6.4</b> Randomness and seeds</a></li>
<li class="chapter" data-level="6.5" data-path="classification2.html"><a href="classification2.html#evaluating-accuracy-with-tidymodels"><i class="fa fa-check"></i><b>6.5</b> Evaluating accuracy with <code>tidymodels</code></a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="classification2.html"><a href="classification2.html#create-the-train-test-split"><i class="fa fa-check"></i><b>6.5.1</b> Create the train / test split</a></li>
<li class="chapter" data-level="6.5.2" data-path="classification2.html"><a href="classification2.html#preprocess-the-data"><i class="fa fa-check"></i><b>6.5.2</b> Preprocess the data</a></li>
<li class="chapter" data-level="6.5.3" data-path="classification2.html"><a href="classification2.html#train-the-classifier"><i class="fa fa-check"></i><b>6.5.3</b> Train the classifier</a></li>
<li class="chapter" data-level="6.5.4" data-path="classification2.html"><a href="classification2.html#predict-the-labels-in-the-test-set"><i class="fa fa-check"></i><b>6.5.4</b> Predict the labels in the test set</a></li>
<li class="chapter" data-level="6.5.5" data-path="classification2.html"><a href="classification2.html#compute-the-accuracy"><i class="fa fa-check"></i><b>6.5.5</b> Compute the accuracy</a></li>
<li class="chapter" data-level="6.5.6" data-path="classification2.html"><a href="classification2.html#critically-analyze-performance"><i class="fa fa-check"></i><b>6.5.6</b> Critically analyze performance</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="classification2.html"><a href="classification2.html#tuning-the-classifier"><i class="fa fa-check"></i><b>6.6</b> Tuning the classifier</a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="classification2.html"><a href="classification2.html#cross-validation"><i class="fa fa-check"></i><b>6.6.1</b> Cross-validation</a></li>
<li class="chapter" data-level="6.6.2" data-path="classification2.html"><a href="classification2.html#parameter-value-selection"><i class="fa fa-check"></i><b>6.6.2</b> Parameter value selection</a></li>
<li class="chapter" data-level="6.6.3" data-path="classification2.html"><a href="classification2.html#underoverfitting"><i class="fa fa-check"></i><b>6.6.3</b> Under/Overfitting</a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="classification2.html"><a href="classification2.html#summary-1"><i class="fa fa-check"></i><b>6.7</b> Summary</a></li>
<li class="chapter" data-level="6.8" data-path="classification2.html"><a href="classification2.html#predictor-variable-selection"><i class="fa fa-check"></i><b>6.8</b> Predictor variable selection</a>
<ul>
<li class="chapter" data-level="6.8.1" data-path="classification2.html"><a href="classification2.html#the-effect-of-irrelevant-predictors"><i class="fa fa-check"></i><b>6.8.1</b> The effect of irrelevant predictors</a></li>
<li class="chapter" data-level="6.8.2" data-path="classification2.html"><a href="classification2.html#finding-a-good-subset-of-predictors"><i class="fa fa-check"></i><b>6.8.2</b> Finding a good subset of predictors</a></li>
<li class="chapter" data-level="6.8.3" data-path="classification2.html"><a href="classification2.html#forward-selection-in-r"><i class="fa fa-check"></i><b>6.8.3</b> Forward selection in R</a></li>
</ul></li>
<li class="chapter" data-level="6.9" data-path="classification2.html"><a href="classification2.html#exercises-5"><i class="fa fa-check"></i><b>6.9</b> Exercises</a></li>
<li class="chapter" data-level="6.10" data-path="classification2.html"><a href="classification2.html#additional-resources-3"><i class="fa fa-check"></i><b>6.10</b> Additional resources</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="regression1.html"><a href="regression1.html"><i class="fa fa-check"></i><b>7</b> Regression I: K-nearest neighbors</a>
<ul>
<li class="chapter" data-level="7.1" data-path="regression1.html"><a href="regression1.html#overview-6"><i class="fa fa-check"></i><b>7.1</b> Overview</a></li>
<li class="chapter" data-level="7.2" data-path="regression1.html"><a href="regression1.html#chapter-learning-objectives-6"><i class="fa fa-check"></i><b>7.2</b> Chapter learning objectives</a></li>
<li class="chapter" data-level="7.3" data-path="regression1.html"><a href="regression1.html#the-regression-problem"><i class="fa fa-check"></i><b>7.3</b> The regression problem</a></li>
<li class="chapter" data-level="7.4" data-path="regression1.html"><a href="regression1.html#exploring-a-data-set-1"><i class="fa fa-check"></i><b>7.4</b> Exploring a data set</a></li>
<li class="chapter" data-level="7.5" data-path="regression1.html"><a href="regression1.html#k-nearest-neighbors-regression"><i class="fa fa-check"></i><b>7.5</b> K-nearest neighbors regression</a></li>
<li class="chapter" data-level="7.6" data-path="regression1.html"><a href="regression1.html#training-evaluating-and-tuning-the-model"><i class="fa fa-check"></i><b>7.6</b> Training, evaluating, and tuning the model</a></li>
<li class="chapter" data-level="7.7" data-path="regression1.html"><a href="regression1.html#underfitting-and-overfitting"><i class="fa fa-check"></i><b>7.7</b> Underfitting and overfitting</a></li>
<li class="chapter" data-level="7.8" data-path="regression1.html"><a href="regression1.html#evaluating-on-the-test-set"><i class="fa fa-check"></i><b>7.8</b> Evaluating on the test set</a></li>
<li class="chapter" data-level="7.9" data-path="regression1.html"><a href="regression1.html#multivariable-knn-regression"><i class="fa fa-check"></i><b>7.9</b> Multivariable KNN regression</a></li>
<li class="chapter" data-level="7.10" data-path="regression1.html"><a href="regression1.html#strengths-and-limitations-of-knn-regression"><i class="fa fa-check"></i><b>7.10</b> Strengths and limitations of KNN regression</a></li>
<li class="chapter" data-level="7.11" data-path="regression1.html"><a href="regression1.html#exercises-6"><i class="fa fa-check"></i><b>7.11</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="regression2.html"><a href="regression2.html"><i class="fa fa-check"></i><b>8</b> Regression II: linear regression</a>
<ul>
<li class="chapter" data-level="8.1" data-path="regression2.html"><a href="regression2.html#overview-7"><i class="fa fa-check"></i><b>8.1</b> Overview</a></li>
<li class="chapter" data-level="8.2" data-path="regression2.html"><a href="regression2.html#chapter-learning-objectives-7"><i class="fa fa-check"></i><b>8.2</b> Chapter learning objectives</a></li>
<li class="chapter" data-level="8.3" data-path="regression2.html"><a href="regression2.html#simple-linear-regression"><i class="fa fa-check"></i><b>8.3</b> Simple linear regression</a></li>
<li class="chapter" data-level="8.4" data-path="regression2.html"><a href="regression2.html#linear-regression-in-r"><i class="fa fa-check"></i><b>8.4</b> Linear regression in R</a></li>
<li class="chapter" data-level="8.5" data-path="regression2.html"><a href="regression2.html#comparing-simple-linear-and-knn-regression"><i class="fa fa-check"></i><b>8.5</b> Comparing simple linear and KNN regression</a></li>
<li class="chapter" data-level="8.6" data-path="regression2.html"><a href="regression2.html#multivariable-linear-regression"><i class="fa fa-check"></i><b>8.6</b> Multivariable linear regression</a></li>
<li class="chapter" data-level="8.7" data-path="regression2.html"><a href="regression2.html#multicollinearity-and-outliers"><i class="fa fa-check"></i><b>8.7</b> Multicollinearity and outliers</a>
<ul>
<li class="chapter" data-level="8.7.1" data-path="regression2.html"><a href="regression2.html#outliers"><i class="fa fa-check"></i><b>8.7.1</b> Outliers</a></li>
<li class="chapter" data-level="8.7.2" data-path="regression2.html"><a href="regression2.html#multicollinearity"><i class="fa fa-check"></i><b>8.7.2</b> Multicollinearity</a></li>
</ul></li>
<li class="chapter" data-level="8.8" data-path="regression2.html"><a href="regression2.html#designing-new-predictors"><i class="fa fa-check"></i><b>8.8</b> Designing new predictors</a></li>
<li class="chapter" data-level="8.9" data-path="regression2.html"><a href="regression2.html#the-other-sides-of-regression"><i class="fa fa-check"></i><b>8.9</b> The other sides of regression</a></li>
<li class="chapter" data-level="8.10" data-path="regression2.html"><a href="regression2.html#exercises-7"><i class="fa fa-check"></i><b>8.10</b> Exercises</a></li>
<li class="chapter" data-level="8.11" data-path="regression2.html"><a href="regression2.html#additional-resources-4"><i class="fa fa-check"></i><b>8.11</b> Additional resources</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="clustering.html"><a href="clustering.html"><i class="fa fa-check"></i><b>9</b> Clustering</a>
<ul>
<li class="chapter" data-level="9.1" data-path="clustering.html"><a href="clustering.html#overview-8"><i class="fa fa-check"></i><b>9.1</b> Overview</a></li>
<li class="chapter" data-level="9.2" data-path="clustering.html"><a href="clustering.html#chapter-learning-objectives-8"><i class="fa fa-check"></i><b>9.2</b> Chapter learning objectives</a></li>
<li class="chapter" data-level="9.3" data-path="clustering.html"><a href="clustering.html#clustering-1"><i class="fa fa-check"></i><b>9.3</b> Clustering</a></li>
<li class="chapter" data-level="9.4" data-path="clustering.html"><a href="clustering.html#k-means"><i class="fa fa-check"></i><b>9.4</b> K-means</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="clustering.html"><a href="clustering.html#measuring-cluster-quality"><i class="fa fa-check"></i><b>9.4.1</b> Measuring cluster quality</a></li>
<li class="chapter" data-level="9.4.2" data-path="clustering.html"><a href="clustering.html#the-clustering-algorithm"><i class="fa fa-check"></i><b>9.4.2</b> The clustering algorithm</a></li>
<li class="chapter" data-level="9.4.3" data-path="clustering.html"><a href="clustering.html#random-restarts"><i class="fa fa-check"></i><b>9.4.3</b> Random restarts</a></li>
<li class="chapter" data-level="9.4.4" data-path="clustering.html"><a href="clustering.html#choosing-k"><i class="fa fa-check"></i><b>9.4.4</b> Choosing K</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="clustering.html"><a href="clustering.html#data-pre-processing-for-k-means"><i class="fa fa-check"></i><b>9.5</b> Data pre-processing for K-means</a></li>
<li class="chapter" data-level="9.6" data-path="clustering.html"><a href="clustering.html#k-means-in-r"><i class="fa fa-check"></i><b>9.6</b> K-means in R</a></li>
<li class="chapter" data-level="9.7" data-path="clustering.html"><a href="clustering.html#exercises-8"><i class="fa fa-check"></i><b>9.7</b> Exercises</a></li>
<li class="chapter" data-level="9.8" data-path="clustering.html"><a href="clustering.html#additional-resources-5"><i class="fa fa-check"></i><b>9.8</b> Additional resources</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="inference.html"><a href="inference.html"><i class="fa fa-check"></i><b>10</b> Statistical inference</a>
<ul>
<li class="chapter" data-level="10.1" data-path="inference.html"><a href="inference.html#overview-9"><i class="fa fa-check"></i><b>10.1</b> Overview</a></li>
<li class="chapter" data-level="10.2" data-path="inference.html"><a href="inference.html#chapter-learning-objectives-9"><i class="fa fa-check"></i><b>10.2</b> Chapter learning objectives</a></li>
<li class="chapter" data-level="10.3" data-path="inference.html"><a href="inference.html#why-do-we-need-sampling"><i class="fa fa-check"></i><b>10.3</b> Why do we need sampling?</a></li>
<li class="chapter" data-level="10.4" data-path="inference.html"><a href="inference.html#sampling-distributions"><i class="fa fa-check"></i><b>10.4</b> Sampling distributions</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="inference.html"><a href="inference.html#sampling-distributions-for-proportions"><i class="fa fa-check"></i><b>10.4.1</b> Sampling distributions for proportions</a></li>
<li class="chapter" data-level="10.4.2" data-path="inference.html"><a href="inference.html#sampling-distributions-for-means"><i class="fa fa-check"></i><b>10.4.2</b> Sampling distributions for means</a></li>
<li class="chapter" data-level="10.4.3" data-path="inference.html"><a href="inference.html#summary-2"><i class="fa fa-check"></i><b>10.4.3</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="inference.html"><a href="inference.html#bootstrapping"><i class="fa fa-check"></i><b>10.5</b> Bootstrapping</a>
<ul>
<li class="chapter" data-level="10.5.1" data-path="inference.html"><a href="inference.html#overview-10"><i class="fa fa-check"></i><b>10.5.1</b> Overview</a></li>
<li class="chapter" data-level="10.5.2" data-path="inference.html"><a href="inference.html#bootstrapping-in-r"><i class="fa fa-check"></i><b>10.5.2</b> Bootstrapping in R</a></li>
<li class="chapter" data-level="10.5.3" data-path="inference.html"><a href="inference.html#using-the-bootstrap-to-calculate-a-plausible-range"><i class="fa fa-check"></i><b>10.5.3</b> Using the bootstrap to calculate a plausible range</a></li>
</ul></li>
<li class="chapter" data-level="10.6" data-path="inference.html"><a href="inference.html#exercises-9"><i class="fa fa-check"></i><b>10.6</b> Exercises</a></li>
<li class="chapter" data-level="10.7" data-path="inference.html"><a href="inference.html#additional-resources-6"><i class="fa fa-check"></i><b>10.7</b> Additional resources</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="getting-started-with-jupyter.html"><a href="getting-started-with-jupyter.html"><i class="fa fa-check"></i><b>11</b> Combining code and text with Jupyter</a>
<ul>
<li class="chapter" data-level="11.1" data-path="getting-started-with-jupyter.html"><a href="getting-started-with-jupyter.html#overview-11"><i class="fa fa-check"></i><b>11.1</b> Overview</a></li>
<li class="chapter" data-level="11.2" data-path="getting-started-with-jupyter.html"><a href="getting-started-with-jupyter.html#chapter-learning-objectives-10"><i class="fa fa-check"></i><b>11.2</b> Chapter learning objectives</a></li>
<li class="chapter" data-level="11.3" data-path="getting-started-with-jupyter.html"><a href="getting-started-with-jupyter.html#jupyter"><i class="fa fa-check"></i><b>11.3</b> Jupyter</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="getting-started-with-jupyter.html"><a href="getting-started-with-jupyter.html#accessing-jupyter"><i class="fa fa-check"></i><b>11.3.1</b> Accessing Jupyter</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="getting-started-with-jupyter.html"><a href="getting-started-with-jupyter.html#code-cells"><i class="fa fa-check"></i><b>11.4</b> Code cells</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="getting-started-with-jupyter.html"><a href="getting-started-with-jupyter.html#executing-code-cells"><i class="fa fa-check"></i><b>11.4.1</b> Executing code cells</a></li>
<li class="chapter" data-level="11.4.2" data-path="getting-started-with-jupyter.html"><a href="getting-started-with-jupyter.html#the-kernel"><i class="fa fa-check"></i><b>11.4.2</b> The Kernel</a></li>
<li class="chapter" data-level="11.4.3" data-path="getting-started-with-jupyter.html"><a href="getting-started-with-jupyter.html#creating-new-code-cells"><i class="fa fa-check"></i><b>11.4.3</b> Creating new code cells</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="getting-started-with-jupyter.html"><a href="getting-started-with-jupyter.html#markdown-cells"><i class="fa fa-check"></i><b>11.5</b> Markdown cells</a>
<ul>
<li class="chapter" data-level="11.5.1" data-path="getting-started-with-jupyter.html"><a href="getting-started-with-jupyter.html#editing-markdown-cells"><i class="fa fa-check"></i><b>11.5.1</b> Editing Markdown cells</a></li>
<li class="chapter" data-level="11.5.2" data-path="getting-started-with-jupyter.html"><a href="getting-started-with-jupyter.html#creating-new-markdown-cells"><i class="fa fa-check"></i><b>11.5.2</b> Creating new Markdown cells</a></li>
</ul></li>
<li class="chapter" data-level="11.6" data-path="getting-started-with-jupyter.html"><a href="getting-started-with-jupyter.html#saving-your-work"><i class="fa fa-check"></i><b>11.6</b> Saving your work</a></li>
<li class="chapter" data-level="11.7" data-path="getting-started-with-jupyter.html"><a href="getting-started-with-jupyter.html#best-practices-for-running-a-notebook"><i class="fa fa-check"></i><b>11.7</b> Best practices for running a notebook</a>
<ul>
<li class="chapter" data-level="11.7.1" data-path="getting-started-with-jupyter.html"><a href="getting-started-with-jupyter.html#best-practices-for-executing-code-cells"><i class="fa fa-check"></i><b>11.7.1</b> Best practices for executing code cells</a></li>
<li class="chapter" data-level="11.7.2" data-path="getting-started-with-jupyter.html"><a href="getting-started-with-jupyter.html#best-practices-for-including-r-packages-in-notebooks"><i class="fa fa-check"></i><b>11.7.2</b> Best practices for including R packages in notebooks</a></li>
<li class="chapter" data-level="11.7.3" data-path="getting-started-with-jupyter.html"><a href="getting-started-with-jupyter.html#summary-of-best-practices-for-running-a-notebook"><i class="fa fa-check"></i><b>11.7.3</b> Summary of best practices for running a notebook</a></li>
</ul></li>
<li class="chapter" data-level="11.8" data-path="getting-started-with-jupyter.html"><a href="getting-started-with-jupyter.html#exploring-data-files"><i class="fa fa-check"></i><b>11.8</b> Exploring data files</a></li>
<li class="chapter" data-level="11.9" data-path="getting-started-with-jupyter.html"><a href="getting-started-with-jupyter.html#exporting-to-a-different-file-format"><i class="fa fa-check"></i><b>11.9</b> Exporting to a different file format</a>
<ul>
<li class="chapter" data-level="11.9.1" data-path="getting-started-with-jupyter.html"><a href="getting-started-with-jupyter.html#exporting-to-html"><i class="fa fa-check"></i><b>11.9.1</b> Exporting to HTML</a></li>
<li class="chapter" data-level="11.9.2" data-path="getting-started-with-jupyter.html"><a href="getting-started-with-jupyter.html#exporting-to-pdf"><i class="fa fa-check"></i><b>11.9.2</b> Exporting to PDF</a></li>
</ul></li>
<li class="chapter" data-level="11.10" data-path="getting-started-with-jupyter.html"><a href="getting-started-with-jupyter.html#creating-a-new-jupyter-notebook"><i class="fa fa-check"></i><b>11.10</b> Creating a new Jupyter notebook</a></li>
<li class="chapter" data-level="11.11" data-path="getting-started-with-jupyter.html"><a href="getting-started-with-jupyter.html#additional-resources-7"><i class="fa fa-check"></i><b>11.11</b> Additional resources</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="Getting-started-with-version-control.html"><a href="Getting-started-with-version-control.html"><i class="fa fa-check"></i><b>12</b> Collaboration with version control</a>
<ul>
<li class="chapter" data-level="12.1" data-path="Getting-started-with-version-control.html"><a href="Getting-started-with-version-control.html#overview-12"><i class="fa fa-check"></i><b>12.1</b> Overview</a></li>
<li class="chapter" data-level="12.2" data-path="Getting-started-with-version-control.html"><a href="Getting-started-with-version-control.html#chapter-learning-objectives-11"><i class="fa fa-check"></i><b>12.2</b> Chapter learning objectives</a></li>
<li class="chapter" data-level="12.3" data-path="Getting-started-with-version-control.html"><a href="Getting-started-with-version-control.html#what-is-version-control-and-why-should-i-use-it"><i class="fa fa-check"></i><b>12.3</b> What is version control, and why should I use it?</a></li>
<li class="chapter" data-level="12.4" data-path="Getting-started-with-version-control.html"><a href="Getting-started-with-version-control.html#version-control-repositories"><i class="fa fa-check"></i><b>12.4</b> Version control repositories</a></li>
<li class="chapter" data-level="12.5" data-path="Getting-started-with-version-control.html"><a href="Getting-started-with-version-control.html#version-control-workflows"><i class="fa fa-check"></i><b>12.5</b> Version control workflows</a>
<ul>
<li class="chapter" data-level="12.5.1" data-path="Getting-started-with-version-control.html"><a href="Getting-started-with-version-control.html#commit-changes"><i class="fa fa-check"></i><b>12.5.1</b> Committing changes to a local repository</a></li>
<li class="chapter" data-level="12.5.2" data-path="Getting-started-with-version-control.html"><a href="Getting-started-with-version-control.html#pushing-changes-to-a-remote-repository"><i class="fa fa-check"></i><b>12.5.2</b> Pushing changes to a remote repository</a></li>
<li class="chapter" data-level="12.5.3" data-path="Getting-started-with-version-control.html"><a href="Getting-started-with-version-control.html#pulling-changes-from-a-remote-repository"><i class="fa fa-check"></i><b>12.5.3</b> Pulling changes from a remote repository</a></li>
</ul></li>
<li class="chapter" data-level="12.6" data-path="Getting-started-with-version-control.html"><a href="Getting-started-with-version-control.html#working-with-remote-repositories-using-github"><i class="fa fa-check"></i><b>12.6</b> Working with remote repositories using GitHub</a>
<ul>
<li class="chapter" data-level="12.6.1" data-path="Getting-started-with-version-control.html"><a href="Getting-started-with-version-control.html#creating-a-remote-repository-on-github"><i class="fa fa-check"></i><b>12.6.1</b> Creating a remote repository on GitHub</a></li>
<li class="chapter" data-level="12.6.2" data-path="Getting-started-with-version-control.html"><a href="Getting-started-with-version-control.html#editing-files-on-github-with-the-pen-tool"><i class="fa fa-check"></i><b>12.6.2</b> Editing files on GitHub with the pen tool</a></li>
<li class="chapter" data-level="12.6.3" data-path="Getting-started-with-version-control.html"><a href="Getting-started-with-version-control.html#creating-files-on-github-with-the-add-file-menu"><i class="fa fa-check"></i><b>12.6.3</b> Creating files on GitHub with the “Add file” menu</a></li>
</ul></li>
<li class="chapter" data-level="12.7" data-path="Getting-started-with-version-control.html"><a href="Getting-started-with-version-control.html#local-repo-jupyter"><i class="fa fa-check"></i><b>12.7</b> Working with local repositories using Jupyter</a>
<ul>
<li class="chapter" data-level="12.7.1" data-path="Getting-started-with-version-control.html"><a href="Getting-started-with-version-control.html#generating-a-github-personal-access-token"><i class="fa fa-check"></i><b>12.7.1</b> Generating a GitHub personal access token</a></li>
<li class="chapter" data-level="12.7.2" data-path="Getting-started-with-version-control.html"><a href="Getting-started-with-version-control.html#cloning-a-repository-using-jupyter"><i class="fa fa-check"></i><b>12.7.2</b> Cloning a repository using Jupyter</a></li>
<li class="chapter" data-level="12.7.3" data-path="Getting-started-with-version-control.html"><a href="Getting-started-with-version-control.html#specifying-files-to-commit"><i class="fa fa-check"></i><b>12.7.3</b> Specifying files to commit</a></li>
<li class="chapter" data-level="12.7.4" data-path="Getting-started-with-version-control.html"><a href="Getting-started-with-version-control.html#making-the-commit"><i class="fa fa-check"></i><b>12.7.4</b> Making the commit</a></li>
<li class="chapter" data-level="12.7.5" data-path="Getting-started-with-version-control.html"><a href="Getting-started-with-version-control.html#pushing-the-commits-to-github"><i class="fa fa-check"></i><b>12.7.5</b> Pushing the commits to GitHub</a></li>
</ul></li>
<li class="chapter" data-level="12.8" data-path="Getting-started-with-version-control.html"><a href="Getting-started-with-version-control.html#collaboration"><i class="fa fa-check"></i><b>12.8</b> Collaboration</a>
<ul>
<li class="chapter" data-level="12.8.1" data-path="Getting-started-with-version-control.html"><a href="Getting-started-with-version-control.html#giving-collaborators-access-to-your-project"><i class="fa fa-check"></i><b>12.8.1</b> Giving collaborators access to your project</a></li>
<li class="chapter" data-level="12.8.2" data-path="Getting-started-with-version-control.html"><a href="Getting-started-with-version-control.html#pulling-changes-from-github-using-jupyter"><i class="fa fa-check"></i><b>12.8.2</b> Pulling changes from GitHub using Jupyter</a></li>
<li class="chapter" data-level="12.8.3" data-path="Getting-started-with-version-control.html"><a href="Getting-started-with-version-control.html#handling-merge-conflicts"><i class="fa fa-check"></i><b>12.8.3</b> Handling merge conflicts</a></li>
<li class="chapter" data-level="12.8.4" data-path="Getting-started-with-version-control.html"><a href="Getting-started-with-version-control.html#communicating-using-github-issues"><i class="fa fa-check"></i><b>12.8.4</b> Communicating using GitHub issues</a></li>
</ul></li>
<li class="chapter" data-level="12.9" data-path="Getting-started-with-version-control.html"><a href="Getting-started-with-version-control.html#exercises-10"><i class="fa fa-check"></i><b>12.9</b> Exercises</a></li>
<li class="chapter" data-level="12.10" data-path="Getting-started-with-version-control.html"><a href="Getting-started-with-version-control.html#vc-add-res"><i class="fa fa-check"></i><b>12.10</b> Additional resources</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="move-to-your-own-machine.html"><a href="move-to-your-own-machine.html"><i class="fa fa-check"></i><b>13</b> Setting up your computer</a>
<ul>
<li class="chapter" data-level="13.1" data-path="move-to-your-own-machine.html"><a href="move-to-your-own-machine.html#overview-13"><i class="fa fa-check"></i><b>13.1</b> Overview</a></li>
<li class="chapter" data-level="13.2" data-path="move-to-your-own-machine.html"><a href="move-to-your-own-machine.html#chapter-learning-objectives-12"><i class="fa fa-check"></i><b>13.2</b> Chapter learning objectives</a></li>
<li class="chapter" data-level="13.3" data-path="move-to-your-own-machine.html"><a href="move-to-your-own-machine.html#installing-software-on-your-own-computer"><i class="fa fa-check"></i><b>13.3</b> Installing software on your own computer</a>
<ul>
<li class="chapter" data-level="13.3.1" data-path="move-to-your-own-machine.html"><a href="move-to-your-own-machine.html#git"><i class="fa fa-check"></i><b>13.3.1</b> Git</a></li>
<li class="chapter" data-level="13.3.2" data-path="move-to-your-own-machine.html"><a href="move-to-your-own-machine.html#miniconda"><i class="fa fa-check"></i><b>13.3.2</b> Miniconda</a></li>
<li class="chapter" data-level="13.3.3" data-path="move-to-your-own-machine.html"><a href="move-to-your-own-machine.html#jupyterlab"><i class="fa fa-check"></i><b>13.3.3</b> JupyterLab</a></li>
<li class="chapter" data-level="13.3.4" data-path="move-to-your-own-machine.html"><a href="move-to-your-own-machine.html#r-and-the-irkernel"><i class="fa fa-check"></i><b>13.3.4</b> R and the IRkernel</a></li>
<li class="chapter" data-level="13.3.5" data-path="move-to-your-own-machine.html"><a href="move-to-your-own-machine.html#r-packages"><i class="fa fa-check"></i><b>13.3.5</b> R packages</a></li>
<li class="chapter" data-level="13.3.6" data-path="move-to-your-own-machine.html"><a href="move-to-your-own-machine.html#latex"><i class="fa fa-check"></i><b>13.3.6</b> LaTeX</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="move-to-your-own-machine.html"><a href="move-to-your-own-machine.html#finishing-up-installation"><i class="fa fa-check"></i><b>13.4</b> Finishing up installation</a></li>
<li class="chapter" data-level="13.5" data-path="move-to-your-own-machine.html"><a href="move-to-your-own-machine.html#downloading-the-worksheets-for-this-book"><i class="fa fa-check"></i><b>13.5</b> Downloading the worksheets for this book</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="appendixA.html"><a href="appendixA.html"><i class="fa fa-check"></i><b>A</b> Downloading files from JupyterHub</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Science: A First Introduction</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="inference" class="section level1" number="10">
<h1><span class="header-section-number">Chapter 10</span> Statistical inference</h1>
<div id="overview-9" class="section level2" number="10.1">
<h2><span class="header-section-number">10.1</span> Overview</h2>
<p>A typical data analysis task in practice is to draw conclusions about some
unknown aspect of a population of interest based on observed data sampled from
that population; we typically do not get data on the <em>entire</em> population. Data
analysis questions regarding how summaries, patterns, trends, or relationships
in a data set extend to the wider population are called <em>inferential
questions</em>. This chapter will start with the fundamental ideas of sampling from
populations and then introduce two common techniques in statistical inference:
<em>point estimation</em> and <em>interval estimation</em>.</p>
</div>
<div id="chapter-learning-objectives-9" class="section level2" number="10.2">
<h2><span class="header-section-number">10.2</span> Chapter learning objectives</h2>
<p>By the end of the chapter, readers will be able to:</p>
<ul>
<li>Describe real-world examples of questions that can be answered with statistical inference.</li>
<li>Define common population parameters (e.g., mean, proportion, standard deviation) that are often estimated using sampled data, and estimate these from a sample.</li>
<li>Define the following statistical sampling terms (population, sample, population parameter, point estimate, sampling distribution).</li>
<li>Explain the difference between a population parameter and a sample point estimate.</li>
<li>Use R to draw random samples from a finite population.</li>
<li>Use R to create a sampling distribution from a finite population.</li>
<li>Describe how sample size influences the sampling distribution.</li>
<li>Define bootstrapping.</li>
<li>Use R to create a bootstrap distribution to approximate a sampling distribution.</li>
<li>Contrast the bootstrap and sampling distributions.</li>
</ul>
</div>
<div id="why-do-we-need-sampling" class="section level2" number="10.3">
<h2><span class="header-section-number">10.3</span> Why do we need sampling?</h2>
<p>We often need to understand how quantities we observe in a subset
of data relate to the same quantities in the broader population. For example, suppose a
retailer is considering selling iPhone accessories, and they want to estimate
how big the market might be. Additionally, they want to strategize how they can
market their products on North American college and university campuses. This
retailer might formulate the following question:</p>
<p><em>What proportion of all undergraduate students in North America own an iPhone?</em></p>
<p>In the above question, we are interested in making a conclusion about <em>all</em>
undergraduate students in North America; this is referred to as the <strong>population</strong>.  In
general, the population is the complete collection of individuals or cases we
are interested in studying. Further, in the above question, we are interested
in computing a quantity—the proportion of iPhone owners—based on
the entire population. This proportion is referred to as a <strong>population parameter</strong>.  In
general, a population parameter is a numerical characteristic of the entire
population. To compute this number in the example above, we would need to ask
every single undergraduate in North America whether they own an iPhone. In
practice, directly computing population parameters is often time-consuming and
costly, and sometimes impossible.</p>
<p>A more practical approach would be to make measurements for a <strong>sample</strong>, i.e., a 
subset of individuals collected from the population. We can then compute a
<strong>sample estimate</strong>—a numerical characteristic of the sample—that 
estimates the population parameter. For example, suppose we randomly selected
ten undergraduate students across North America (the sample) and computed the
proportion of those students who own an iPhone (the sample estimate). In that
case, we might suspect that that proportion is a reasonable estimate of the
proportion of students who own an iPhone in the entire population. Figure
<a href="inference.html#fig:11-population-vs-sample">10.1</a> illustrates this process.
In general, the process of using a sample to make a conclusion about the
broader population from which it is taken is referred to as <strong>statistical inference</strong>.
</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:11-population-vs-sample"></span>
<img src="img/population_vs_sample.png" alt="Population versus sample." width="100%" />
<p class="caption">
Figure 10.1: Population versus sample.
</p>
</div>
<p>Note that proportions are not the <em>only</em> kind of population parameter we might
be interested in. For example, suppose an undergraduate student studying at the University
of British Columbia in Canada is looking for an apartment
to rent. They need to create a budget, so they want to know something about
studio apartment rental prices in Vancouver, BC. This student might
formulate the following question:</p>
<p><em>What is the average price-per-month of studio apartment rentals in Vancouver, Canada?</em></p>
<p>In this case, the population consists of all studio apartment rentals in Vancouver, and the
population parameter is the <em>average price-per-month</em>. Here we used the average
as a measure of center to describe the “typical value” of studio apartment
rental prices. But even within this one example, we could also be interested in
many other population parameters. For instance, we know that not every studio
apartment rental in Vancouver will have the same price-per-month. The student
might be interested in how much monthly prices vary and want to find a measure
of the rentals’ spread (or variability), such as the standard deviation. Or perhaps the
student might be interested in the fraction of studio apartment rentals that
cost more than $1000 per month. The question we want to answer will help us
determine the parameter we want to estimate. If we were somehow able to observe
the whole population of studio apartment rental offerings in Vancouver, we
could compute each of these numbers exactly; therefore, these are all
population parameters. There are many kinds of observations and population
parameters that you will run into in practice, but in this chapter, we will
focus on two settings:</p>
<ol style="list-style-type: decimal">
<li>Using categorical observations to estimate the proportion of a category</li>
<li>Using quantitative observations to estimate the average (or mean)</li>
</ol>
</div>
<div id="sampling-distributions" class="section level2" number="10.4">
<h2><span class="header-section-number">10.4</span> Sampling distributions</h2>
<div id="sampling-distributions-for-proportions" class="section level3" number="10.4.1">
<h3><span class="header-section-number">10.4.1</span> Sampling distributions for proportions</h3>
<p>We will look at an example using data from
<a href="http://insideAirbnb.com/">Inside Airbnb</a> <span class="citation">(<a href="#ref-insideairbnb" role="doc-biblioref">Cox n.d.</a>)</span>. Airbnb  is an online
marketplace for arranging vacation rentals and places to stay. The data set
contains listings for Vancouver, Canada, in September 2020. Our data
includes an ID number, neighborhood, type of room, the number of people the
rental accommodates, number of bathrooms, bedrooms, beds, and the price per
night.</p>
<!--
airbnb <- read_csv("data/listings.csv") |>
  select(id, neighborhood = neighborhood_cleansed, room_type, accommodates, bathrooms = bathrooms_text, bedrooms, beds, price) |>
  mutate(price = as.numeric(str_remove(price, "[$]"))) |>
  na.omit()
airbnb <- airbnb |>
  mutate(id = 1:nrow(airbnb))
-->
<p></p>
<div class="sourceCode" id="cb427"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb427-1"><a href="inference.html#cb427-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb427-2"><a href="inference.html#cb427-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb427-3"><a href="inference.html#cb427-3" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb427-4"><a href="inference.html#cb427-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb427-5"><a href="inference.html#cb427-5" aria-hidden="true" tabindex="-1"></a>airbnb <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/listings.csv&quot;</span>)</span>
<span id="cb427-6"><a href="inference.html#cb427-6" aria-hidden="true" tabindex="-1"></a>airbnb</span></code></pre></div>
<pre><code>## # A tibble: 4,594 × 8
##       id neighbourhood   room_type   accommodates bathrooms bedrooms  beds price
##    &lt;dbl&gt; &lt;chr&gt;           &lt;chr&gt;              &lt;dbl&gt; &lt;chr&gt;        &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1     1 Downtown        Entire hom…            5 2 baths          2     2   150
##  2     2 Downtown Easts… Entire hom…            4 2 baths          2     2   132
##  3     3 West End        Entire hom…            2 1 bath           1     1    85
##  4     4 Kensington-Ced… Entire hom…            2 1 bath           1     0   146
##  5     5 Kensington-Ced… Entire hom…            4 1 bath           1     2   110
##  6     6 Hastings-Sunri… Entire hom…            4 1 bath           2     3   195
##  7     7 Renfrew-Collin… Entire hom…            8 3 baths          4     5   130
##  8     8 Mount Pleasant  Entire hom…            2 1 bath           1     1    94
##  9     9 Grandview-Wood… Private ro…            2 1 privat…        1     1    79
## 10    10 West End        Private ro…            2 1 privat…        1     1    75
## # … with 4,584 more rows</code></pre>
<p>Suppose the city of Vancouver wants information about Airbnb rentals to help
plan city bylaws, and they want to know how many Airbnb places are listed as
entire homes and apartments (rather than as private or shared rooms). Therefore
they may want to estimate the true proportion of all Airbnb listings where the
“type of place” is listed as “entire home or apartment.” Of course, we usually
do not have access to the true population, but here let’s imagine (for learning
purposes) that our data set represents the population of all Airbnb rental
listings in Vancouver, Canada. We can find the proportion of listings where
<code>room_type == "Entire home/apt"</code>.
</p>
<div class="sourceCode" id="cb429"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb429-1"><a href="inference.html#cb429-1" aria-hidden="true" tabindex="-1"></a>airbnb <span class="sc">|&gt;</span></span>
<span id="cb429-2"><a href="inference.html#cb429-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb429-3"><a href="inference.html#cb429-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span>  <span class="fu">sum</span>(room_type <span class="sc">==</span> <span class="st">&quot;Entire home/apt&quot;</span>),</span>
<span id="cb429-4"><a href="inference.html#cb429-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">proportion =</span> <span class="fu">sum</span>(room_type <span class="sc">==</span> <span class="st">&quot;Entire home/apt&quot;</span>) <span class="sc">/</span> <span class="fu">nrow</span>(airbnb)</span>
<span id="cb429-5"><a href="inference.html#cb429-5" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code>## # A tibble: 1 × 2
##       n proportion
##   &lt;int&gt;      &lt;dbl&gt;
## 1  3434      0.747</code></pre>
<p>We can see that the proportion of <code>Entire home/apt</code> listings in
the data set is 0.747. This
value, 0.747, is the population parameter. Remember, this
parameter value is usually unknown in real data analysis problems, as it is
typically not possible to make measurements for an entire population.</p>
<p>Instead, perhaps we can approximate it with a small subset of data!
To investigate this idea, let’s try randomly selecting 40 listings (<em>i.e.,</em> taking a random sample of
size 40 from our population), and computing the proportion for that sample.
We will use the <code>rep_sample_n</code> function  from the <code>infer</code>
package  to take the sample. The arguments of <code>rep_sample_n</code> are (1) the data frame to
sample from, and (2) the size of the sample to take.</p>
<div class="sourceCode" id="cb431"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb431-1"><a href="inference.html#cb431-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(infer)</span>
<span id="cb431-2"><a href="inference.html#cb431-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb431-3"><a href="inference.html#cb431-3" aria-hidden="true" tabindex="-1"></a>sample_1 <span class="ot">&lt;-</span> <span class="fu">rep_sample_n</span>(<span class="at">tbl =</span> airbnb, <span class="at">size =</span> <span class="dv">40</span>)</span>
<span id="cb431-4"><a href="inference.html#cb431-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb431-5"><a href="inference.html#cb431-5" aria-hidden="true" tabindex="-1"></a>airbnb_sample_1 <span class="ot">&lt;-</span> <span class="fu">summarize</span>(sample_1,</span>
<span id="cb431-6"><a href="inference.html#cb431-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">n =</span> <span class="fu">sum</span>(room_type <span class="sc">==</span> <span class="st">&quot;Entire home/apt&quot;</span>),</span>
<span id="cb431-7"><a href="inference.html#cb431-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">prop =</span> <span class="fu">sum</span>(room_type <span class="sc">==</span> <span class="st">&quot;Entire home/apt&quot;</span>) <span class="sc">/</span> <span class="dv">40</span></span>
<span id="cb431-8"><a href="inference.html#cb431-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb431-9"><a href="inference.html#cb431-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb431-10"><a href="inference.html#cb431-10" aria-hidden="true" tabindex="-1"></a>airbnb_sample_1</span></code></pre></div>
<pre><code>## # A tibble: 1 × 3
##   replicate     n  prop
##       &lt;int&gt; &lt;int&gt; &lt;dbl&gt;
## 1         1    28   0.7</code></pre>
<p>Here we see that the proportion of entire home/apartment listings in this
random sample is 0.7. Wow—that’s close to our
true population value! But remember, we computed the proportion using a random sample of size 40.
This has two consequences. First, this value is only an <em>estimate</em>, i.e., our best guess
of our population parameter using this sample. Given that it is a single value that we are estimating, we often
refer to it as a <strong>point estimate</strong>. And second, since the sample was random,
if we were to take <em>another</em> random sample of size 40 and compute the proportion for that sample,
we would not get the same answer:</p>
<div class="sourceCode" id="cb433"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb433-1"><a href="inference.html#cb433-1" aria-hidden="true" tabindex="-1"></a>sample_2 <span class="ot">&lt;-</span> <span class="fu">rep_sample_n</span>(airbnb, <span class="at">size =</span> <span class="dv">40</span>)</span>
<span id="cb433-2"><a href="inference.html#cb433-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb433-3"><a href="inference.html#cb433-3" aria-hidden="true" tabindex="-1"></a>airbnb_sample_2 <span class="ot">&lt;-</span> <span class="fu">summarize</span>(sample_2,</span>
<span id="cb433-4"><a href="inference.html#cb433-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">n =</span> <span class="fu">sum</span>(room_type <span class="sc">==</span> <span class="st">&quot;Entire home/apt&quot;</span>),</span>
<span id="cb433-5"><a href="inference.html#cb433-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">prop =</span> <span class="fu">sum</span>(room_type <span class="sc">==</span> <span class="st">&quot;Entire home/apt&quot;</span>) <span class="sc">/</span> <span class="dv">40</span></span>
<span id="cb433-6"><a href="inference.html#cb433-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb433-7"><a href="inference.html#cb433-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb433-8"><a href="inference.html#cb433-8" aria-hidden="true" tabindex="-1"></a>airbnb_sample_2</span></code></pre></div>
<pre><code>## # A tibble: 1 × 3
##   replicate     n  prop
##       &lt;int&gt; &lt;int&gt; &lt;dbl&gt;
## 1         1    35 0.875</code></pre>
<p>Confirmed! We get a different value for our estimate this time.
That means that our point estimate might be unreliable. Indeed, estimates vary from sample to
sample due to <strong>sampling variability</strong>. But just how much
should we expect the estimates of our random samples to vary?
Or in other words, how much can we really trust our point estimate based on a single sample?</p>
<p>To understand this, we will simulate many samples (much more than just two)
of size 40 from our population of listings and calculate the proportion of
entire home/apartment listings in each sample. This simulation will create
many sample proportions, which we can visualize using a histogram. The
distribution of the estimate for all possible samples of a given size (which we
commonly refer to as <span class="math inline">\(n\)</span>) from a population is called
a <strong>sampling distribution</strong>.  The sampling distribution will help us see how much we would
expect our sample proportions from this population to vary for samples of size 40.</p>
<p>We again use the <code>rep_sample_n</code> to take samples of size 40 from our
population of Airbnb listings. But this time we set the <code>reps</code> argument to 20,000 to specify
that we want to take 20,000 samples of size 40. 
</p>
<div class="sourceCode" id="cb435"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb435-1"><a href="inference.html#cb435-1" aria-hidden="true" tabindex="-1"></a>samples <span class="ot">&lt;-</span> <span class="fu">rep_sample_n</span>(airbnb, <span class="at">size =</span> <span class="dv">40</span>, <span class="at">reps =</span> <span class="dv">20000</span>)</span>
<span id="cb435-2"><a href="inference.html#cb435-2" aria-hidden="true" tabindex="-1"></a>samples</span></code></pre></div>
<pre><code>## # A tibble: 800,000 × 9
## # Groups:   replicate [20,000]
##    replicate    id neighbourhood room_type accommodates bathrooms bedrooms  beds
##        &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;         &lt;chr&gt;            &lt;dbl&gt; &lt;chr&gt;        &lt;dbl&gt; &lt;dbl&gt;
##  1         1  4403 Downtown      Entire h…            2 1 bath           1     1
##  2         1   902 Kensington-C… Private …            2 1 shared…        1     1
##  3         1  3808 Hastings-Sun… Entire h…            6 1.5 baths        1     3
##  4         1   561 Kensington-C… Entire h…            6 1 bath           2     2
##  5         1  3385 Mount Pleasa… Entire h…            4 1 bath           1     1
##  6         1  4232 Shaughnessy   Entire h…            6 1.5 baths        2     2
##  7         1  1169 Downtown      Entire h…            3 1 bath           1     1
##  8         1   959 Kitsilano     Private …            1 1.5 shar…        1     1
##  9         1  2171 Downtown      Entire h…            2 1 bath           1     1
## 10         1  1258 Dunbar South… Entire h…            4 1 bath           2     2
## # … with 799,990 more rows, and 1 more variable: price &lt;dbl&gt;</code></pre>
<p>Notice that the column <code>replicate</code> indicates the replicate, or sample, to which
each listing belongs. Above since by default R only prints the first few rows,
it looks like all of the listing have <code>replicate</code> set to 1. But you can
check the last few entries using the <code>tail()</code> function to verify that
we indeed created 20,000 samples (or replicates).</p>
<div class="sourceCode" id="cb437"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb437-1"><a href="inference.html#cb437-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(samples)</span></code></pre></div>
<pre><code>## # A tibble: 6 × 9
## # Groups:   replicate [1]
##   replicate    id neighbourhood  room_type accommodates bathrooms bedrooms  beds
##       &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;          &lt;chr&gt;            &lt;dbl&gt; &lt;chr&gt;        &lt;dbl&gt; &lt;dbl&gt;
## 1     20000  3414 Marpole        Entire h…            4 1 bath           2     2
## 2     20000  1974 Hastings-Sunr… Private …            2 1 shared…        1     1
## 3     20000  1846 Riley Park     Entire h…            4 1 bath           2     3
## 4     20000   862 Downtown       Entire h…            5 2 baths          2     2
## 5     20000  3295 Victoria-Fras… Private …            2 1 shared…        1     1
## 6     20000   997 Dunbar Southl… Private …            1 1.5 shar…        1     1
## # … with 1 more variable: price &lt;dbl&gt;</code></pre>
<p>Now that we have obtained the samples, we need to compute the
proportion of entire home/apartment listings in each sample.
We first group the data by the <code>replicate</code> variable—to group the
set of listings in each sample together—and then use <code>summarize</code>
to compute the proportion in each sample.
We print both the first and last few entries of the resulting data frame
below to show that we end up with 20,000 point estimates, one for each of the 20,000 samples.</p>
<div class="sourceCode" id="cb439"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb439-1"><a href="inference.html#cb439-1" aria-hidden="true" tabindex="-1"></a>sample_estimates <span class="ot">&lt;-</span> samples <span class="sc">|&gt;</span></span>
<span id="cb439-2"><a href="inference.html#cb439-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(replicate) <span class="sc">|&gt;</span></span>
<span id="cb439-3"><a href="inference.html#cb439-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">sample_proportion =</span> <span class="fu">sum</span>(room_type <span class="sc">==</span> <span class="st">&quot;Entire home/apt&quot;</span>) <span class="sc">/</span> <span class="dv">40</span>)</span>
<span id="cb439-4"><a href="inference.html#cb439-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb439-5"><a href="inference.html#cb439-5" aria-hidden="true" tabindex="-1"></a>sample_estimates</span></code></pre></div>
<pre><code>## # A tibble: 20,000 × 2
##    replicate sample_proportion
##        &lt;int&gt;             &lt;dbl&gt;
##  1         1             0.85 
##  2         2             0.85 
##  3         3             0.65 
##  4         4             0.7  
##  5         5             0.75 
##  6         6             0.725
##  7         7             0.775
##  8         8             0.775
##  9         9             0.7  
## 10        10             0.675
## # … with 19,990 more rows</code></pre>
<div class="sourceCode" id="cb441"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb441-1"><a href="inference.html#cb441-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(sample_estimates)</span></code></pre></div>
<pre><code>## # A tibble: 6 × 2
##   replicate sample_proportion
##       &lt;int&gt;             &lt;dbl&gt;
## 1     19995             0.75 
## 2     19996             0.675
## 3     19997             0.625
## 4     19998             0.75 
## 5     19999             0.875
## 6     20000             0.65</code></pre>
<p>We can now visualize the sampling distribution of sample proportions
for samples of size 40 using a histogram in Figure <a href="inference.html#fig:11-example-proportions7">10.2</a>. Keep in mind: in the real world,
we don’t have access to the full population. So we
can’t take many samples and can’t actually construct or visualize the sampling distribution.
We have created this particular example
such that we <em>do</em> have access to the full population, which lets us visualize the
sampling distribution directly for learning purposes.</p>
<div class="sourceCode" id="cb443"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb443-1"><a href="inference.html#cb443-1" aria-hidden="true" tabindex="-1"></a>sampling_distribution <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(sample_estimates, <span class="fu">aes</span>(<span class="at">x =</span> sample_proportion)) <span class="sc">+</span></span>
<span id="cb443-2"><a href="inference.html#cb443-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">fill =</span> <span class="st">&quot;dodgerblue3&quot;</span>, <span class="at">color =</span> <span class="st">&quot;lightgrey&quot;</span>, <span class="at">bins =</span> <span class="dv">12</span>) <span class="sc">+</span></span>
<span id="cb443-3"><a href="inference.html#cb443-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Count&quot;</span>) <span class="sc">+</span></span>
<span id="cb443-4"><a href="inference.html#cb443-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Sample proportions&quot;</span>)</span>
<span id="cb443-5"><a href="inference.html#cb443-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb443-6"><a href="inference.html#cb443-6" aria-hidden="true" tabindex="-1"></a>sampling_distribution</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:11-example-proportions7"></span>
<img src="_main_files/figure-html/11-example-proportions7-1.png" alt="Sampling distribution of the sample proportion for sample size 40." width="403.2" />
<p class="caption">
Figure 10.2: Sampling distribution of the sample proportion for sample size 40.
</p>
</div>
<p>The sampling distribution in Figure <a href="inference.html#fig:11-example-proportions7">10.2</a> appears
to be bell-shaped, is roughly symmetric, and has one peak. It is centered
around 0.7 and the sample proportions
range from about 0.4 to about
1. In fact, we can
calculate the mean of the sample proportions. </p>
<div class="sourceCode" id="cb444"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb444-1"><a href="inference.html#cb444-1" aria-hidden="true" tabindex="-1"></a>sample_estimates <span class="sc">|&gt;</span></span>
<span id="cb444-2"><a href="inference.html#cb444-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">mean =</span> <span class="fu">mean</span>(sample_proportion))</span></code></pre></div>
<pre><code>## # A tibble: 1 × 1
##    mean
##   &lt;dbl&gt;
## 1 0.747</code></pre>
<p>We notice that the sample proportions are centered around the population
proportion value, 0.747! In general, the mean of
the sampling distribution should be equal to the population proportion.
This is great news because it means that the sample proportion is neither an overestimate nor an
underestimate of the population proportion.
In other words, if you were to take many samples as we did above, there is no tendency
towards over or underestimating the population proportion.
In a real data analysis setting where you just have access to your single
sample, this implies that you would suspect that your sample point estimate is
roughly equally likely to be above or below the true population proportion.</p>
</div>
<div id="sampling-distributions-for-means" class="section level3" number="10.4.2">
<h3><span class="header-section-number">10.4.2</span> Sampling distributions for means</h3>
<p>In the previous section, our variable of interest—<code>room_type</code>—was
<em>categorical</em>, and the population parameter was a proportion. As mentioned in
the chapter introduction, there are many choices of the population parameter
for each type of variable. What if we wanted to infer something about a
population of <em>quantitative</em> variables instead? For instance, a traveler
visiting Vancouver, Canada may wish to estimate the
population <em>mean</em> (or average) price per night of Airbnb listings. Knowing
the average could help them tell whether a particular listing is overpriced.
We can visualize the population distribution of the price per night with a histogram.</p>
<div class="sourceCode" id="cb446"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb446-1"><a href="inference.html#cb446-1" aria-hidden="true" tabindex="-1"></a>population_distribution <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(airbnb, <span class="fu">aes</span>(<span class="at">x =</span> price)) <span class="sc">+</span></span>
<span id="cb446-2"><a href="inference.html#cb446-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">fill =</span> <span class="st">&quot;dodgerblue3&quot;</span>, <span class="at">color =</span> <span class="st">&quot;lightgrey&quot;</span>) <span class="sc">+</span></span>
<span id="cb446-3"><a href="inference.html#cb446-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Count&quot;</span>) <span class="sc">+</span> </span>
<span id="cb446-4"><a href="inference.html#cb446-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Price per night (Canadian dollars)&quot;</span>)</span>
<span id="cb446-5"><a href="inference.html#cb446-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb446-6"><a href="inference.html#cb446-6" aria-hidden="true" tabindex="-1"></a>population_distribution</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:11-example-means2"></span>
<img src="_main_files/figure-html/11-example-means2-1.png" alt="Population distribution of price per night (Canadian dollars) for all Airbnb listings in Vancouver, Canada." width="432" />
<p class="caption">
Figure 10.3: Population distribution of price per night (Canadian dollars) for all Airbnb listings in Vancouver, Canada.
</p>
</div>
<p>In Figure <a href="inference.html#fig:11-example-means2">10.3</a>, we see that the population distribution 
has one peak. It is also skewed (i.e., is not symmetric): most of the listings are
less than $250 per night, but a small number of listings cost much more,
creating a long tail on the histogram’s right side.
Along with visualizing the population, we can calculate the population mean,
the average price per night for all the Airbnb listings.</p>
<div class="sourceCode" id="cb447"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb447-1"><a href="inference.html#cb447-1" aria-hidden="true" tabindex="-1"></a>population_parameters <span class="ot">&lt;-</span> airbnb <span class="sc">|&gt;</span></span>
<span id="cb447-2"><a href="inference.html#cb447-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">pop_mean =</span> <span class="fu">mean</span>(price))</span>
<span id="cb447-3"><a href="inference.html#cb447-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb447-4"><a href="inference.html#cb447-4" aria-hidden="true" tabindex="-1"></a>population_parameters</span></code></pre></div>
<pre><code>## # A tibble: 1 × 1
##   pop_mean
##      &lt;dbl&gt;
## 1   154.51</code></pre>
<p>The price per night of all Airbnb rentals in Vancouver, BC
is $154.51, on average. This value is our
population parameter since we are calculating it using the population data. </p>
<p>Now suppose we did not have access to the population data (which is usually the
case!), yet we wanted to estimate the mean price per night. We could answer
this question by taking a random sample of as many Airbnb listings as our time
and resources allow. Let’s say we could do this for 40 listings. What would
such a sample look like? Let’s take advantage of the fact that we do have
access to the population data and simulate taking one random sample of 40
listings in R, again using <code>rep_sample_n</code>.
</p>
<div class="sourceCode" id="cb449"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb449-1"><a href="inference.html#cb449-1" aria-hidden="true" tabindex="-1"></a>one_sample <span class="ot">&lt;-</span> airbnb <span class="sc">|&gt;</span></span>
<span id="cb449-2"><a href="inference.html#cb449-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rep_sample_n</span>(<span class="dv">40</span>)</span></code></pre></div>
<p>We can create a histogram to visualize the distribution of observations in the
sample (Figure <a href="inference.html#fig:11-example-means-sample-hist">10.4</a>), and calculate the mean
of our sample.</p>
<div class="sourceCode" id="cb450"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb450-1"><a href="inference.html#cb450-1" aria-hidden="true" tabindex="-1"></a>sample_distribution <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(one_sample, <span class="fu">aes</span>(price)) <span class="sc">+</span></span>
<span id="cb450-2"><a href="inference.html#cb450-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">fill =</span> <span class="st">&quot;dodgerblue3&quot;</span>, <span class="at">color =</span> <span class="st">&quot;lightgrey&quot;</span>) <span class="sc">+</span></span>
<span id="cb450-3"><a href="inference.html#cb450-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Count&quot;</span>) <span class="sc">+</span> </span>
<span id="cb450-4"><a href="inference.html#cb450-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Price per night (Canadian dollars)&quot;</span>)</span>
<span id="cb450-5"><a href="inference.html#cb450-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb450-6"><a href="inference.html#cb450-6" aria-hidden="true" tabindex="-1"></a>sample_distribution</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:11-example-means-sample-hist"></span>
<img src="_main_files/figure-html/11-example-means-sample-hist-1.png" alt="Distribution of price per night (Canadian dollars) for sample of 40 Airbnb listings." width="432" />
<p class="caption">
Figure 10.4: Distribution of price per night (Canadian dollars) for sample of 40 Airbnb listings.
</p>
</div>
<div class="sourceCode" id="cb451"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb451-1"><a href="inference.html#cb451-1" aria-hidden="true" tabindex="-1"></a>estimates <span class="ot">&lt;-</span> one_sample <span class="sc">|&gt;</span></span>
<span id="cb451-2"><a href="inference.html#cb451-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">sample_mean =</span> <span class="fu">mean</span>(price))</span>
<span id="cb451-3"><a href="inference.html#cb451-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb451-4"><a href="inference.html#cb451-4" aria-hidden="true" tabindex="-1"></a>estimates</span></code></pre></div>
<pre><code>## # A tibble: 1 × 2
##   replicate sample_mean
##       &lt;int&gt;       &lt;dbl&gt;
## 1         1      155.80</code></pre>
<p>The average value of the sample of size 40
is $155.8. This
number is a point estimate for the mean of the full population.
Recall that the population mean was
$154.51. So our estimate was fairly close to
the population parameter: the mean was about
0.8%
off. Note that we usually cannot compute the estimate’s accuracy in practice
since we do not have access to the population parameter; if we did, we wouldn’t
need to estimate it!</p>
<p>Also, recall from the previous section that the point estimate can vary; if we
took another random sample from the population, our estimate’s value might
change. So then, did we just get lucky with our point estimate above? How much
does our estimate vary across different samples of size 40 in this example?
Again, since we have access to the population, we can take many samples and
plot the sampling distribution of  sample means for samples of size 40 to
get a sense for this variation. In this case, we’ll use 20,000 samples of size
40.</p>
<div class="sourceCode" id="cb453"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb453-1"><a href="inference.html#cb453-1" aria-hidden="true" tabindex="-1"></a>samples <span class="ot">&lt;-</span> <span class="fu">rep_sample_n</span>(airbnb, <span class="at">size =</span> <span class="dv">40</span>, <span class="at">reps =</span> <span class="dv">20000</span>)</span>
<span id="cb453-2"><a href="inference.html#cb453-2" aria-hidden="true" tabindex="-1"></a>samples</span></code></pre></div>
<pre><code>## # A tibble: 800,000 × 9
## # Groups:   replicate [20,000]
##    replicate    id neighbourhood room_type accommodates bathrooms bedrooms  beds
##        &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;         &lt;chr&gt;            &lt;dbl&gt; &lt;chr&gt;        &lt;dbl&gt; &lt;dbl&gt;
##  1         1  1177 Downtown      Entire h…            4 2 baths          2     2
##  2         1  4063 Downtown      Entire h…            2 1 bath           1     1
##  3         1  2641 Kitsilano     Private …            1 1 shared…        1     1
##  4         1  1941 West End      Entire h…            2 1 bath           1     1
##  5         1  2431 Mount Pleasa… Entire h…            2 1 bath           1     1
##  6         1  1871 Arbutus Ridge Entire h…            4 1 bath           2     2
##  7         1  2557 Marpole       Private …            3 1 privat…        1     2
##  8         1  3534 Downtown      Entire h…            2 1 bath           1     1
##  9         1  4379 Downtown      Entire h…            4 1 bath           1     0
## 10         1  2161 Downtown      Entire h…            4 2 baths          2     2
## # … with 799,990 more rows, and 1 more variable: price &lt;dbl&gt;</code></pre>
<p>Now we can calculate the sample mean for each replicate and plot the sampling
distribution of sample means for samples of size 40.</p>
<div class="sourceCode" id="cb455"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb455-1"><a href="inference.html#cb455-1" aria-hidden="true" tabindex="-1"></a>sample_estimates <span class="ot">&lt;-</span> samples <span class="sc">|&gt;</span></span>
<span id="cb455-2"><a href="inference.html#cb455-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(replicate) <span class="sc">|&gt;</span></span>
<span id="cb455-3"><a href="inference.html#cb455-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">sample_mean =</span> <span class="fu">mean</span>(price))</span>
<span id="cb455-4"><a href="inference.html#cb455-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb455-5"><a href="inference.html#cb455-5" aria-hidden="true" tabindex="-1"></a>sample_estimates</span></code></pre></div>
<pre><code>## # A tibble: 20,000 × 2
##    replicate sample_mean
##        &lt;int&gt;       &lt;dbl&gt;
##  1         1      160.06
##  2         2      173.18
##  3         3      131.20
##  4         4      176.96
##  5         5      125.65
##  6         6      148.84
##  7         7      134.82
##  8         8      137.26
##  9         9      166.11
## 10        10      157.81
## # … with 19,990 more rows</code></pre>
<div class="sourceCode" id="cb457"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb457-1"><a href="inference.html#cb457-1" aria-hidden="true" tabindex="-1"></a>sampling_distribution_40 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(sample_estimates, <span class="fu">aes</span>(<span class="at">x =</span> sample_mean)) <span class="sc">+</span></span>
<span id="cb457-2"><a href="inference.html#cb457-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">fill =</span> <span class="st">&quot;dodgerblue3&quot;</span>, <span class="at">color =</span> <span class="st">&quot;lightgrey&quot;</span>) <span class="sc">+</span></span>
<span id="cb457-3"><a href="inference.html#cb457-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Count&quot;</span>) <span class="sc">+</span> </span>
<span id="cb457-4"><a href="inference.html#cb457-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Sample mean price per night (Canadian dollars)&quot;</span>)</span>
<span id="cb457-5"><a href="inference.html#cb457-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb457-6"><a href="inference.html#cb457-6" aria-hidden="true" tabindex="-1"></a>sampling_distribution_40</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:11-example-means4"></span>
<img src="_main_files/figure-html/11-example-means4-1.png" alt="Sampling distribution of the sample means for sample size of 40." width="432" />
<p class="caption">
Figure 10.5: Sampling distribution of the sample means for sample size of 40.
</p>
</div>
<p>In Figure <a href="inference.html#fig:11-example-means4">10.5</a>, the sampling distribution of the mean
has one peak and is  bell-shaped. Most of the estimates are between
about $140 and
$170; but there are
a good fraction of cases outside this range (i.e., where the point estimate was
not close to the population parameter). So it does indeed look like we were
quite lucky when we estimated the population mean with only
0.8% error.</p>
<p>Let’s visualize the population distribution, distribution of the sample, and
the sampling distribution on one plot to compare them in Figure
<a href="inference.html#fig:11-example-means5">10.6</a>. Comparing these three distributions, the centers
of the distributions are all around the same price (around $150). The original
population distribution has a long right tail, and the sample distribution has
a similar shape to that of the population distribution. However, the sampling
distribution is not shaped like the population or sample distribution. Instead,
it has a bell shape, and it has a lower spread than the population or sample
distributions. The sample means vary less than the individual observations
because there will be some high values and some small values in any random
sample, which will keep the average from being too extreme.
</p>
<!---

```r
sample_estimates |>
  summarize(mean_of_sample_means = mean(sample_mean))
```

```
## # A tibble: 1 × 1
##   mean_of_sample_means
##                  <dbl>
## 1               154.35
```
Notice that the mean of the sample means is \$154.35. Recall that the population mean
was \$154.51. 
-->
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:11-example-means5"></span>
<img src="_main_files/figure-html/11-example-means5-1.png" alt="Comparison of population distribution, sample distribution, and sampling distribution." width="384" />
<p class="caption">
Figure 10.6: Comparison of population distribution, sample distribution, and sampling distribution.
</p>
</div>
<p>Given that there is quite a bit of variation in the sampling distribution of
the sample mean—i.e., the point estimate that we obtain is not very
reliable—is there any way to improve the estimate? One way to improve a
point estimate is to take a <em>larger</em> sample. To illustrate what effect this
has, we will take many samples of size 20, 50, 100, and 500, and plot the
sampling distribution of the sample mean. We indicate the mean of the sampling
distribution with a red vertical line.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:11-example-means7"></span>
<img src="_main_files/figure-html/11-example-means7-1.png" alt="Comparison of sampling distributions, with mean highlighted as a vertical red line." width="672" />
<p class="caption">
Figure 10.7: Comparison of sampling distributions, with mean highlighted as a vertical red line.
</p>
</div>
<p>Based on the visualization in Figure <a href="inference.html#fig:11-example-means7">10.7</a>, three points
about the sample mean become clear. First, the mean of the sample mean (across
samples) is equal to the population mean. In other words, the sampling
distribution is centered at the population mean. Second, increasing the size of
the sample decreases the spread (i.e., the variability) of the sampling
distribution. Therefore, a larger sample size results in a more reliable point
estimate of the population parameter. And third, the distribution of the sample
mean is roughly bell-shaped. </p>
<blockquote>
<p><strong>Note:</strong> You might notice that in the <code>n = 20</code> case in Figure <a href="inference.html#fig:11-example-means7">10.7</a>,
the distribution is not <em>quite</em> bell-shaped. There is a bit of skew towards the right!
You might also notice that in the <code>n = 50</code> case and larger, that skew seems to disappear.
In general, the sampling distribution—for both means and proportions—only
becomes bell-shaped <em>once the sample size is large enough</em>.
How large is “large enough?” Unfortunately, it depends entirely on the problem at hand. But
as a rule of thumb for many problems in practice, having a sample size of at least 20 will suffice.</p>
</blockquote>
<!--- > **Note:** If random samples of size $n$ are taken from a population, the sample mean $\bar{x}$ will be approximately Normal with mean $\mu$ and standard deviation $\frac{\sigma}{\sqrt{n}}$ as long as the sample size $n$ is large enough. $\mu$ is the population mean, $\sigma$ is the population standard deviation, $\bar{x}$ is the sample mean, and $n$ is the sample size. 
> If samples are selected from a finite population as we are doing in this chapter, we should apply a finite population correction. We multiply $\frac{\sigma}{\sqrt{n}}$ by $\sqrt{\frac{N - n}{N - 1}}$ where $N$ is the population size and $n$ is the sample size. If our sample size, $n$, is small relative to the population size, this finite correction factor is less important. 
--->
</div>
<div id="summary-2" class="section level3" number="10.4.3">
<h3><span class="header-section-number">10.4.3</span> Summary</h3>
<ol style="list-style-type: decimal">
<li>A point estimate is a single value computed using a sample from a population (e.g., a mean or proportion)</li>
<li>The sampling distribution of an estimate is the distribution of the estimate for all possible samples of a fixed size from the same population.</li>
<li>The shape of the sampling distribution is usually bell-shaped with one peak and centered at the population mean or proportion.</li>
<li>The spread of the sampling distribution is related to the sample size. As the sample size increases, the spread of the sampling distribution decreases.</li>
</ol>
</div>
</div>
<div id="bootstrapping" class="section level2" number="10.5">
<h2><span class="header-section-number">10.5</span> Bootstrapping</h2>
<div id="overview-10" class="section level3" number="10.5.1">
<h3><span class="header-section-number">10.5.1</span> Overview</h3>
<p><em>Why all this emphasis on sampling distributions?</em></p>
<p>We saw in the previous section that we could compute a <strong>point estimate</strong> of a
population parameter using a sample of observations from the population. And
since we constructed examples where we had access to the population, we could
evaluate how accurate the estimate was, and even get a sense of how much the
estimate would vary for different samples from the population. But in real
data analysis settings, we usually have <em>just one sample</em> from our population
and do not have access to the population itself. Therefore we cannot construct
the sampling distribution as we did in the previous section. And as we saw, our
sample estimate’s value can vary significantly from the population parameter.
So reporting the point estimate from a single sample alone may not be enough.
We also need to report some notion of <em>uncertainty</em> in the value of the point
estimate.</p>
<p>Unfortunately, we cannot construct the exact sampling distribution without
full access to the population. However, if we could somehow <em>approximate</em> what
the sampling distribution would look like for a sample, we could
use that approximation to then report how uncertain our sample
point estimate is (as we did above with the <em>exact</em> sampling
distribution). There are several methods to accomplish this; in this book, we
will use the  <em>bootstrap</em>. We will discuss <strong>interval estimation</strong> and
construct 
<strong>confidence intervals</strong> using just a single sample from a population. A
confidence interval is a range of plausible values for our population parameter.</p>
<p>Here is the key idea. First, if you take a big enough sample, it <em>looks like</em>
the population. Notice the histograms’ shapes for samples of different sizes
taken from the population in Figure <a href="inference.html#fig:11-example-bootstrapping0">10.8</a>. We
see that the sample’s distribution looks like that of the population for a
large enough sample.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:11-example-bootstrapping0"></span>
<img src="_main_files/figure-html/11-example-bootstrapping0-1.png" alt="Comparison of samples of different sizes from the population." width="672" />
<p class="caption">
Figure 10.8: Comparison of samples of different sizes from the population.
</p>
</div>
<p>In the previous section, we took many samples of the same size <em>from our
population</em> to get a sense of the variability of a sample estimate. But if our
sample is big enough that it looks like our population, we can pretend that our
sample <em>is</em> the population, and take more samples (with replacement) of the
same size from it instead! This very clever technique is
called <strong>the bootstrap</strong>. Note that by taking many samples from our single, observed
sample, we do not obtain the true sampling distribution, but rather an
approximation that we call <strong>the bootstrap distribution</strong>. </p>
<blockquote>
<p><strong>Note:</strong> We must sample <em>with</em> replacement when using the bootstrap.
Otherwise, if we had a sample of size <span class="math inline">\(n\)</span>, and obtained a sample from it of
size <span class="math inline">\(n\)</span> <em>without</em> replacement, it would just return our original sample!</p>
</blockquote>
<p>This section will explore how to create a bootstrap distribution from a single
sample using R. The process is visualized in Figure <a href="inference.html#fig:11-intro-bootstrap-image">10.9</a>.
For a sample of size <span class="math inline">\(n\)</span>, you:</p>
<ol style="list-style-type: decimal">
<li>Randomly select an observation from the original sample, which was drawn from the population</li>
<li>Record the observation’s value</li>
<li>Replace that observation</li>
<li>Repeat steps 1 - 3 (sampling <em>with</em> replacement) until you have <span class="math inline">\(n\)</span> observations, which form a bootstrap sample</li>
<li>Calculate the bootstrap point estimate (e.g., mean, median, proportion, slope, etc.) of the <span class="math inline">\(n\)</span> observations in your bootstrap sample</li>
<li>Repeat steps (1) - (5) many times to create a distribution of point estimates (the bootstrap distribution)</li>
<li>Calculate the plausible range of values around our observed point estimate</li>
</ol>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:11-intro-bootstrap-image"></span>
<img src="img/intro-bootstrap.jpeg" alt="Overview of the bootstrap process." width="100%" />
<p class="caption">
Figure 10.9: Overview of the bootstrap process.
</p>
</div>
</div>
<div id="bootstrapping-in-r" class="section level3" number="10.5.2">
<h3><span class="header-section-number">10.5.2</span> Bootstrapping in R</h3>
<p>Let’s continue working with our Airbnb example to illustrate how we might create
and use a bootstrap distribution using just a single sample from the population.
Once again, suppose we are
interested in estimating the population mean price per night of all Airbnb
listings in Vancouver, Canada, using a single sample size of 40.
Recall our point estimate was $155.8. The
histogram of prices in the sample is displayed in Figure <a href="inference.html#fig:11-bootstrapping1">10.10</a>.</p>
<div class="sourceCode" id="cb458"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb458-1"><a href="inference.html#cb458-1" aria-hidden="true" tabindex="-1"></a>one_sample</span></code></pre></div>
<pre><code>## # A tibble: 40 × 8
##       id neighbourhood    room_type  accommodates bathrooms bedrooms  beds price
##    &lt;dbl&gt; &lt;chr&gt;            &lt;chr&gt;             &lt;dbl&gt; &lt;chr&gt;        &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1  3928 Marpole          Private r…            2 1 shared…        1     1    58
##  2  3013 Kensington-Ceda… Entire ho…            4 1 bath           2     2   112
##  3  3156 Downtown         Entire ho…            6 2 baths          2     2   151
##  4  3873 Dunbar Southlan… Private r…            5 1 bath           2     3   700
##  5  3632 Downtown Eastsi… Entire ho…            6 2 baths          3     3   157
##  6   296 Kitsilano        Private r…            1 1 shared…        1     1   100
##  7  3514 West End         Entire ho…            2 1 bath           1     1   110
##  8   594 Sunset           Entire ho…            5 1 bath           3     3   105
##  9  3305 Dunbar Southlan… Entire ho…            4 1 bath           1     2   196
## 10   938 Downtown         Entire ho…            7 2 baths          2     3   269
## # … with 30 more rows</code></pre>
<div class="sourceCode" id="cb460"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb460-1"><a href="inference.html#cb460-1" aria-hidden="true" tabindex="-1"></a>one_sample_dist <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(one_sample, <span class="fu">aes</span>(price)) <span class="sc">+</span></span>
<span id="cb460-2"><a href="inference.html#cb460-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">fill =</span> <span class="st">&quot;dodgerblue3&quot;</span>, <span class="at">color =</span> <span class="st">&quot;lightgrey&quot;</span>) <span class="sc">+</span></span>
<span id="cb460-3"><a href="inference.html#cb460-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Count&quot;</span>) <span class="sc">+</span> </span>
<span id="cb460-4"><a href="inference.html#cb460-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Price per night (Canadian dollars)&quot;</span>)</span>
<span id="cb460-5"><a href="inference.html#cb460-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb460-6"><a href="inference.html#cb460-6" aria-hidden="true" tabindex="-1"></a>one_sample_dist</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:11-bootstrapping1"></span>
<img src="_main_files/figure-html/11-bootstrapping1-1.png" alt="Histogram of price per night (Canadian dollars) for one sample of size 40." width="432" />
<p class="caption">
Figure 10.10: Histogram of price per night (Canadian dollars) for one sample of size 40.
</p>
</div>
<p>The histogram for the sample is skewed, with a few observations out to the right. The
mean of the sample is $155.8.
Remember, in practice, we usually only have this one sample from the population. So
this sample and estimate are the only data we can work with.</p>
<p>We now perform steps (1) - (5) listed above to generate a single bootstrap
sample in R and calculate a point estimate from that bootstrap sample. We will
use the <code>rep_sample_n</code> function as we did when we were
creating our sampling distribution. But critically, note that we now
pass <code>one_sample</code>—our single sample of size 40—as the first argument.
And since we need to sample with replacement,
we change the argument for <code>replace</code> from its default value of <code>FALSE</code> to <code>TRUE</code>.

</p>
<div class="sourceCode" id="cb461"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb461-1"><a href="inference.html#cb461-1" aria-hidden="true" tabindex="-1"></a>boot1 <span class="ot">&lt;-</span> one_sample <span class="sc">|&gt;</span></span>
<span id="cb461-2"><a href="inference.html#cb461-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rep_sample_n</span>(<span class="at">size =</span> <span class="dv">40</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>, <span class="at">reps =</span> <span class="dv">1</span>)</span>
<span id="cb461-3"><a href="inference.html#cb461-3" aria-hidden="true" tabindex="-1"></a>boot1_dist <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(boot1, <span class="fu">aes</span>(price)) <span class="sc">+</span></span>
<span id="cb461-4"><a href="inference.html#cb461-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">fill =</span> <span class="st">&quot;dodgerblue3&quot;</span>, <span class="at">color =</span> <span class="st">&quot;lightgrey&quot;</span>) <span class="sc">+</span></span>
<span id="cb461-5"><a href="inference.html#cb461-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Count&quot;</span>) <span class="sc">+</span> </span>
<span id="cb461-6"><a href="inference.html#cb461-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Price per night (Canadian dollars)&quot;</span>)</span>
<span id="cb461-7"><a href="inference.html#cb461-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb461-8"><a href="inference.html#cb461-8" aria-hidden="true" tabindex="-1"></a>boot1_dist</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:11-bootstrapping3"></span>
<img src="_main_files/figure-html/11-bootstrapping3-1.png" alt="Bootstrap distribution." width="432" />
<p class="caption">
Figure 10.11: Bootstrap distribution.
</p>
</div>
<div class="sourceCode" id="cb462"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb462-1"><a href="inference.html#cb462-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summarize</span>(boot1, <span class="at">mean =</span> <span class="fu">mean</span>(price))</span></code></pre></div>
<pre><code>## # A tibble: 1 × 2
##   replicate   mean
##       &lt;int&gt;  &lt;dbl&gt;
## 1         1 164.20</code></pre>
<p>Notice in Figure <a href="inference.html#fig:11-bootstrapping3">10.11</a> that the histogram of our bootstrap sample
has a similar shape to the original sample histogram. Though the shapes of
the distributions are similar, they are not identical. You’ll also notice that
the original sample mean and the bootstrap sample mean differ. How might that
happen? Remember that we are sampling with replacement from the original
sample, so we don’t end up with the same sample values again. We are <em>pretending</em>
that our single sample is close to the population, and we are trying to
mimic drawing another sample from the population by drawing one from our original
sample.</p>
<p>Let’s now take 20,000 bootstrap samples from the original sample (<code>one_sample</code>)<br />
using <code>rep_sample_n</code>, and calculate the means for
each of those replicates. Recall that this assumes that <code>one_sample</code> <em>looks like</em>
our original population; but since we do not have access to the population itself,
this is often the best we can do.</p>
<div class="sourceCode" id="cb464"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb464-1"><a href="inference.html#cb464-1" aria-hidden="true" tabindex="-1"></a>boot20000 <span class="ot">&lt;-</span> one_sample <span class="sc">|&gt;</span></span>
<span id="cb464-2"><a href="inference.html#cb464-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rep_sample_n</span>(<span class="at">size =</span> <span class="dv">40</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>, <span class="at">reps =</span> <span class="dv">20000</span>)</span>
<span id="cb464-3"><a href="inference.html#cb464-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb464-4"><a href="inference.html#cb464-4" aria-hidden="true" tabindex="-1"></a>boot20000</span></code></pre></div>
<pre><code>## # A tibble: 800,000 × 9
## # Groups:   replicate [20,000]
##    replicate    id neighbourhood room_type accommodates bathrooms bedrooms  beds
##        &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;         &lt;chr&gt;            &lt;dbl&gt; &lt;chr&gt;        &lt;dbl&gt; &lt;dbl&gt;
##  1         1  1276 Hastings-Sun… Entire h…            2 1 bath           1     1
##  2         1  3235 Hastings-Sun… Entire h…            2 1 bath           1     1
##  3         1  1301 Oakridge      Entire h…           12 2 baths          2    12
##  4         1   118 Grandview-Wo… Entire h…            4 1 bath           2     2
##  5         1  2550 Downtown Eas… Private …            2 1.5 shar…        1     1
##  6         1  1006 Grandview-Wo… Entire h…            5 1 bath           3     4
##  7         1  3632 Downtown Eas… Entire h…            6 2 baths          3     3
##  8         1  1923 West End      Entire h…            4 2 baths          2     2
##  9         1  3873 Dunbar South… Private …            5 1 bath           2     3
## 10         1  2349 Kerrisdale    Private …            2 1 shared…        1     1
## # … with 799,990 more rows, and 1 more variable: price &lt;dbl&gt;</code></pre>
<div class="sourceCode" id="cb466"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb466-1"><a href="inference.html#cb466-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(boot20000)</span></code></pre></div>
<pre><code>## # A tibble: 6 × 9
## # Groups:   replicate [1]
##   replicate    id neighbourhood  room_type accommodates bathrooms bedrooms  beds
##       &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;          &lt;chr&gt;            &lt;dbl&gt; &lt;chr&gt;        &lt;dbl&gt; &lt;dbl&gt;
## 1     20000  1949 Kitsilano      Entire h…            3 1 bath           1     1
## 2     20000  1025 Kensington-Ce… Entire h…            3 1 bath           1     1
## 3     20000  3013 Kensington-Ce… Entire h…            4 1 bath           2     2
## 4     20000  2868 Downtown       Entire h…            2 1 bath           1     1
## 5     20000  3156 Downtown       Entire h…            6 2 baths          2     2
## 6     20000  1923 West End       Entire h…            4 2 baths          2     2
## # … with 1 more variable: price &lt;dbl&gt;</code></pre>
<p>Let’s take a look at histograms of the first six replicates of our bootstrap samples.</p>
<div class="sourceCode" id="cb468"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb468-1"><a href="inference.html#cb468-1" aria-hidden="true" tabindex="-1"></a>six_bootstrap_samples <span class="ot">&lt;-</span> boot20000 <span class="sc">|&gt;</span></span>
<span id="cb468-2"><a href="inference.html#cb468-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(replicate <span class="sc">&lt;=</span> <span class="dv">6</span>)</span>
<span id="cb468-3"><a href="inference.html#cb468-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb468-4"><a href="inference.html#cb468-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(six_bootstrap_samples, <span class="fu">aes</span>(price)) <span class="sc">+</span></span>
<span id="cb468-5"><a href="inference.html#cb468-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">fill =</span> <span class="st">&quot;dodgerblue3&quot;</span>, <span class="at">color =</span> <span class="st">&quot;lightgrey&quot;</span>) <span class="sc">+</span></span>
<span id="cb468-6"><a href="inference.html#cb468-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Price per night (Canadian dollars)&quot;</span>) <span class="sc">+</span></span>
<span id="cb468-7"><a href="inference.html#cb468-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Count&quot;</span>) <span class="sc">+</span> </span>
<span id="cb468-8"><a href="inference.html#cb468-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>replicate)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:11-bootstrapping-six-bootstrap-samples"></span>
<img src="_main_files/figure-html/11-bootstrapping-six-bootstrap-samples-1.png" alt="Histograms of first six replicates of bootstrap samples." width="672" />
<p class="caption">
Figure 10.12: Histograms of first six replicates of bootstrap samples.
</p>
</div>
<p>We see in Figure <a href="inference.html#fig:11-bootstrapping-six-bootstrap-samples">10.12</a> how the
bootstrap samples differ. We can also calculate the sample mean for each of
these six replicates.</p>
<div class="sourceCode" id="cb469"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb469-1"><a href="inference.html#cb469-1" aria-hidden="true" tabindex="-1"></a>six_bootstrap_samples <span class="sc">|&gt;</span></span>
<span id="cb469-2"><a href="inference.html#cb469-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(replicate) <span class="sc">|&gt;</span></span>
<span id="cb469-3"><a href="inference.html#cb469-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">mean =</span> <span class="fu">mean</span>(price))</span></code></pre></div>
<pre><code>## # A tibble: 6 × 2
##   replicate   mean
##       &lt;int&gt;  &lt;dbl&gt;
## 1         1 177.2 
## 2         2 131.45
## 3         3 179.10
## 4         4 171.35
## 5         5 191.32
## 6         6 170.05</code></pre>
<p>We can see that the bootstrap sample distributions and the sample means are
different. They are different because we are sampling <em>with replacement</em>. We
will now calculate point estimates for our 20,000 bootstrap samples and
generate a bootstrap distribution of our point estimates. The bootstrap
distribution (Figure <a href="inference.html#fig:11-bootstrapping5">10.13</a>) suggests how we might expect
our point estimate to behave if we took another sample.</p>
<div class="sourceCode" id="cb471"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb471-1"><a href="inference.html#cb471-1" aria-hidden="true" tabindex="-1"></a>boot20000_means <span class="ot">&lt;-</span> boot20000 <span class="sc">|&gt;</span></span>
<span id="cb471-2"><a href="inference.html#cb471-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(replicate) <span class="sc">|&gt;</span></span>
<span id="cb471-3"><a href="inference.html#cb471-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">mean =</span> <span class="fu">mean</span>(price))</span>
<span id="cb471-4"><a href="inference.html#cb471-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb471-5"><a href="inference.html#cb471-5" aria-hidden="true" tabindex="-1"></a>boot20000_means</span></code></pre></div>
<pre><code>## # A tibble: 20,000 × 2
##    replicate   mean
##        &lt;int&gt;  &lt;dbl&gt;
##  1         1 177.2 
##  2         2 131.45
##  3         3 179.10
##  4         4 171.35
##  5         5 191.32
##  6         6 170.05
##  7         7 178.83
##  8         8 154.78
##  9         9 163.85
## 10        10 209.28
## # … with 19,990 more rows</code></pre>
<div class="sourceCode" id="cb473"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb473-1"><a href="inference.html#cb473-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(boot20000_means)</span></code></pre></div>
<pre><code>## # A tibble: 6 × 2
##   replicate   mean
##       &lt;int&gt;  &lt;dbl&gt;
## 1     19995 130.40
## 2     19996 189.18
## 3     19997 168.98
## 4     19998 168.23
## 5     19999 155.73
## 6     20000 136.95</code></pre>
<div class="sourceCode" id="cb475"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb475-1"><a href="inference.html#cb475-1" aria-hidden="true" tabindex="-1"></a>boot_est_dist <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(boot20000_means, <span class="fu">aes</span>(<span class="at">x =</span> mean)) <span class="sc">+</span></span>
<span id="cb475-2"><a href="inference.html#cb475-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">fill =</span> <span class="st">&quot;dodgerblue3&quot;</span>, <span class="at">color =</span> <span class="st">&quot;lightgrey&quot;</span>) <span class="sc">+</span></span>
<span id="cb475-3"><a href="inference.html#cb475-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Count&quot;</span>) <span class="sc">+</span></span>
<span id="cb475-4"><a href="inference.html#cb475-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Sample mean price per night </span><span class="sc">\n</span><span class="st"> (Canadian dollars)&quot;</span>) </span>
<span id="cb475-5"><a href="inference.html#cb475-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb475-6"><a href="inference.html#cb475-6" aria-hidden="true" tabindex="-1"></a>boot_est_dist</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:11-bootstrapping5"></span>
<img src="_main_files/figure-html/11-bootstrapping5-1.png" alt="Distribution of the bootstrap sample means." width="432" />
<p class="caption">
Figure 10.13: Distribution of the bootstrap sample means.
</p>
</div>
<p>Let’s compare the bootstrap distribution—which we construct by taking many samples from our original sample of size 40—with
the true sampling distribution—which corresponds to taking many samples from the population.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:11-bootstrapping6"></span>
<img src="_main_files/figure-html/11-bootstrapping6-1.png" alt="Comparison of the distribution of the bootstrap sample means and sampling distribution." width="672" />
<p class="caption">
Figure 10.14: Comparison of the distribution of the bootstrap sample means and sampling distribution.
</p>
</div>
<p>There are two essential points that we can take away from Figure

<a href="inference.html#fig:11-bootstrapping6">10.14</a>. First, the shape and spread of the true sampling
distribution and the bootstrap distribution are similar; the bootstrap
distribution lets us get a sense of the point estimate’s variability. The
second important point is that the means of these two distributions are
different. The sampling distribution is centered at
$154.51, the population mean value. However, the bootstrap
distribution is centered at the original sample’s mean price per night,
$155.87. Because we are resampling from the
original sample repeatedly, we see that the bootstrap distribution is centered
at the original sample’s mean value (unlike the sampling distribution of the
sample mean, which is centered at the population parameter value).</p>
<p>Figure
<a href="inference.html#fig:11-bootstrapping7">10.15</a> summarizes the bootstrapping process.
The idea here is that we can use this distribution of bootstrap sample means to
approximate the sampling distribution of the sample means when we only have one
sample. Since the bootstrap distribution pretty well approximates the sampling
distribution spread, we can use the bootstrap spread to help us develop a
plausible range for our population parameter along with our estimate!</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:11-bootstrapping7"></span>
<img src="_main_files/figure-html/11-bootstrapping7-1.png" alt="Summary of bootstrapping process." width="672" />
<p class="caption">
Figure 10.15: Summary of bootstrapping process.
</p>
</div>
</div>
<div id="using-the-bootstrap-to-calculate-a-plausible-range" class="section level3" number="10.5.3">
<h3><span class="header-section-number">10.5.3</span> Using the bootstrap to calculate a plausible range</h3>
<p>Now that we have constructed our bootstrap distribution, let’s use it to create
an approximate 95% percentile bootstrap confidence interval.
A <strong>confidence interval</strong>  is a range of plausible values for the population parameter. We will
find the range of values covering the middle 95% of the bootstrap
distribution, giving us a 95% confidence interval. You may be wondering, what
does “95% confidence” mean? If we took 100 random samples and calculated 100
95% confidence intervals, then about 95% of the ranges would capture the
population parameter’s value. Note there’s nothing special about 95%. We
could have used other levels, such as 90% or 99%. There is a balance between
our level of confidence and precision. A higher confidence level corresponds to
a wider range of the interval, and a lower confidence level corresponds to a
narrower range. Therefore the level we choose is based on what chance we are
willing to take of being wrong based on the implications of being wrong for our
application. In general, we choose confidence levels to be comfortable with our
level of uncertainty but not so strict that the interval is unhelpful. For
instance, if our decision impacts human life and the implications of being
wrong are deadly, we may want to be very confident and choose a higher
confidence level.</p>
<p>To calculate a 95% percentile bootstrap confidence interval, we will do the following:</p>
<ol style="list-style-type: decimal">
<li>Arrange the observations in the bootstrap distribution in ascending order</li>
<li>Find the value such that 2.5% of observations fall below it (the 2.5% percentile). Use that value as the lower bound of the interval</li>
<li>Find the value such that 97.5% of observations fall below it (the 97.5% percentile). Use that value as the upper bound of the interval</li>
</ol>
<p>To do this in R, we can use the <code>quantile()</code> function:


</p>
<div class="sourceCode" id="cb476"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb476-1"><a href="inference.html#cb476-1" aria-hidden="true" tabindex="-1"></a>bounds <span class="ot">&lt;-</span> boot20000_means <span class="sc">|&gt;</span></span>
<span id="cb476-2"><a href="inference.html#cb476-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(mean) <span class="sc">|&gt;</span></span>
<span id="cb476-3"><a href="inference.html#cb476-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>() <span class="sc">|&gt;</span></span>
<span id="cb476-4"><a href="inference.html#cb476-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">quantile</span>(<span class="fu">c</span>(<span class="fl">0.025</span>, <span class="fl">0.975</span>))</span>
<span id="cb476-5"><a href="inference.html#cb476-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb476-6"><a href="inference.html#cb476-6" aria-hidden="true" tabindex="-1"></a>bounds</span></code></pre></div>
<pre><code>##  2.5% 97.5% 
##   119   204</code></pre>
<p>Our interval, $119.28 to $203.63, captures
the middle 95% of the sample mean prices in the bootstrap distribution. We can
visualize the interval on our distribution in Figure
<a href="inference.html#fig:11-bootstrapping9">10.16</a>.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:11-bootstrapping9"></span>
<img src="_main_files/figure-html/11-bootstrapping9-1.png" alt="Distribution of the bootstrap sample means with percentile lower and upper bounds." width="624" />
<p class="caption">
Figure 10.16: Distribution of the bootstrap sample means with percentile lower and upper bounds.
</p>
</div>
<p>To finish our estimation of the population parameter, we would report the point
estimate and our confidence interval’s lower and upper bounds. Here the sample
mean price-per-night of 40 Airbnb listings was
$155.8, and we are 95% “confident” that the true
population mean price-per-night for all Airbnb listings in Vancouver is between
$(119.28, 203.63).
Notice that our interval does indeed contain the true
population mean value, $154.51! However, in
practice, we would not know whether our interval captured the population
parameter or not because we usually only have a single sample, not the entire
population. This is the best we can do when we only have one sample!</p>
<p>This chapter is only the beginning of the journey into statistical inference.
We can extend the concepts learned here to do much more than report point
estimates and confidence intervals, such as testing for real differences
between populations, tests for associations between variables, and so much
more. We have just scratched the surface of statistical inference; however, the
material presented here will serve as the foundation for more advanced
statistical techniques you may learn about in the future!</p>
</div>
</div>
<div id="exercises-9" class="section level2" number="10.6">
<h2><span class="header-section-number">10.6</span> Exercises</h2>
<p>Practice exercises for the material covered in this chapter
can be found in the two accompanying worksheets
(<a href="https://github.com/UBC-DSCI/data-science-a-first-intro-worksheets/blob/main/worksheet_11/worksheet_11.ipynb">first worksheet</a>
and <a href="https://github.com/UBC-DSCI/data-science-a-first-intro-worksheets/blob/main/worksheet_12/worksheet_12.ipynb">second worksheet</a>).
The worksheets try to provide automated feedback
and help guide you through the problems.
To make sure this functionality works as intended,
please follow the instructions for computer setup needed to run the worksheets
found in Chapter <a href="move-to-your-own-machine.html#move-to-your-own-machine">13</a>.</p>
</div>
<div id="additional-resources-6" class="section level2" number="10.7">
<h2><span class="header-section-number">10.7</span> Additional resources</h2>
<ul>
<li>Chapters 7 to 10 of <a href="https://moderndive.com/">Modern Dive</a> provide a great next step in learning about inference. In particular, Chapters 7 and 8 cover sampling and bootstrapping using <code>tidyverse</code> and <code>infer</code> in a slightly more in-depth manner than the present chapter. Chapters 9 and 10 take the next step beyond the scope of this chapter and begin to provide some of the initial mathematical underpinnings of inference and more advanced applications of the concept of inference in testing hypotheses and performing regression. This material offers a great starting point for getting more into the technical side of statistics.</li>
<li>Chapters 4 to 7 of <a href="https://www.openintro.org/">OpenIntro Statistics - Fourth Edition</a> provide a good next step after Modern Dive. Although it is still certainly an introductory text, things get a bit more mathematical here. Depending on your background, you may actually want to start going through Chapters 1 to 3 first, where you will learn some fundamental concepts in probability theory. Although it may seem like a diversion, probability theory is <em>the language of statistics</em>; if you have a solid grasp of probability, more advanced statistics will come naturally to you!</li>
</ul>

</div>
</div>
<h3>References</h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-insideairbnb" class="csl-entry">
Cox, Murray. n.d. <span>“Inside <span>Airbnb</span>.”</span> <a href="http://insideairbnb.com/">http://insideairbnb.com/</a>.
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="clustering.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="getting-started-with-jupyter.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/inference.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
